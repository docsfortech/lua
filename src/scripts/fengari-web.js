var LIB=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=34)}([function(t,e,r){"use strict";
/**
@license MIT

Copyright Â© 2017-2018 Benoit Giannangeli
Copyright Â© 2017-2018 Daurnimator
Copyright Â© 1994â€“2017 Lua.org, PUC-Rio.
*/var n=r(5);t.exports.FENGARI_AUTHORS=n.FENGARI_AUTHORS,t.exports.FENGARI_COPYRIGHT=n.FENGARI_COPYRIGHT,t.exports.FENGARI_RELEASE=n.FENGARI_RELEASE,t.exports.FENGARI_VERSION=n.FENGARI_VERSION,t.exports.FENGARI_VERSION_MAJOR=n.FENGARI_VERSION_MAJOR,t.exports.FENGARI_VERSION_MINOR=n.FENGARI_VERSION_MINOR,t.exports.FENGARI_VERSION_NUM=n.FENGARI_VERSION_NUM,t.exports.FENGARI_VERSION_RELEASE=n.FENGARI_VERSION_RELEASE,t.exports.luastring_eq=n.luastring_eq,t.exports.luastring_indexOf=n.luastring_indexOf,t.exports.luastring_of=n.luastring_of,t.exports.to_jsstring=n.to_jsstring,t.exports.to_luastring=n.to_luastring,t.exports.to_uristring=n.to_uristring;var a=r(3),u=r(2),o=r(7),s=r(17);t.exports.luaconf=a,t.exports.lua=u,t.exports.lauxlib=o,t.exports.lualib=s},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var s,l,i;if(s="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){for(var e=0,r=t.length,n=new Uint8Array(r);r>e;)n[e]=t[e++];return n},"function"==typeof(new Uint8Array).indexOf)l=function(t,e,r){return t.indexOf(e,r)};else{var c=[].indexOf;if(0!==c.call(new Uint8Array(1),0))throw Error("missing .indexOf");l=function(t,e,r){return c.call(t,e,r)}}i="function"==typeof Uint8Array.of?Uint8Array.of.bind(Uint8Array):function(){return s(arguments)};var f=function(t){return t instanceof Uint8Array},_="cannot convert invalid utf8 to javascript string",p=";,/?:@&=+$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,-_.!~*'()#".split("").reduce((function(t,e){return t[e.charCodeAt(0)]=!0,t}),{}),v={},L=function(t,e){if("string"!=typeof t)throw new TypeError("to_luastring expects a javascript string");if(e){var r=v[t];if(f(r))return r}for(var n=t.length,a=Array(n),u=0,o=0;o<n;++o){var l=t.charCodeAt(o);if(l<=127)a[u++]=l;else if(l<=2047)a[u++]=192|l>>6,a[u++]=128|63&l;else{if(l>=55296&&l<=56319&&o+1<n){var i=t.charCodeAt(o+1);i>=56320&&i<=57343&&(o++,l=1024*(l-55296)+i+9216)}l<=65535?(a[u++]=224|l>>12,a[u++]=128|l>>6&63,a[u++]=128|63&l):(a[u++]=240|l>>18,a[u++]=128|l>>12&63,a[u++]=128|l>>6&63,a[u++]=128|63&l)}}return a=s(a),e&&(v[t]=a),a};t.exports.luastring_from=s,t.exports.luastring_indexOf=l,t.exports.luastring_of=i,t.exports.is_luastring=f,t.exports.luastring_eq=function(t,e){if(t!==e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1}return!0},t.exports.to_jsstring=function(t,e,r,n){if(!f(t))throw new TypeError("to_jsstring expects a Uint8Array");r=void 0===r?t.length:Math.min(t.length,r);for(var a="",u=void 0!==e?e:0;u<r;){var o=t[u++];if(o<128)a+=String.fromCharCode(o);else if(o<194||o>244){if(!n)throw RangeError(_);a+="ï¿½"}else if(o<=223){if(u>=r){if(!n)throw RangeError(_);a+="ï¿½";continue}var s=t[u++];if(128!=(192&s)){if(!n)throw RangeError(_);a+="ï¿½";continue}a+=String.fromCharCode(((31&o)<<6)+(63&s))}else if(o<=239){if(u+1>=r){if(!n)throw RangeError(_);a+="ï¿½";continue}var l=t[u++];if(128!=(192&l)){if(!n)throw RangeError(_);a+="ï¿½";continue}var i=t[u++];if(128!=(192&i)){if(!n)throw RangeError(_);a+="ï¿½";continue}var c=((15&o)<<12)+((63&l)<<6)+(63&i);if(c<=65535)a+=String.fromCharCode(c);else{var p=55296+((c-=65536)>>10),v=c%1024+56320;a+=String.fromCharCode(p,v)}}else{if(u+2>=r){if(!n)throw RangeError(_);a+="ï¿½";continue}var L=t[u++];if(128!=(192&L)){if(!n)throw RangeError(_);a+="ï¿½";continue}var h=t[u++];if(128!=(192&h)){if(!n)throw RangeError(_);a+="ï¿½";continue}var d=t[u++];if(128!=(192&d)){if(!n)throw RangeError(_);a+="ï¿½";continue}var A=((7&o)<<18)+((63&L)<<12)+((63&h)<<6)+(63&d),b=55296+((A-=65536)>>10),g=A%1024+56320;a+=String.fromCharCode(b,g)}}return a},t.exports.to_uristring=function(t){if(!f(t))throw new TypeError("to_uristring expects a Uint8Array");for(var e="",r=0;r<t.length;r++){var n=t[r];p[n]?e+=String.fromCharCode(n):e+="%"+(n<16?"0":"")+n.toString(16)}return e},t.exports.to_luastring=L,t.exports.from_userstring=function(t){if(!f(t)){if("string"!=typeof t)throw new TypeError("expects an array of bytes or javascript string");t=L(t)}return t};var h=L("Lua");t.exports.LUA_SIGNATURE=h,t.exports.LUA_VERSION_MAJOR="5",t.exports.LUA_VERSION_MINOR="3",t.exports.LUA_VERSION_NUM=503,t.exports.LUA_VERSION_RELEASE="4",t.exports.LUA_VERSION="Lua 5.3",t.exports.LUA_RELEASE="Lua 5.3.4",t.exports.LUA_COPYRIGHT="Lua 5.3.4  Copyright (C) 1994-2017 Lua.org, PUC-Rio",t.exports.LUA_AUTHORS="R. Ierusalimschy, L. H. de Figueiredo, W. Celes";var d={LUA_TNONE:-1,LUA_TNIL:0,LUA_TBOOLEAN:1,LUA_TLIGHTUSERDATA:2,LUA_TNUMBER:3,LUA_TSTRING:4,LUA_TTABLE:5,LUA_TFUNCTION:6,LUA_TUSERDATA:7,LUA_TTHREAD:8,LUA_NUMTAGS:9};d.LUA_TSHRSTR=0|d.LUA_TSTRING,d.LUA_TLNGSTR=16|d.LUA_TSTRING,d.LUA_TNUMFLT=0|d.LUA_TNUMBER,d.LUA_TNUMINT=16|d.LUA_TNUMBER,d.LUA_TLCL=0|d.LUA_TFUNCTION,d.LUA_TLCF=16|d.LUA_TFUNCTION,d.LUA_TCCL=32|d.LUA_TFUNCTION;var A=-r(3).LUAI_MAXSTACK-1e3,b=u((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.event=NaN,this.name=null,this.namewhat=null,this.what=null,this.source=null,this.currentline=NaN,this.linedefined=NaN,this.lastlinedefined=NaN,this.nups=NaN,this.nparams=NaN,this.isvararg=NaN,this.istailcall=NaN,this.short_src=null,this.i_ci=null}));t.exports.LUA_HOOKCALL=0,t.exports.LUA_HOOKCOUNT=3,t.exports.LUA_HOOKLINE=2,t.exports.LUA_HOOKRET=1,t.exports.LUA_HOOKTAILCALL=4,t.exports.LUA_MASKCALL=1,t.exports.LUA_MASKCOUNT=8,t.exports.LUA_MASKLINE=4,t.exports.LUA_MASKRET=2,t.exports.LUA_MINSTACK=20,t.exports.LUA_MULTRET=-1,t.exports.LUA_OPADD=0,t.exports.LUA_OPBAND=7,t.exports.LUA_OPBNOT=13,t.exports.LUA_OPBOR=8,t.exports.LUA_OPBXOR=9,t.exports.LUA_OPDIV=5,t.exports.LUA_OPEQ=0,t.exports.LUA_OPIDIV=6,t.exports.LUA_OPLE=2,t.exports.LUA_OPLT=1,t.exports.LUA_OPMOD=3,t.exports.LUA_OPMUL=2,t.exports.LUA_OPPOW=4,t.exports.LUA_OPSHL=10,t.exports.LUA_OPSHR=11,t.exports.LUA_OPSUB=1,t.exports.LUA_OPUNM=12,t.exports.LUA_REGISTRYINDEX=A,t.exports.LUA_RIDX_GLOBALS=2,t.exports.LUA_RIDX_LAST=2,t.exports.LUA_RIDX_MAINTHREAD=1,t.exports.constant_types=d,t.exports.lua_Debug=b,t.exports.lua_upvalueindex=function(t){return A-t},t.exports.thread_status={LUA_OK:0,LUA_YIELD:1,LUA_ERRRUN:2,LUA_ERRSYNTAX:3,LUA_ERRMEM:4,LUA_ERRGCMM:5,LUA_ERRERR:6}},function(t,e,r){"use strict";var n=r(1),a=r(19),u=r(11),o=r(8),s=r(12);t.exports.LUA_AUTHORS=n.LUA_AUTHORS,t.exports.LUA_COPYRIGHT=n.LUA_COPYRIGHT,t.exports.LUA_ERRERR=n.thread_status.LUA_ERRERR,t.exports.LUA_ERRGCMM=n.thread_status.LUA_ERRGCMM,t.exports.LUA_ERRMEM=n.thread_status.LUA_ERRMEM,t.exports.LUA_ERRRUN=n.thread_status.LUA_ERRRUN,t.exports.LUA_ERRSYNTAX=n.thread_status.LUA_ERRSYNTAX,t.exports.LUA_HOOKCALL=n.LUA_HOOKCALL,t.exports.LUA_HOOKCOUNT=n.LUA_HOOKCOUNT,t.exports.LUA_HOOKLINE=n.LUA_HOOKLINE,t.exports.LUA_HOOKRET=n.LUA_HOOKRET,t.exports.LUA_HOOKTAILCALL=n.LUA_HOOKTAILCALL,t.exports.LUA_MASKCALL=n.LUA_MASKCALL,t.exports.LUA_MASKCOUNT=n.LUA_MASKCOUNT,t.exports.LUA_MASKLINE=n.LUA_MASKLINE,t.exports.LUA_MASKRET=n.LUA_MASKRET,t.exports.LUA_MINSTACK=n.LUA_MINSTACK,t.exports.LUA_MULTRET=n.LUA_MULTRET,t.exports.LUA_NUMTAGS=n.constant_types.LUA_NUMTAGS,t.exports.LUA_OK=n.thread_status.LUA_OK,t.exports.LUA_OPADD=n.LUA_OPADD,t.exports.LUA_OPBAND=n.LUA_OPBAND,t.exports.LUA_OPBNOT=n.LUA_OPBNOT,t.exports.LUA_OPBOR=n.LUA_OPBOR,t.exports.LUA_OPBXOR=n.LUA_OPBXOR,t.exports.LUA_OPDIV=n.LUA_OPDIV,t.exports.LUA_OPEQ=n.LUA_OPEQ,t.exports.LUA_OPIDIV=n.LUA_OPIDIV,t.exports.LUA_OPLE=n.LUA_OPLE,t.exports.LUA_OPLT=n.LUA_OPLT,t.exports.LUA_OPMOD=n.LUA_OPMOD,t.exports.LUA_OPMUL=n.LUA_OPMUL,t.exports.LUA_OPPOW=n.LUA_OPPOW,t.exports.LUA_OPSHL=n.LUA_OPSHL,t.exports.LUA_OPSHR=n.LUA_OPSHR,t.exports.LUA_OPSUB=n.LUA_OPSUB,t.exports.LUA_OPUNM=n.LUA_OPUNM,t.exports.LUA_REGISTRYINDEX=n.LUA_REGISTRYINDEX,t.exports.LUA_RELEASE=n.LUA_RELEASE,t.exports.LUA_RIDX_GLOBALS=n.LUA_RIDX_GLOBALS,t.exports.LUA_RIDX_LAST=n.LUA_RIDX_LAST,t.exports.LUA_RIDX_MAINTHREAD=n.LUA_RIDX_MAINTHREAD,t.exports.LUA_SIGNATURE=n.LUA_SIGNATURE,t.exports.LUA_TNONE=n.constant_types.LUA_TNONE,t.exports.LUA_TNIL=n.constant_types.LUA_TNIL,t.exports.LUA_TBOOLEAN=n.constant_types.LUA_TBOOLEAN,t.exports.LUA_TLIGHTUSERDATA=n.constant_types.LUA_TLIGHTUSERDATA,t.exports.LUA_TNUMBER=n.constant_types.LUA_TNUMBER,t.exports.LUA_TSTRING=n.constant_types.LUA_TSTRING,t.exports.LUA_TTABLE=n.constant_types.LUA_TTABLE,t.exports.LUA_TFUNCTION=n.constant_types.LUA_TFUNCTION,t.exports.LUA_TUSERDATA=n.constant_types.LUA_TUSERDATA,t.exports.LUA_TTHREAD=n.constant_types.LUA_TTHREAD,t.exports.LUA_VERSION=n.LUA_VERSION,t.exports.LUA_VERSION_MAJOR=n.LUA_VERSION_MAJOR,t.exports.LUA_VERSION_MINOR=n.LUA_VERSION_MINOR,t.exports.LUA_VERSION_NUM=n.LUA_VERSION_NUM,t.exports.LUA_VERSION_RELEASE=n.LUA_VERSION_RELEASE,t.exports.LUA_YIELD=n.thread_status.LUA_YIELD,t.exports.lua_Debug=n.lua_Debug,t.exports.lua_upvalueindex=n.lua_upvalueindex,t.exports.lua_absindex=a.lua_absindex,t.exports.lua_arith=a.lua_arith,t.exports.lua_atpanic=a.lua_atpanic,t.exports.lua_atnativeerror=a.lua_atnativeerror,t.exports.lua_call=a.lua_call,t.exports.lua_callk=a.lua_callk,t.exports.lua_checkstack=a.lua_checkstack,t.exports.lua_close=s.lua_close,t.exports.lua_compare=a.lua_compare,t.exports.lua_concat=a.lua_concat,t.exports.lua_copy=a.lua_copy,t.exports.lua_createtable=a.lua_createtable,t.exports.lua_dump=a.lua_dump,t.exports.lua_error=a.lua_error,t.exports.lua_gc=a.lua_gc,t.exports.lua_getallocf=a.lua_getallocf,t.exports.lua_getextraspace=a.lua_getextraspace,t.exports.lua_getfield=a.lua_getfield,t.exports.lua_getglobal=a.lua_getglobal,t.exports.lua_gethook=u.lua_gethook,t.exports.lua_gethookcount=u.lua_gethookcount,t.exports.lua_gethookmask=u.lua_gethookmask,t.exports.lua_geti=a.lua_geti,t.exports.lua_getinfo=u.lua_getinfo,t.exports.lua_getlocal=u.lua_getlocal,t.exports.lua_getmetatable=a.lua_getmetatable,t.exports.lua_getstack=u.lua_getstack,t.exports.lua_gettable=a.lua_gettable,t.exports.lua_gettop=a.lua_gettop,t.exports.lua_getupvalue=a.lua_getupvalue,t.exports.lua_getuservalue=a.lua_getuservalue,t.exports.lua_insert=a.lua_insert,t.exports.lua_isboolean=a.lua_isboolean,t.exports.lua_iscfunction=a.lua_iscfunction,t.exports.lua_isfunction=a.lua_isfunction,t.exports.lua_isinteger=a.lua_isinteger,t.exports.lua_islightuserdata=a.lua_islightuserdata,t.exports.lua_isnil=a.lua_isnil,t.exports.lua_isnone=a.lua_isnone,t.exports.lua_isnoneornil=a.lua_isnoneornil,t.exports.lua_isnumber=a.lua_isnumber,t.exports.lua_isproxy=a.lua_isproxy,t.exports.lua_isstring=a.lua_isstring,t.exports.lua_istable=a.lua_istable,t.exports.lua_isthread=a.lua_isthread,t.exports.lua_isuserdata=a.lua_isuserdata,t.exports.lua_isyieldable=o.lua_isyieldable,t.exports.lua_len=a.lua_len,t.exports.lua_load=a.lua_load,t.exports.lua_newstate=s.lua_newstate,t.exports.lua_newtable=a.lua_newtable,t.exports.lua_newthread=s.lua_newthread,t.exports.lua_newuserdata=a.lua_newuserdata,t.exports.lua_next=a.lua_next,t.exports.lua_pcall=a.lua_pcall,t.exports.lua_pcallk=a.lua_pcallk,t.exports.lua_pop=a.lua_pop,t.exports.lua_pushboolean=a.lua_pushboolean,t.exports.lua_pushcclosure=a.lua_pushcclosure,t.exports.lua_pushcfunction=a.lua_pushcfunction,t.exports.lua_pushfstring=a.lua_pushfstring,t.exports.lua_pushglobaltable=a.lua_pushglobaltable,t.exports.lua_pushinteger=a.lua_pushinteger,t.exports.lua_pushjsclosure=a.lua_pushjsclosure,t.exports.lua_pushjsfunction=a.lua_pushjsfunction,t.exports.lua_pushlightuserdata=a.lua_pushlightuserdata,t.exports.lua_pushliteral=a.lua_pushliteral,t.exports.lua_pushlstring=a.lua_pushlstring,t.exports.lua_pushnil=a.lua_pushnil,t.exports.lua_pushnumber=a.lua_pushnumber,t.exports.lua_pushstring=a.lua_pushstring,t.exports.lua_pushthread=a.lua_pushthread,t.exports.lua_pushvalue=a.lua_pushvalue,t.exports.lua_pushvfstring=a.lua_pushvfstring,t.exports.lua_rawequal=a.lua_rawequal,t.exports.lua_rawget=a.lua_rawget,t.exports.lua_rawgeti=a.lua_rawgeti,t.exports.lua_rawgetp=a.lua_rawgetp,t.exports.lua_rawlen=a.lua_rawlen,t.exports.lua_rawset=a.lua_rawset,t.exports.lua_rawseti=a.lua_rawseti,t.exports.lua_rawsetp=a.lua_rawsetp,t.exports.lua_register=a.lua_register,t.exports.lua_remove=a.lua_remove,t.exports.lua_replace=a.lua_replace,t.exports.lua_resume=o.lua_resume,t.exports.lua_rotate=a.lua_rotate,t.exports.lua_setallof=o.lua_setallof,t.exports.lua_setfield=a.lua_setfield,t.exports.lua_setglobal=a.lua_setglobal,t.exports.lua_sethook=u.lua_sethook,t.exports.lua_seti=a.lua_seti,t.exports.lua_setlocal=u.lua_setlocal,t.exports.lua_setmetatable=a.lua_setmetatable,t.exports.lua_settable=a.lua_settable,t.exports.lua_settop=a.lua_settop,t.exports.lua_setupvalue=a.lua_setupvalue,t.exports.lua_setuservalue=a.lua_setuservalue,t.exports.lua_status=a.lua_status,t.exports.lua_stringtonumber=a.lua_stringtonumber,t.exports.lua_toboolean=a.lua_toboolean,t.exports.lua_todataview=a.lua_todataview,t.exports.lua_tointeger=a.lua_tointeger,t.exports.lua_tointegerx=a.lua_tointegerx,t.exports.lua_tojsstring=a.lua_tojsstring,t.exports.lua_tolstring=a.lua_tolstring,t.exports.lua_tonumber=a.lua_tonumber,t.exports.lua_tonumberx=a.lua_tonumberx,t.exports.lua_topointer=a.lua_topointer,t.exports.lua_toproxy=a.lua_toproxy,t.exports.lua_tostring=a.lua_tostring,t.exports.lua_tothread=a.lua_tothread,t.exports.lua_touserdata=a.lua_touserdata,t.exports.lua_type=a.lua_type,t.exports.lua_typename=a.lua_typename,t.exports.lua_upvalueid=a.lua_upvalueid,t.exports.lua_upvaluejoin=a.lua_upvaluejoin,t.exports.lua_version=a.lua_version,t.exports.lua_xmove=a.lua_xmove,t.exports.lua_yield=o.lua_yield,t.exports.lua_yieldk=o.lua_yieldk,t.exports.lua_tocfunction=a.lua_tocfunction},function(t,e,r){"use strict";var n={},a=r(1),u=a.LUA_VERSION_MAJOR,o=a.LUA_VERSION_MINOR,s=a.to_luastring;t.exports.LUA_PATH_SEP=";";t.exports.LUA_PATH_MARK="?";t.exports.LUA_EXEC_DIR="!";var l=u+"."+o;t.exports.LUA_VDIR=l;t.exports.LUA_DIRSEP="/";var i="./lua/"+l+"/";t.exports.LUA_LDIR=i;var c=i;t.exports.LUA_JSDIR=c;var f=s(i+"?.lua;"+i+"?/init.lua;./?.lua;./?/init.lua");t.exports.LUA_PATH_DEFAULT=f;var _=s(c+"?.js;"+c+"loadall.js;./?.js");t.exports.LUA_JSPATH_DEFAULT=_;var p=n.LUA_COMPAT_FLOATSTRING||!1,v=n.LUAI_MAXSTACK||1e6,L=n.LUA_IDSIZE||59,h="%".concat("","d"),d=n.LUAL_BUFFERSIZE||8192,A=function(t,e){for(var r=Math.min(3,Math.ceil(Math.abs(e)/1023)),n=t,a=0;a<r;a++)n*=Math.pow(2,Math.floor((e+a)/r));return n};t.exports.LUAI_MAXSTACK=v,t.exports.LUA_COMPAT_FLOATSTRING=p,t.exports.LUA_IDSIZE=L,t.exports.LUA_INTEGER_FMT=h,t.exports.LUA_INTEGER_FRMLEN="",t.exports.LUA_MAXINTEGER=2147483647,t.exports.LUA_MININTEGER=-2147483648,t.exports.LUA_NUMBER_FMT="%.14g",t.exports.LUA_NUMBER_FRMLEN="",t.exports.LUAL_BUFFERSIZE=d,t.exports.frexp=function(t){if(0===t)return[t,0];var e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);var r=e.getUint32(0)>>>20&2047;0===r&&(e.setFloat64(0,t*Math.pow(2,64)),r=(e.getUint32(0)>>>20&2047)-64);var n=r-1022;return[A(t,-n),n]},t.exports.ldexp=A,t.exports.lua_getlocaledecpoint=function(){return 46},t.exports.lua_integer2str=function(t){return String(t)},t.exports.lua_number2str=function(t){return String(Number(t.toPrecision(14)))},t.exports.lua_numbertointeger=function(t){return t>=-2147483648&&t<2147483648&&t},t.exports.luai_apicheck=function(t,e){if(!e)throw Error(e)}},function(t,e,r){"use strict";var n=r(3).luai_apicheck,a=function(t){if(!t)throw Error("assertion failed")};t.exports.lua_assert=a,t.exports.luai_apicheck=n||function(t,e){return a(e)};t.exports.api_check=function(t,e,r){return n(t,e&&r)};t.exports.LUAI_MAXCCALLS=200;t.exports.LUA_MINBUFFER=32;t.exports.luai_nummod=function(t,e,r){var n=e%r;return n*r<0&&(n+=r),n};t.exports.MAX_INT=2147483647;t.exports.MIN_INT=-2147483648},function(t,e,r){var n=r(1),a="Fengari 0.1.4  Copyright (C) 2017-2018 B. Giannangeli, Daurnimator\nBased on: "+n.LUA_COPYRIGHT;t.exports.FENGARI_AUTHORS="B. Giannangeli, Daurnimator",t.exports.FENGARI_COPYRIGHT=a,t.exports.FENGARI_RELEASE="Fengari 0.1.4",t.exports.FENGARI_VERSION="Fengari 0.1",t.exports.FENGARI_VERSION_MAJOR="0",t.exports.FENGARI_VERSION_MINOR="1",t.exports.FENGARI_VERSION_NUM=1,t.exports.FENGARI_VERSION_RELEASE="4",t.exports.is_luastring=n.is_luastring,t.exports.luastring_eq=n.luastring_eq,t.exports.luastring_from=n.luastring_from,t.exports.luastring_indexOf=n.luastring_indexOf,t.exports.luastring_of=n.luastring_of,t.exports.to_jsstring=n.to_jsstring,t.exports.to_luastring=n.to_luastring,t.exports.to_uristring=n.to_uristring,t.exports.from_userstring=n.from_userstring},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function s(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var i=r(1),c=i.LUA_OPADD,f=i.LUA_OPBAND,_=i.LUA_OPBNOT,p=i.LUA_OPBOR,v=i.LUA_OPBXOR,L=i.LUA_OPDIV,h=i.LUA_OPIDIV,d=i.LUA_OPMOD,A=i.LUA_OPMUL,b=i.LUA_OPPOW,g=i.LUA_OPSHL,T=i.LUA_OPSHR,x=i.LUA_OPSUB,O=i.LUA_OPUNM,k=i.constant_types,m=k.LUA_NUMTAGS,E=k.LUA_TBOOLEAN,y=k.LUA_TCCL,N=k.LUA_TFUNCTION,R=k.LUA_TLCF,S=k.LUA_TLCL,U=k.LUA_TLIGHTUSERDATA,I=k.LUA_TLNGSTR,w=k.LUA_TNIL,M=k.LUA_TNUMBER,P=k.LUA_TNUMFLT,C=k.LUA_TNUMINT,B=k.LUA_TSHRSTR,V=k.LUA_TSTRING,D=k.LUA_TTABLE,G=k.LUA_TTHREAD,K=k.LUA_TUSERDATA,F=i.from_userstring,j=i.luastring_indexOf,H=i.luastring_of,X=i.to_jsstring,z=i.to_luastring,Y=r(22),J=Y.lisdigit,Z=Y.lisprint,q=Y.lisspace,$=Y.lisxdigit,W=r(11),Q=r(8),tt=r(12),et=r(10),rt=et.luaS_bless,nt=et.luaS_new,at=r(9),ut=r(3),ot=ut.LUA_COMPAT_FLOATSTRING,st=ut.ldexp,lt=ut.lua_integer2str,it=ut.lua_number2str,ct=r(15),ft=r(4),_t=ft.MAX_INT,pt=ft.luai_nummod,vt=ft.lua_assert,Lt=r(14),ht=m,dt=m+1,At=function(){return s((function t(e,r){u(this,t),this.type=e,this.value=r}),[{key:"ttype",value:function(){return 63&this.type}},{key:"ttnov",value:function(){return 15&this.type}},{key:"checktag",value:function(t){return this.type===t}},{key:"checktype",value:function(t){return this.ttnov()===t}},{key:"ttisnumber",value:function(){return this.checktype(M)}},{key:"ttisfloat",value:function(){return this.checktag(P)}},{key:"ttisinteger",value:function(){return this.checktag(C)}},{key:"ttisnil",value:function(){return this.checktag(w)}},{key:"ttisboolean",value:function(){return this.checktag(E)}},{key:"ttislightuserdata",value:function(){return this.checktag(U)}},{key:"ttisstring",value:function(){return this.checktype(V)}},{key:"ttisshrstring",value:function(){return this.checktag(B)}},{key:"ttislngstring",value:function(){return this.checktag(I)}},{key:"ttistable",value:function(){return this.checktag(D)}},{key:"ttisfunction",value:function(){return this.checktype(N)}},{key:"ttisclosure",value:function(){return(31&this.type)===N}},{key:"ttisCclosure",value:function(){return this.checktag(y)}},{key:"ttisLclosure",value:function(){return this.checktag(S)}},{key:"ttislcf",value:function(){return this.checktag(R)}},{key:"ttisfulluserdata",value:function(){return this.checktag(K)}},{key:"ttisthread",value:function(){return this.checktag(G)}},{key:"ttisdeadkey",value:function(){return this.checktag(dt)}},{key:"l_isfalse",value:function(){return this.ttisnil()||this.ttisboolean()&&!1===this.value}},{key:"setfltvalue",value:function(t){this.type=P,this.value=t}},{key:"chgfltvalue",value:function(t){vt(this.type==P),this.value=t}},{key:"setivalue",value:function(t){this.type=C,this.value=t}},{key:"chgivalue",value:function(t){vt(this.type==C),this.value=t}},{key:"setnilvalue",value:function(){this.type=w,this.value=null}},{key:"setfvalue",value:function(t){this.type=R,this.value=t}},{key:"setpvalue",value:function(t){this.type=U,this.value=t}},{key:"setbvalue",value:function(t){this.type=E,this.value=t}},{key:"setsvalue",value:function(t){this.type=I,this.value=t}},{key:"setuvalue",value:function(t){this.type=K,this.value=t}},{key:"setthvalue",value:function(t){this.type=G,this.value=t}},{key:"setclLvalue",value:function(t){this.type=S,this.value=t}},{key:"setclCvalue",value:function(t){this.type=y,this.value=t}},{key:"sethvalue",value:function(t){this.type=D,this.value=t}},{key:"setdeadvalue",value:function(){this.type=dt,this.value=null}},{key:"setfrom",value:function(t){this.type=t.type,this.value=t.value}},{key:"tsvalue",value:function(){return vt(this.ttisstring()),this.value}},{key:"svalue",value:function(){return this.tsvalue().getstr()}},{key:"vslen",value:function(){return this.tsvalue().tsslen()}},{key:"jsstring",value:function(t,e){return X(this.svalue(),t,e,!0)}}])}(),bt=function(t,e,r){t.stack[e].setsvalue(r)},gt=new At(w,null);Object.freeze(gt),t.exports.luaO_nilobject=gt;var Tt=s((function t(e,r){u(this,t),this.id=e.l_G.id_counter++,this.p=null,this.nupvalues=r,this.upvals=new Array(r)})),xt=s((function t(e,r,n){for(u(this,t),this.id=e.l_G.id_counter++,this.f=r,this.nupvalues=n,this.upvalue=new Array(n);n--;)this.upvalue[n]=new At(w,null)})),Ot=s((function t(e,r){u(this,t),this.id=e.l_G.id_counter++,this.metatable=null,this.uservalue=new At(w,null),this.len=r,this.data=Object.create(null)})),kt=s((function t(){u(this,t),this.varname=null,this.startpc=NaN,this.endpc=NaN})),mt=z("..."),Et=z('[string "'),yt=z('"]'),Nt=function(t){return J(t)?t-48:(223&t)-55},Rt=function(t,e){var r=1;if(vt(e<=1114111),e<128)t[7]=e;else{var n=63;do{t[8-r++]=128|63&e,e>>=6,n>>=1}while(e>n);t[8-r]=~n<<1|e}return r},St=function(t,e){var r="x"===e?function(t){for(var e,r=0,n=0,a=0,u=0,o=0,s=!1;q(t[r]);)r++;if(((e=45===t[r])||43===t[r])&&r++,48!==t[r]||120!==t[r+1]&&88!==t[r+1])return null;for(r+=2;;r++)if(46===t[r]){if(s)break;s=!0}else{if(!$(t[r]))break;0===a&&48===t[r]?u++:++a<=30?n=16*n+Nt(t[r]):o++,s&&o--}if(u+a===0)return null;if(o*=4,112===t[r]||80===t[r]){var l,i=0;if(((l=45===t[++r])||43===t[r])&&r++,!J(t[r]))return null;for(;J(t[r]);)i=10*i+t[r++]-48;l&&(i=-i),o+=i}return e&&(n=-n),{n:st(n,o),i:r}}(t):function(t){try{t=X(t)}catch(t){return null}var e=/^[\t\v\f \n\r]*[+-]?(?:[0-9]+\.?[0-9]*|\.[0-9]*)(?:[eE][+-]?[0-9]+)?/.exec(t);if(!e)return null;var r=parseFloat(e[0]);return isNaN(r)?null:{n:r,i:e[0].length}}(t);if(null===r)return null;for(;q(t[r.i]);)r.i++;return r.i===t.length||0===t[r.i]?r:null},Ut=[46,120,88,110,78],It=a(a(a(a(a({},46,"."),120,"x"),88,"x"),110,"n"),78,"n"),wt=Math.floor(_t/10),Mt=_t%10,Pt=function(t,e){var r;if(e.ttisinteger())r=z(lt(e.value));else{var n=it(e.value);!ot&&/^[-0123456789]+$/.test(n)&&(n+=".0"),r=z(n)}e.setsvalue(rt(t,r))},Ct=function(t,e){Q.luaD_inctop(t),bt(t,t.top-1,nt(t,e))},Bt=function(t,e,r){for(var a,u=0,o=0,s=0;-1!=(a=j(e,37,o));){switch(Ct(t,e.subarray(o,a)),e[a+1]){case 115:var l=r[s++];if(null===l)l=z("(null)",!0);else{l=F(l);var i=j(l,0);-1!==i&&(l=l.subarray(0,i))}Ct(t,l);break;case 99:var c=r[s++];Z(c)?Ct(t,H(c)):Vt(t,z("<\\%d>",!0),c);break;case 100:case 73:Q.luaD_inctop(t),t.stack[t.top-1].setivalue(r[s++]),Pt(t,t.stack[t.top-1]);break;case 102:Q.luaD_inctop(t),t.stack[t.top-1].setfltvalue(r[s++]),Pt(t,t.stack[t.top-1]);break;case 112:var f=r[s++];if(f instanceof tt.lua_State||f instanceof at.Table||f instanceof Ot||f instanceof Tt||f instanceof xt)Ct(t,z("0x"+f.id.toString(16)));else switch(n(f)){case"undefined":Ct(t,z("undefined"));break;case"number":Ct(t,z("Number("+f+")"));break;case"string":Ct(t,z("String("+JSON.stringify(f)+")"));break;case"boolean":Ct(t,z(f?"Boolean(true)":"Boolean(false)"));break;case"object":if(null===f){Ct(t,z("null"));break}case"function":var _=t.l_G.ids.get(f);_||(_=t.l_G.id_counter++,t.l_G.ids.set(f,_)),Ct(t,z("0x"+_.toString(16)));break;default:Ct(t,z("<id NYI>"))}break;case 85:var p=new Uint8Array(8),v=Rt(p,r[s++]);Ct(t,p.subarray(8-v));break;case 37:Ct(t,z("%",!0));break;default:W.luaG_runerror(t,z("invalid option '%%%c' to 'lua_pushfstring'"),e[a+1])}u+=2,o=a+2}return Q.luaD_checkstack(t,1),Ct(t,e.subarray(o)),u>0&&ct.luaV_concat(t,u+1),t.stack[t.top-1].svalue()},Vt=function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return Bt(t,e,n)},Dt=function(t,e,r,n){switch(e){case c:return r+n|0;case x:return r-n|0;case A:return ct.luaV_imul(r,n);case d:return ct.luaV_mod(t,r,n);case h:return ct.luaV_div(t,r,n);case f:return r&n;case p:return r|n;case v:return r^n;case g:return ct.luaV_shiftl(r,n);case T:return ct.luaV_shiftl(r,-n);case O:return 0-r|0;case _:return-1^r;default:vt(0)}},Gt=function(t,e,r,n){switch(e){case c:return r+n;case x:return r-n;case A:return r*n;case L:return r/n;case b:return Math.pow(r,n);case h:return Math.floor(r/n);case O:return-r;case d:return pt(t,r,n);default:vt(0)}};t.exports.CClosure=xt,t.exports.LClosure=Tt,t.exports.LUA_TDEADKEY=dt,t.exports.LUA_TPROTO=ht,t.exports.LocVar=kt,t.exports.TValue=At,t.exports.Udata=Ot,t.exports.UTF8BUFFSZ=8,t.exports.luaO_arith=function(t,e,r,n,a){var u="number"==typeof a?t.stack[a]:a;switch(e){case f:case p:case v:case g:case T:case _:var o,s;if(!1!==(o=ct.tointeger(r))&&!1!==(s=ct.tointeger(n)))return void u.setivalue(Dt(t,e,o,s));break;case L:case b:var l,i;if(!1!==(l=ct.tonumber(r))&&!1!==(i=ct.tonumber(n)))return void u.setfltvalue(Gt(t,e,l,i));break;default:var h,d;if(r.ttisinteger()&&n.ttisinteger())return void u.setivalue(Dt(t,e,r.value,n.value));if(!1!==(h=ct.tonumber(r))&&!1!==(d=ct.tonumber(n)))return void u.setfltvalue(Gt(t,e,h,d))}vt(null!==t),Lt.luaT_trybinTM(t,r,n,a,e-c+Lt.TMS.TM_ADD)},t.exports.luaO_chunkid=function(t,e){var r,n=t.length;if(61===t[0])n<e?(r=new Uint8Array(n-1)).set(t.subarray(1)):(r=new Uint8Array(e)).set(t.subarray(1,e+1));else if(64===t[0])n<=e?(r=new Uint8Array(n-1)).set(t.subarray(1)):((r=new Uint8Array(e)).set(mt),e-=mt.length,r.set(t.subarray(n-e),mt.length));else{r=new Uint8Array(e);var a=j(t,10);r.set(Et);var u=Et.length;n<(e-=Et.length+mt.length+yt.length)&&-1===a?(r.set(t,u),u+=t.length):(-1!==a&&(n=a),n>e&&(n=e),r.set(t.subarray(0,n),u),u+=n,r.set(mt,u),u+=mt.length),r.set(yt,u),u+=yt.length,r=r.subarray(0,u)}return r},t.exports.luaO_hexavalue=Nt,t.exports.luaO_int2fb=function(t){var e=0;if(t<8)return t;for(;t>=128;)t=t+15>>4,e+=4;for(;t>=16;)t=t+1>>1,e++;return e+1<<3|t-8},t.exports.luaO_pushfstring=Vt,t.exports.luaO_pushvfstring=Bt,t.exports.luaO_str2num=function(t,e){var r=function(t){for(var e,r=0,n=0,a=!0;q(t[r]);)r++;if(((e=45===t[r])||43===t[r])&&r++,48!==t[r]||120!==t[r+1]&&88!==t[r+1])for(;r<t.length&&J(t[r]);r++){var u=t[r]-48;if(n>=wt&&(n>wt||u>Mt+e))return null;n=10*n+u|0,a=!1}else for(r+=2;r<t.length&&$(t[r]);r++)n=16*n+Nt(t[r])|0,a=!1;for(;r<t.length&&q(t[r]);)r++;return a||r!==t.length&&0!==t[r]?null:{n:0|(e?-n:n),i:r}}(t);return null!==r?(e.setivalue(r.n),r.i+1):null!==(r=function(t){for(var e=t.length,r=0,n=0;n<e;n++){var a=t[n];if(-1!==Ut.indexOf(a)){r=a;break}}var u=It[r];return"n"===u?null:St(t,u)}(t))?(e.setfltvalue(r.n),r.i+1):0},t.exports.luaO_tostring=Pt,t.exports.luaO_utf8esc=Rt,t.exports.numarith=Gt,t.exports.pushobj2s=function(t,e){t.stack[t.top++]=new At(e.type,e.value)},t.exports.pushsvalue2s=function(t,e){t.stack[t.top++]=new At(I,e)},t.exports.setobjs2s=function(t,e,r){t.stack[e].setfrom(t.stack[r])},t.exports.setobj2s=function(t,e,r){t.stack[e].setfrom(r)},t.exports.setsvalue2s=bt},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l,i,c=r(3).LUAL_BUFFERSIZE,f=r(2),_=f.LUA_ERRERR,p=f.LUA_MULTRET,v=f.LUA_REGISTRYINDEX,L=f.LUA_SIGNATURE,h=f.LUA_TBOOLEAN,d=f.LUA_TLIGHTUSERDATA,A=f.LUA_TNIL,b=f.LUA_TNONE,g=f.LUA_TNUMBER,T=f.LUA_TSTRING,x=f.LUA_TTABLE,O=f.LUA_VERSION_NUM,k=f.lua_Debug,m=f.lua_absindex,E=f.lua_atpanic,y=f.lua_call,N=f.lua_checkstack,R=f.lua_concat,S=f.lua_copy,U=f.lua_createtable,I=f.lua_error,w=f.lua_getfield,M=f.lua_getinfo,P=f.lua_getmetatable,C=f.lua_getstack,B=f.lua_gettop,V=f.lua_insert,D=f.lua_isinteger,G=f.lua_isnil,K=f.lua_isnumber,F=f.lua_isstring,j=f.lua_istable,H=f.lua_len,X=f.lua_load,z=f.lua_newstate,Y=f.lua_newtable,J=f.lua_next,Z=f.lua_pcall,q=f.lua_pop,$=f.lua_pushboolean,W=f.lua_pushcclosure,Q=f.lua_pushcfunction,tt=f.lua_pushfstring,et=f.lua_pushinteger,rt=f.lua_pushliteral,nt=f.lua_pushlstring,at=f.lua_pushnil,ut=f.lua_pushstring,ot=f.lua_pushvalue,st=f.lua_pushvfstring,lt=f.lua_rawequal,it=f.lua_rawget,ct=f.lua_rawgeti,ft=f.lua_rawlen,_t=f.lua_rawseti,pt=f.lua_remove,vt=f.lua_setfield,Lt=f.lua_setglobal,ht=f.lua_setmetatable,dt=f.lua_settop,At=f.lua_toboolean,bt=f.lua_tointeger,gt=f.lua_tointegerx,Tt=f.lua_tojsstring,xt=f.lua_tolstring,Ot=f.lua_tonumber,kt=f.lua_tonumberx,mt=f.lua_topointer,Et=f.lua_tostring,yt=f.lua_touserdata,Nt=f.lua_type,Rt=f.lua_typename,St=f.lua_version,Ut=r(5),It=Ut.from_userstring,wt=Ut.luastring_eq,Mt=Ut.to_luastring,Pt=Ut.to_uristring,Ct=_+1,Bt=Mt("_LOADED"),Vt=Mt("_PRELOAD"),Dt=Mt("FILE*"),Gt=Mt("__name"),Kt=Mt("__tostring"),Ft=new Uint8Array(0),jt=u((function t(){s(this,t),this.L=null,this.b=Ft,this.n=0})),Ht=function(t,e){var r=B(t);if(M(t,Mt("f"),e),w(t,v,Bt),function t(e,r,n){if(0===n||!j(e,-1))return 0;for(at(e);J(e,-2);){if(Nt(e,-2)===T){if(lt(e,r,-1))return q(e,1),1;if(t(e,r,n-1))return pt(e,-2),rt(e,"."),V(e,-2),R(e,3),1}q(e,1)}return 0}(t,r+1,2)){var n=Et(t,-1);return 95===n[0]&&71===n[1]&&46===n[2]&&(ut(t,n.subarray(3)),pt(t,-2)),S(t,-1,r+1),q(t,2),1}return dt(t,r),0},Xt=function(t,e){Ht(t,e)?(tt(t,Mt("function '%s'"),Et(t,-1)),pt(t,-2)):0!==e.namewhat.length?tt(t,Mt("%s '%s'"),e.namewhat,e.name):e.what&&109===e.what[0]?rt(t,"main chunk"):e.what&&76===e.what[0]?tt(t,Mt("function <%s:%d>"),e.short_src,e.linedefined):rt(t,"?")},zt=function(t){var e="PANIC: unprotected error in call to Lua API ("+Tt(t,-1)+")";throw new Error(e)},Yt=function(t,e,r){var n=new k;return C(t,0,n)?(M(t,Mt("n"),n),wt(n.namewhat,Mt("method"))&&0===--e?qt(t,Mt("calling '%s' on bad self (%s)"),n.name,r):(null===n.name&&(n.name=Ht(t,n)?Et(t,-1):Mt("?")),qt(t,Mt("bad argument #%d to '%s' (%s)"),e,n.name,r))):qt(t,Mt("bad argument #%d (%s)"),e,r)},Jt=function(t,e,r){var n;n=be(t,e,Gt)===T?Et(t,-1):Nt(t,e)===d?Mt("light userdata",!0):ee(t,e);var a=tt(t,Mt("%s expected, got %s"),r,n);return Yt(t,e,a)},Zt=function(t,e){var r=new k;C(t,e,r)&&(M(t,Mt("Sl",!0),r),r.currentline>0)?tt(t,Mt("%s:%d: "),r.short_src,r.currentline):ut(t,Mt(""))},qt=function(t,e){Zt(t,1);for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return st(t,e,n),R(t,2),I(t)},$t=function(t,e,r,n){return e?($(t,1),1):(at(t),n?(a=n.message,u=-n.errno):(a="Success",u=0),r?tt(t,Mt("%s: %s"),r,Mt(a)):ut(t,Mt(a)),et(t,u),3);var a,u},Wt=function(t,e){return w(t,v,e)},Qt=function(t,e,r){var n=yt(t,e);return null!==n&&P(t,e)?(Wt(t,r),lt(t,-1,-2)||(n=null),q(t,2),n):null},te=function(t,e,r){Jt(t,e,Rt(t,r))},ee=function(t,e){return Rt(t,Nt(t,e))},re=function(t,e){var r=xt(t,e);return null==r&&te(t,e,T),r},ne=re,ae=function(t,e,r){return Nt(t,e)<=0?null===r?null:It(r):re(t,e)},ue=ae,oe=function(t,e){var r=kt(t,e);return!1===r&&te(t,e,g),r},se=function(t,e){var r=gt(t,e);return!1===r&&function(t,e){K(t,e)?Yt(t,e,Mt("number has no integer representation",!0)):te(t,e,g)}(t,e),r},le=function(t,e){var r=t.n+e;if(t.b.length<r){var n=Math.max(2*t.b.length,r),a=new Uint8Array(n);a.set(t.b),t.b=a}return t.b.subarray(t.n,r)},ie=function(t,e){e.L=t,e.b=Ft},ce=function(t,e,r){r>0&&(e=It(e),le(t,r).set(e.subarray(0,r)),pe(t,r))},fe=function(t,e){e=It(e),ce(t,e,e.length)},_e=function(t){nt(t.L,t.b,t.n),t.n=0,t.b=Ft},pe=function(t,e){t.n+=e},ve=function(t,e,r,n){return Nt(t,r)<=0?n:e(t,r)},Le=function(t,e){var r=e.string;return e.string=null,r},he=function(t,e,r,n,a){return X(t,Le,{string:e},n,a)},de=function(t,e,r,n){return he(t,e,0,n,null)},Ae=function(t,e){return de(t,e,e.length,e)},be=function(t,e,r){if(P(t,e)){ut(t,r);var n=it(t,-2);return n===A?q(t,2):pt(t,-2),n}return A},ge=function(t,e,r){return e=m(t,e),be(t,e,r)!==A&&(ot(t,e),y(t,1,1),!0)},Te=Mt("%I"),xe=Mt("%f"),Oe=function(t,e,r){var n=r>>>0,a=e.length,u=t.length+1-a;t:for(;n<u;n++){for(var o=0;o<a;o++)if(t[n+o]!==e[o])continue t;return n}return-1},ke=function(t,e,r){return w(t,e,r)===x||(q(t,1),e=m(t,e),Y(t),ot(t,-1),vt(t,e,r),!1)},me=function(t,e,r){for(var n in Ee(t,r,Mt("too many upvalues",!0)),e){for(var a=0;a<r;a++)ot(t,-r);W(t,e[n],r),vt(t,-(r+2),Mt(n))}q(t,r)},Ee=function(t,e,r){N(t,e)||(r?qt(t,Mt("stack overflow (%s)"),r):qt(t,Mt("stack overflow",!0)))},ye=function(t,e,r,n){var a=n.message,u=Et(t,r).subarray(1);return tt(t,Mt("cannot %s %s: %s"),Mt(e),u,Mt(a)),pt(t,r),Ct},Ne=[239,187,191],Re=function(t){var e=function(t){var e;t.n=0;var r=0;do{if(null===(e=l(t))||e!==Ne[r])return e;r++,t.buff[t.n++]=e}while(r<Ne.length);return t.n=0,l(t)}(t);if(35===e){do{e=l(t)}while(e&&10!==e);return{skipped:!0,c:l(t)}}return{skipped:!1,c:e}},Se=u((function t(){s(this,t),this.n=NaN,this.f=null,this.buff=new Uint8Array(1024),this.pos=0,this.err=void 0})),Ue=function(t,e){var r=e;if(null!==r.f&&r.n>0){var n=r.n;return r.n=0,r.f=r.f.subarray(r.pos),r.buff.subarray(0,n)}var a=r.f;return r.f=null,a};l=function(t){return t.pos<t.f.length?t.f[t.pos++]:null},i=function(t,e,r){var n=new Se,a=B(t)+1;if(null===e)throw new Error("Can't read stdin in the browser");tt(t,Mt("@%s"),e);var u=Pt(e),o=new XMLHttpRequest;if(o.open("GET",u,!1),"undefined"==typeof window&&(o.responseType="arraybuffer"),o.send(),!(o.status>=200&&o.status<=299))return n.err=o.status,ye(t,"open",a,{message:"".concat(o.status,": ").concat(o.statusText)});"string"==typeof o.response?n.f=Mt(o.response):n.f=new Uint8Array(o.response);var s=Re(n);s.c===L[0]&&e||s.skipped&&(n.buff[n.n++]=10),null!==s.c&&(n.buff[n.n++]=s.c);var l=X(t,Ue,n,Et(t,-1),r),i=n.err;return i?(dt(t,a),ye(t,"read",a,i)):(pt(t,a),l)};var Ie=function(t,e){return i(t,e,null)},we=function(t,e,r){var n=St(t);72!=r&&qt(t,Mt("core and library have incompatible numeric types")),n!=St(null)?qt(t,Mt("multiple Lua VMs detected")):n!==e&&qt(t,Mt("version mismatch: app. needs %f, Lua core provides %f"),e,n)};t.exports.LUA_ERRFILE=Ct,t.exports.LUA_FILEHANDLE=Dt,t.exports.LUA_LOADED_TABLE=Bt,t.exports.LUA_NOREF=-2,t.exports.LUA_PRELOAD_TABLE=Vt,t.exports.LUA_REFNIL=-1,t.exports.luaL_Buffer=jt,t.exports.luaL_addchar=function(t,e){le(t,1),t.b[t.n++]=e},t.exports.luaL_addlstring=ce,t.exports.luaL_addsize=pe,t.exports.luaL_addstring=fe,t.exports.luaL_addvalue=function(t){var e=t.L,r=Et(e,-1);ce(t,r,r.length),q(e,1)},t.exports.luaL_argcheck=function(t,e,r,n){e||Yt(t,r,n)},t.exports.luaL_argerror=Yt,t.exports.luaL_buffinit=ie,t.exports.luaL_buffinitsize=function(t,e,r){return ie(t,e),le(e,r)},t.exports.luaL_callmeta=ge,t.exports.luaL_checkany=function(t,e){Nt(t,e)===b&&Yt(t,e,Mt("value expected",!0))},t.exports.luaL_checkinteger=se,t.exports.luaL_checklstring=re,t.exports.luaL_checknumber=oe,t.exports.luaL_checkoption=function(t,e,r,n){for(var a=null!==r?ue(t,e,r):ne(t,e),u=0;n[u];u++)if(wt(n[u],a))return u;return Yt(t,e,tt(t,Mt("invalid option '%s'"),a))},t.exports.luaL_checkstack=Ee,t.exports.luaL_checkstring=ne,t.exports.luaL_checktype=function(t,e,r){Nt(t,e)!==r&&te(t,e,r)},t.exports.luaL_checkudata=function(t,e,r){var n=Qt(t,e,r);return null===n&&Jt(t,e,r),n},t.exports.luaL_checkversion=function(t){we(t,O,72)},t.exports.luaL_checkversion_=we,t.exports.luaL_dofile=function(t,e){return Ie(t,e)||Z(t,0,p,0)},t.exports.luaL_dostring=function(t,e){return Ae(t,e)||Z(t,0,p,0)},t.exports.luaL_error=qt,t.exports.luaL_execresult=function(t,e){var r,n;if(null===e)return $(t,1),rt(t,"exit"),et(t,0),3;if(e.status)r="exit",n=e.status;else{if(!e.signal)return $t(t,0,null,e);r="signal",n=e.signal}return at(t),rt(t,r),et(t,n),3},t.exports.luaL_fileresult=$t,t.exports.luaL_getmetafield=be,t.exports.luaL_getmetatable=Wt,t.exports.luaL_getsubtable=ke,t.exports.luaL_gsub=function(t,e,r,n){var a,u=new jt;for(ie(t,u);(a=Oe(e,r))>=0;)ce(u,e,a),fe(u,n),e=e.subarray(a+r.length);return fe(u,e),_e(u),Et(t,-1)},t.exports.luaL_len=function(t,e){H(t,e);var r=gt(t,-1);return!1===r&&qt(t,Mt("object length is not an integer",!0)),q(t,1),r},t.exports.luaL_loadbuffer=de,t.exports.luaL_loadbufferx=he,t.exports.luaL_loadfile=Ie,t.exports.luaL_loadfilex=i,t.exports.luaL_loadstring=Ae,t.exports.luaL_newlib=function(t,e){U(t),me(t,e,0)},t.exports.luaL_newlibtable=function(t){U(t)},t.exports.luaL_newmetatable=function(t,e){return Wt(t,e)!==A?0:(q(t,1),U(t,0,2),ut(t,e),vt(t,-2,Gt),ot(t,-1),vt(t,v,e),1)},t.exports.luaL_newstate=function(){var t=z();return t&&E(t,zt),t},t.exports.luaL_opt=ve,t.exports.luaL_optinteger=function(t,e,r){return ve(t,se,e,r)},t.exports.luaL_optlstring=ae,t.exports.luaL_optnumber=function(t,e,r){return ve(t,oe,e,r)},t.exports.luaL_optstring=ue,t.exports.luaL_prepbuffer=function(t){return le(t,c)},t.exports.luaL_prepbuffsize=le,t.exports.luaL_pushresult=_e,t.exports.luaL_pushresultsize=function(t,e){pe(t,e),_e(t)},t.exports.luaL_ref=function(t,e){var r;return G(t,-1)?(q(t,1),-1):(e=m(t,e),ct(t,e,0),r=bt(t,-1),q(t,1),0!==r?(ct(t,e,r),_t(t,e,0)):r=ft(t,e)+1,_t(t,e,r),r)},t.exports.luaL_requiref=function(t,e,r,n){ke(t,v,Bt),w(t,-1,e),At(t,-1)||(q(t,1),Q(t,r),ut(t,e),y(t,1,1),ot(t,-1),vt(t,-3,e)),pt(t,-2),n&&(ot(t,-1),Lt(t,e))},t.exports.luaL_setfuncs=me,t.exports.luaL_setmetatable=function(t,e){Wt(t,e),ht(t,-2)},t.exports.luaL_testudata=Qt,t.exports.luaL_tolstring=function(t,e){if(ge(t,e,Kt))F(t,-1)||qt(t,Mt("'__tostring' must return a string"));else switch(Nt(t,e)){case g:D(t,e)?tt(t,Te,bt(t,e)):tt(t,xe,Ot(t,e));break;case T:ot(t,e);break;case h:rt(t,At(t,e)?"true":"false");break;case A:rt(t,"nil");break;default:var r=be(t,e,Gt),n=r===T?Et(t,-1):ee(t,e);tt(t,Mt("%s: %p"),n,mt(t,e)),r!==A&&pt(t,-2)}return xt(t,-1)},t.exports.luaL_traceback=function(t,e,r,n){var a=new k,u=B(t),o=function(t){for(var e=new k,r=1,n=1;C(t,n,e);)r=n,n*=2;for(;r<n;){var a=Math.floor((r+n)/2);C(t,a,e)?r=a+1:n=a}return n-1}(e),s=o-n>21?10:-1;for(r&&tt(t,Mt("%s\n"),r),Ee(t,10,null),rt(t,"stack traceback:");C(e,n++,a);)0==s--?(rt(t,"\n\t..."),n=o-11+1):(M(e,Mt("Slnt",!0),a),tt(t,Mt("\n\t%s:"),a.short_src),a.currentline>0&&rt(t,"".concat(a.currentline,":")),rt(t," in "),Xt(t,a),a.istailcall&&rt(t,"\n\t(...tail calls..)"),R(t,B(t)-u));R(t,B(t)-u)},t.exports.luaL_typename=ee,t.exports.luaL_unref=function(t,e,r){r>=0&&(e=m(t,e),ct(t,e,0),_t(t,e,r),et(t,r),_t(t,e,0))},t.exports.luaL_where=Zt,t.exports.lua_writestringerror=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];do{var r=/([^\n]*)\n?([\d\D]*)/.exec(e);console.error(r[1]),e=r[2]}while(""!==e)}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var s=r(1),l=s.LUA_HOOKCALL,i=s.LUA_HOOKRET,c=s.LUA_HOOKTAILCALL,f=s.LUA_MASKCALL,_=s.LUA_MASKLINE,p=s.LUA_MASKRET,v=s.LUA_MINSTACK,L=s.LUA_MULTRET,h=s.LUA_SIGNATURE,d=s.constant_types,A=d.LUA_TCCL,b=d.LUA_TLCF,g=d.LUA_TLCL,T=d.LUA_TNIL,x=s.thread_status,O=x.LUA_ERRMEM,k=x.LUA_ERRERR,m=x.LUA_ERRRUN,E=x.LUA_ERRSYNTAX,y=x.LUA_OK,N=x.LUA_YIELD,R=s.lua_Debug,S=s.luastring_indexOf,U=s.to_luastring,I=r(19),w=r(11),M=r(13),P=r(4),C=P.api_check,B=P.lua_assert,V=P.LUAI_MAXCCALLS,D=r(6),G=r(16),K=r(23),F=r(12),j=r(10).luaS_newliteral,H=r(14),X=r(3).LUAI_MAXSTACK,z=r(36),Y=r(15),J=r(20).MBuffer,Z=function(t,e){if(t.top<e)for(;t.top<e;)t.stack[t.top++]=new D.TValue(T,null);else for(;t.top>e;)delete t.stack[--t.top]},q=function(t,e,r){for(var n=t.top;t.top<r+1;)t.stack[t.top++]=new D.TValue(T,null);switch(e){case O:D.setsvalue2s(t,r,j(t,"not enough memory"));break;case k:D.setsvalue2s(t,r,j(t,"error in error handling"));break;default:D.setobjs2s(t,r,n-1)}for(;t.top>r+1;)delete t.stack[--t.top]},$=X+200,W=function(t,e){B(e<=X||e==$),B(t.stack_last==t.stack.length-F.EXTRA_STACK),t.stack.length=e,t.stack_last=e-F.EXTRA_STACK},Q=function(t,e){var r=t.stack.length;if(r>X)ct(t,k);else{var n=t.top+e+F.EXTRA_STACK,a=2*r;a>X&&(a=X),a<n&&(a=n),a>X?(W(t,$),w.luaG_runerror(t,U("stack overflow",!0))):W(t,a)}},tt=function(t,e){t.stack_last-t.top<=e&&Q(t,e)},et=function(t){var e=function(t){for(var e=t.top,r=t.ci;null!==r;r=r.previous)e<r.top&&(e=r.top);return B(e<=t.stack_last),e+1}(t),r=e+Math.floor(e/8)+2*F.EXTRA_STACK;r>X&&(r=X),t.stack.length>X&&F.luaE_freeCI(t),e<=X-F.EXTRA_STACK&&r<t.stack.length&&W(t,r)},rt=function t(e,r,n){var a=e.stack[r];switch(a.type){case A:case b:var u=a.type===A?a.value.f:a.value;tt(e,v);var o=F.luaE_extendCI(e);o.funcOff=r,o.nresults=n,o.func=a,o.top=e.top+v,B(o.top<=e.stack_last),o.callstatus=0,e.hookmask&f&&ut(e,l,-1);var s=u(e);if("number"!=typeof s||s<0||(0|s)!==s)throw Error("invalid return value from JS function (expected integer)");return I.api_checknelems(e,s),nt(e,o,e.top-s,s),!0;case g:var i,c=a.value.p,_=e.top-r-1,p=c.maxstacksize;if(tt(e,p),c.is_vararg)i=st(e,c,_);else{for(;_<c.numparams;_++)e.stack[e.top++]=new D.TValue(T,null);i=r+1}var L=F.luaE_extendCI(e);return L.funcOff=r,L.nresults=n,L.func=a,L.l_base=i,L.top=i+p,Z(e,L.top),L.l_code=c.code,L.l_savedpc=0,L.callstatus=F.CIST_LUA,e.hookmask&f&&ot(e,L),!1;default:return tt(e,1),lt(e,r,a),t(e,r,n)}},nt=function(t,e,r,n){var a=e.nresults;t.hookmask&(p|_)&&(t.hookmask&p&&ut(t,i,-1),t.oldpc=e.previous.l_savedpc);var u=e.funcOff;return t.ci=e.previous,t.ci.next=null,at(t,r,u,n,a)},at=function(t,e,r,n,a){switch(a){case 0:break;case 1:0===n?t.stack[r].setnilvalue():D.setobjs2s(t,r,e);break;case L:for(var u=0;u<n;u++)D.setobjs2s(t,r+u,e+u);for(var o=t.top;o>=r+n;o--)delete t.stack[o];return t.top=r+n,!1;default:var s;if(a<=n)for(s=0;s<a;s++)D.setobjs2s(t,r+s,e+s);else{for(s=0;s<n;s++)D.setobjs2s(t,r+s,e+s);for(;s<a;s++)r+s>=t.top?t.stack[r+s]=new D.TValue(T,null):t.stack[r+s].setnilvalue()}}for(var l=r+a,i=t.top;i>=l;i--)delete t.stack[i];return t.top=l,!0},ut=function(t,e,r){var n=t.hook;if(n&&t.allowhook){var a=t.ci,u=t.top,o=a.top,s=new R;s.event=e,s.currentline=r,s.i_ci=a,tt(t,v),a.top=t.top+v,B(a.top<=t.stack_last),t.allowhook=0,a.callstatus|=F.CIST_HOOKED,n(t,s),B(!t.allowhook),t.allowhook=1,a.top=o,Z(t,u),a.callstatus&=~F.CIST_HOOKED}},ot=function(t,e){var r=l;e.l_savedpc++,e.previous.callstatus&F.CIST_LUA&&e.previous.l_code[e.previous.l_savedpc-1].opcode==G.OpCodesI.OP_TAILCALL&&(e.callstatus|=F.CIST_TAIL,r=c),ut(t,r,-1),e.l_savedpc--},st=function(t,e,r){var n,a=e.numparams,u=t.top-r,o=t.top;for(n=0;n<a&&n<r;n++)D.pushobj2s(t,t.stack[u+n]),t.stack[u+n].setnilvalue();for(;n<a;n++)t.stack[t.top++]=new D.TValue(T,null);return o},lt=function(t,e,r){var n=H.luaT_gettmbyobj(t,r,H.TMS.TM_CALL);n.ttisfunction(n)||w.luaG_typeerror(t,r,U("call",!0)),D.pushobj2s(t,t.stack[t.top-1]);for(var a=t.top-2;a>e;a--)D.setobjs2s(t,a,a-1);D.setobj2s(t,e,n)},it=function(t,e,r){++t.nCcalls>=V&&function(t){t.nCcalls===V?w.luaG_runerror(t,U("JS stack overflow",!0)):t.nCcalls>=V+(V>>3)&&ct(t,k)}(t),rt(t,e,r)||Y.luaV_execute(t),t.nCcalls--},ct=function t(e,r){if(e.errorJmp)throw e.errorJmp.status=r,e.errorJmp;var n=e.l_G;if(e.status=r,!n.mainthread.errorJmp){var a=n.panic;throw a&&(q(e,r,e.top),e.ci.top<e.top&&(e.ci.top=e.top),a(e)),new Error("Aborted ".concat(r))}n.mainthread.stack[n.mainthread.top++]=e.stack[e.top-1],t(n.mainthread,r)},ft=function(t,e,r){var n=t.nCcalls,a={status:y,previous:t.errorJmp};t.errorJmp=a;try{e(t,r)}catch(e){if(a.status===y){var u=t.l_G.atnativeerror;if(u)try{if(a.status=y,I.lua_pushcfunction(t,u),I.lua_pushlightuserdata(t,e),bt(t,t.top-2,1),0!==t.errfunc){var o=t.errfunc;D.pushobj2s(t,t.stack[t.top-1]),D.setobjs2s(t,t.top-2,o),bt(t,t.top-2,1)}a.status=m}catch(t){a.status===y&&(a.status=-1)}else a.status=-1}}return t.errorJmp=a.previous,t.nCcalls=n,a.status},_t=function(t,e){var r=t.ci;B(null!==r.c_k&&0===t.nny),B(r.callstatus&F.CIST_YPCALL||e===N),r.callstatus&F.CIST_YPCALL&&(r.callstatus&=~F.CIST_YPCALL,t.errfunc=r.c_old_errfunc),r.nresults===L&&t.ci.top<t.top&&(t.ci.top=t.top);var n=(0,r.c_k)(t,e,r.c_ctx);I.api_checknelems(t,n),nt(t,r,t.top-n,n)},pt=function(t,e){for(null!==e&&_t(t,e);t.ci!==t.base_ci;)t.ci.callstatus&F.CIST_LUA?(Y.luaV_finishOp(t),Y.luaV_execute(t)):_t(t,N)},vt=function(t,e){var r=function(t){for(var e=t.ci;null!==e;e=e.previous)if(e.callstatus&F.CIST_YPCALL)return e;return null}(t);if(null===r)return 0;var n=r.extra;return M.luaF_close(t,n),q(t,e,n),t.ci=r,t.allowhook=r.callstatus&F.CIST_OAH,t.nny=0,et(t),t.errfunc=r.c_old_errfunc,1},Lt=function(t,e,r){var n=j(t,e);if(0===r)D.pushsvalue2s(t,n),C(t,t.top<=t.ci.top,"stack overflow");else{for(var a=1;a<r;a++)delete t.stack[--t.top];D.setsvalue2s(t,t.top-1,n)}return m},ht=function(t,e){var r=t.top-e,n=t.ci;t.status===y?rt(t,r-1,L)||Y.luaV_execute(t):(B(t.status===N),t.status=y,n.funcOff=n.extra,n.func=t.stack[n.funcOff],n.callstatus&F.CIST_LUA?Y.luaV_execute(t):(null!==n.c_k&&(e=n.c_k(t,N,n.c_ctx),I.api_checknelems(t,e),r=t.top-e),nt(t,n,r,e)),pt(t,null))},dt=function(t,e,r,n){var a=t.ci;return I.api_checknelems(t,e),t.nny>0&&(t!==t.l_G.mainthread?w.luaG_runerror(t,U("attempt to yield across a JS-call boundary",!0)):w.luaG_runerror(t,U("attempt to yield from outside a coroutine",!0))),t.status=N,a.extra=a.funcOff,a.callstatus&F.CIST_LUA?C(t,null===n,"hooks cannot continue after yielding"):(a.c_k=n,null!==n&&(a.c_ctx=r),a.funcOff=t.top-e-1,a.func=t.stack[a.funcOff],ct(t,N)),B(a.callstatus&F.CIST_HOOKED),0},At=function(t,e,r,n,a){var u=t.ci,o=t.allowhook,s=t.nny,l=t.errfunc;t.errfunc=a;var i=ft(t,e,r);return i!==y&&(M.luaF_close(t,n),q(t,i,n),t.ci=u,t.allowhook=o,t.nny=s,et(t)),t.errfunc=l,i},bt=function(t,e,r){t.nny++,it(t,e,r),t.nny--},gt=u((function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.z=e,this.buff=new J,this.dyd=new K.Dyndata,this.mode=n,this.name=r})),Tt=function(t,e,r){e&&-1===S(e,r[0])&&(D.luaO_pushfstring(t,U("attempt to load a %s chunk (mode is '%s')"),r,e),ct(t,E))},xt=function(t,e){var r,n=e.z.zgetc();n===h[0]?(Tt(t,e.mode,U("binary",!0)),r=z.luaU_undump(t,e.z,e.name)):(Tt(t,e.mode,U("text",!0)),r=K.luaY_parser(t,e.z,e.buff,e.dyd,e.name,n)),B(r.nupvalues===r.p.upvalues.length),M.luaF_initupvals(t,r)};t.exports.adjust_top=Z,t.exports.luaD_call=it,t.exports.luaD_callnoyield=bt,t.exports.luaD_checkstack=tt,t.exports.luaD_growstack=Q,t.exports.luaD_hook=ut,t.exports.luaD_inctop=function(t){tt(t,1),t.stack[t.top++]=new D.TValue(T,null)},t.exports.luaD_pcall=At,t.exports.luaD_poscall=nt,t.exports.luaD_precall=rt,t.exports.luaD_protectedparser=function(t,e,r,n){var a=new gt(e,r,n);t.nny++;var u=At(t,xt,a,t.top,t.errfunc);return t.nny--,u},t.exports.luaD_rawrunprotected=ft,t.exports.luaD_reallocstack=W,t.exports.luaD_throw=ct,t.exports.lua_isyieldable=function(t){return 0===t.nny},t.exports.lua_resume=function(t,e,r){var n=t.nny;if(t.status===y){if(t.ci!==t.base_ci)return Lt(t,"cannot resume non-suspended coroutine",r)}else if(t.status!==N)return Lt(t,"cannot resume dead coroutine",r);if(t.nCcalls=e?e.nCcalls+1:1,t.nCcalls>=V)return Lt(t,"JS stack overflow",r);t.nny=0,I.api_checknelems(t,t.status===y?r+1:r);var a=ft(t,ht,r);if(-1===a)a=m;else{for(;a>N&&vt(t,a);)a=ft(t,pt,a);a>N?(t.status=a,q(t,a,t.top),t.ci.top=t.top):B(a===t.status)}return t.nny=n,t.nCcalls--,B(t.nCcalls===(e?e.nCcalls:0)),a},t.exports.lua_yield=function(t,e){dt(t,e,0,null)},t.exports.lua_yieldk=dt},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=r(1),l=s.constant_types,i=l.LUA_TBOOLEAN,c=l.LUA_TCCL,f=l.LUA_TLCF,_=l.LUA_TLCL,p=l.LUA_TLIGHTUSERDATA,v=l.LUA_TLNGSTR,L=l.LUA_TNIL,h=l.LUA_TNUMFLT,d=l.LUA_TNUMINT,A=l.LUA_TSHRSTR,b=l.LUA_TTABLE,g=l.LUA_TTHREAD,T=l.LUA_TUSERDATA,x=s.to_luastring,O=r(4).lua_assert,k=r(11),m=r(6),E=r(10),y=E.luaS_hashlongstr,N=E.TString,R=r(12),S=new WeakMap,U=function(t){var e=S.get(t);return e||(e={},S.set(t,e)),e},I=function(t,e){switch(e.type){case L:return k.luaG_runerror(t,x("table index is nil",!0));case h:if(isNaN(e.value))return k.luaG_runerror(t,x("table index is NaN",!0));case d:case i:case b:case _:case f:case c:case T:case g:return e.value;case A:case v:return y(e.tsvalue());case p:var r=e.value;switch(o(r)){case"string":return"*"+r;case"number":return"#"+r;case"boolean":return r?"?true":"?false";case"function":return U(r);case"object":if(r instanceof R.lua_State&&r.l_G===t.l_G||r instanceof w||r instanceof m.Udata||r instanceof m.LClosure||r instanceof m.CClosure)return U(r);default:return r}default:throw new Error("unknown key type: "+e.type)}},w=a((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.l_G.id_counter++,this.strong=new Map,this.dead_strong=new Map,this.dead_weak=void 0,this.f=void 0,this.l=void 0,this.metatable=null,this.flags=-1})),M=function(t,e,r,n){t.dead_strong.clear(),t.dead_weak=void 0;var a=null,u={key:r,value:n,p:a=t.l,n:void 0};t.f||(t.f=u),a&&(a.n=u),t.strong.set(e,u),t.l=u},P=function(t,e){var r,n=t.strong.get(e);if(n){n.key.setdeadvalue(),n.value=void 0;var a=n.n,u=n.p;n.p=void 0,u&&(u.n=a),a&&(a.p=u),t.f===n&&(t.f=a),t.l===n&&(t.l=u),t.strong.delete(e),("object"===o(r=e)?null!==r:"function"==typeof r)?(t.dead_weak||(t.dead_weak=new WeakMap),t.dead_weak.set(e,n)):t.dead_strong.set(e,n)}},C=function(t,e){var r=t.strong.get(e);return r?r.value:m.luaO_nilobject},B=function(t,e){return O("number"==typeof e&&(0|e)===e),C(t,e)};t.exports.invalidateTMcache=function(t){t.flags=0},t.exports.luaH_get=function(t,e,r){return O(r instanceof m.TValue),r.ttisnil()||r.ttisfloat()&&isNaN(r.value)?m.luaO_nilobject:C(e,I(t,r))},t.exports.luaH_getint=B,t.exports.luaH_getn=function(t){for(var e=0,r=t.strong.size+1;r-e>1;){var n=Math.floor((e+r)/2);B(t,n).ttisnil()?r=n:e=n}return e},t.exports.luaH_getstr=function(t,e){return O(e instanceof N),C(t,y(e))},t.exports.luaH_setfrom=function(t,e,r,n){O(r instanceof m.TValue);var a=I(t,r);if(n.ttisnil())P(e,a);else{var u=e.strong.get(a);if(u)u.value.setfrom(n);else{var o,s=r.value;o=r.ttisfloat()&&(0|s)===s?new m.TValue(d,s):new m.TValue(r.type,s);var l=new m.TValue(n.type,n.value);M(e,a,o,l)}}},t.exports.luaH_setint=function(t,e,r){O("number"==typeof e&&(0|e)===e&&r instanceof m.TValue);var n=e;if(r.ttisnil())P(t,n);else{var a=t.strong.get(n);if(a){a.value.setfrom(r)}else{var u=new m.TValue(d,e),o=new m.TValue(r.type,r.value);M(t,n,u,o)}}},t.exports.luaH_new=function(t){return new w(t)},t.exports.luaH_next=function(t,e,r){var n,a=t.stack[r];if(a.type===L){if(!(n=e.f))return!1}else{var u=I(t,a);if(n=e.strong.get(u)){if(!(n=n.n))return!1}else{if(!(n=e.dead_weak&&e.dead_weak.get(u)||e.dead_strong.get(u)))return k.luaG_runerror(t,x("invalid key to 'next'"));do{if(!(n=n.n))return!1}while(n.key.ttisdeadkey())}}return m.setobj2s(t,r,n.key),m.setobj2s(t,r+1,n.value),!0},t.exports.Table=w},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var o=r(1),s=o.is_luastring,l=o.luastring_eq,i=o.luastring_from,c=o.to_luastring,f=r(4).lua_assert,_=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hash=null,this.realstring=r},(e=[{key:"getstr",value:function(){return this.realstring}},{key:"tsslen",value:function(){return this.realstring.length}}])&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),p=function(t){f(s(t));for(var e=t.length,r="|",n=0;n<e;n++)r+=t[n].toString(16);return r},v=function(t,e){return f(e instanceof Uint8Array),new _(t,e)};t.exports.luaS_eqlngstr=function(t,e){return f(t instanceof _),f(e instanceof _),t==e||l(t.realstring,e.realstring)},t.exports.luaS_hash=p,t.exports.luaS_hashlongstr=function(t){return f(t instanceof _),null===t.hash&&(t.hash=p(t.getstr())),t.hash},t.exports.luaS_bless=v,t.exports.luaS_new=function(t,e){return v(t,i(e))},t.exports.luaS_newliteral=function(t,e){return v(t,c(e))},t.exports.TString=_},function(t,e,r){"use strict";var n=r(1),a=n.LUA_HOOKCOUNT,u=n.LUA_HOOKLINE,o=n.LUA_MASKCOUNT,s=n.LUA_MASKLINE,l=n.constant_types,i=l.LUA_TBOOLEAN,c=l.LUA_TNIL,f=l.LUA_TTABLE,_=n.thread_status,p=_.LUA_ERRRUN,v=_.LUA_YIELD,L=n.from_userstring,h=n.luastring_eq,d=n.luastring_indexOf,A=n.to_luastring,b=r(4),g=b.api_check,T=b.lua_assert,x=r(3).LUA_IDSIZE,O=r(19),k=r(8),m=r(13),E=r(21),y=r(6),N=r(16),R=r(12),S=r(9),U=r(14),I=r(15),w=function(t){return T(t.callstatus&R.CIST_LUA),t.l_savedpc-1},M=function(t){return 0!==t.func.value.p.lineinfo.length?t.func.value.p.lineinfo[w(t)]:-1},P=function(t){if(t.status===v){var e=t.ci,r=e.funcOff;e.func=t.stack[e.extra],e.funcOff=e.extra,e.extra=r}},C=function(t,e){T(e<t.upvalues.length);var r=t.upvalues[e].name;return null===r?A("?",!0):r.getstr()},B=function(t,e,r){var n,a=null;if(e.callstatus&R.CIST_LUA){if(r<0)return function(t,e){var r=t.func.value.p.numparams;return e>=t.l_base-t.funcOff-r?null:{pos:t.funcOff+r+e,name:A("(*vararg)",!0)}}(e,-r);n=e.l_base,a=m.luaF_getlocalname(e.func.value.p,r,w(e))}else n=e.funcOff+1;if(null===a){if(!((e===t.ci?t.top:e.next.funcOff)-n>=r&&r>0))return null;a=A("(*temporary)",!0)}return{pos:n+(r-1),name:a}},V=function(t,e){if(null===e||e instanceof y.CClosure)t.source=A("=[JS]",!0),t.linedefined=-1,t.lastlinedefined=-1,t.what=A("J",!0);else{var r=e.p;t.source=r.source?r.source.getstr():A("=?",!0),t.linedefined=r.linedefined,t.lastlinedefined=r.lastlinedefined,t.what=0===t.linedefined?A("main",!0):A("Lua",!0)}t.short_src=y.luaO_chunkid(t.source,x)},D=function(t,e){var r={name:null,funcname:null};return null===e?null:e.callstatus&R.CIST_FIN?(r.name=A("__gc",!0),r.funcname=A("metamethod",!0),r):!(e.callstatus&R.CIST_TAIL)&&e.previous.callstatus&R.CIST_LUA?j(t,e.previous):null},G=function(t,e,r){var n={name:null,funcname:null};if(N.ISK(r)){var a=t.k[N.INDEXK(r)];if(a.ttisstring())return n.name=a.svalue(),n}else{var u=F(t,e,r);if(u&&99===u.funcname[0])return u}return n.name=A("?",!0),n},K=function(t,e){return t<e?-1:t},F=function t(e,r,n){var a={name:m.luaF_getlocalname(e,n+1,r),funcname:null};if(a.name)return a.funcname=A("local",!0),a;var u=function(t,e,r){for(var n=-1,a=0,u=N.OpCodesI,o=0;o<e;o++){var s=t.code[o],l=s.A;switch(s.opcode){case u.OP_LOADNIL:var i=s.B;l<=r&&r<=l+i&&(n=K(o,a));break;case u.OP_TFORCALL:r>=l+2&&(n=K(o,a));break;case u.OP_CALL:case u.OP_TAILCALL:r>=l&&(n=K(o,a));break;case u.OP_JMP:var c=o+1+s.sBx;o<c&&c<=e&&c>a&&(a=c);break;default:N.testAMode(s.opcode)&&r===l&&(n=K(o,a))}}return n}(e,r,n),o=N.OpCodesI;if(-1!==u){var s=e.code[u];switch(s.opcode){case o.OP_MOVE:var l=s.B;if(l<s.A)return t(e,u,l);break;case o.OP_GETTABUP:case o.OP_GETTABLE:var i=s.C,c=s.B,f=s.opcode===o.OP_GETTABLE?m.luaF_getlocalname(e,c+1,u):C(e,c);return a.name=G(e,u,i).name,a.funcname=f&&h(f,E.LUA_ENV)?A("global",!0):A("field",!0),a;case o.OP_GETUPVAL:return a.name=C(e,s.B),a.funcname=A("upvalue",!0),a;case o.OP_LOADK:case o.OP_LOADKX:var _=s.opcode===o.OP_LOADK?s.Bx:e.code[u+1].Ax;if(e.k[_].ttisstring())return a.name=e.k[_].svalue(),a.funcname=A("constant",!0),a;break;case o.OP_SELF:var p=s.C;return a.name=G(e,u,p).name,a.funcname=A("method",!0),a}}return null},j=function(t,e){var r={name:null,funcname:null},n=0,a=e.func.value.p,u=w(e),o=a.code[u],s=N.OpCodesI;if(e.callstatus&R.CIST_HOOKED)return r.name=A("?",!0),r.funcname=A("hook",!0),r;switch(o.opcode){case s.OP_CALL:case s.OP_TAILCALL:return F(a,u,o.A);case s.OP_TFORCALL:return r.name=A("for iterator",!0),r.funcname=A("for iterator",!0),r;case s.OP_SELF:case s.OP_GETTABUP:case s.OP_GETTABLE:n=U.TMS.TM_INDEX;break;case s.OP_SETTABUP:case s.OP_SETTABLE:n=U.TMS.TM_NEWINDEX;break;case s.OP_ADD:n=U.TMS.TM_ADD;break;case s.OP_SUB:n=U.TMS.TM_SUB;break;case s.OP_MUL:n=U.TMS.TM_MUL;break;case s.OP_MOD:n=U.TMS.TM_MOD;break;case s.OP_POW:n=U.TMS.TM_POW;break;case s.OP_DIV:n=U.TMS.TM_DIV;break;case s.OP_IDIV:n=U.TMS.TM_IDIV;break;case s.OP_BAND:n=U.TMS.TM_BAND;break;case s.OP_BOR:n=U.TMS.TM_BOR;break;case s.OP_BXOR:n=U.TMS.TM_BXOR;break;case s.OP_SHL:n=U.TMS.TM_SHL;break;case s.OP_SHR:n=U.TMS.TM_SHR;break;case s.OP_UNM:n=U.TMS.TM_UNM;break;case s.OP_BNOT:n=U.TMS.TM_BNOT;break;case s.OP_LEN:n=U.TMS.TM_LEN;break;case s.OP_CONCAT:n=U.TMS.TM_CONCAT;break;case s.OP_EQ:n=U.TMS.TM_EQ;break;case s.OP_LT:n=U.TMS.TM_LT;break;case s.OP_LE:n=U.TMS.TM_LE;break;default:return null}return r.name=t.l_G.tmname[n].getstr(),r.funcname=A("metamethod",!0),r},H=function(t,e){var r=t.ci,n=null;if(r.callstatus&R.CIST_LUA){n=function(t,e,r){for(var n=e.func.value,a=0;a<n.nupvalues;a++)if(n.upvals[a]===r)return{name:C(n.p,a),funcname:A("upvalue",!0)};return null}(0,r,e);var a=function(t,e,r){for(var n=e.l_base;n<e.top;n++)if(t.stack[n]===r)return n;return!1}(t,r,e);!n&&a&&(n=F(r.func.value.p,w(r),a-r.l_base))}return n?y.luaO_pushfstring(t,A(" (%s '%s')",!0),n.funcname,n.name):A("",!0)},X=function(t,e,r){var n=U.luaT_objtypename(t,e);Y(t,A("attempt to %s a %s value%s",!0),r,n,H(t,e))},z=function(t,e,r,n){var a;return a=r?y.luaO_chunkid(r.getstr(),x):A("?",!0),y.luaO_pushfstring(t,A("%s:%d: %s",!0),a,n,e)},Y=function(t,e){for(var r=t.ci,n=arguments.length,a=new Array(n>2?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];var o=y.luaO_pushvfstring(t,e,a);r.callstatus&R.CIST_LUA&&z(t,o,r.func.value.p.source,M(r)),J(t)},J=function(t){if(0!==t.errfunc){var e=t.errfunc;y.pushobj2s(t,t.stack[t.top-1]),y.setobjs2s(t,t.top-2,e),k.luaD_callnoyield(t,t.top-2,1)}k.luaD_throw(t,p)};t.exports.luaG_addinfo=z,t.exports.luaG_concaterror=function(t,e,r){(e.ttisstring()||I.cvt2str(e))&&(e=r),X(t,e,A("concatenate",!0))},t.exports.luaG_errormsg=J,t.exports.luaG_opinterror=function(t,e,r,n){!1===I.tonumber(e)&&(r=e),X(t,r,n)},t.exports.luaG_ordererror=function(t,e,r){var n=U.luaT_objtypename(t,e),a=U.luaT_objtypename(t,r);h(n,a)?Y(t,A("attempt to compare two %s values",!0),n):Y(t,A("attempt to compare %s with %s",!0),n,a)},t.exports.luaG_runerror=Y,t.exports.luaG_tointerror=function(t,e,r){!1===I.tointeger(e)&&(r=e),Y(t,A("number%s has no integer representation",!0),H(t,r))},t.exports.luaG_traceexec=function(t){var e=t.ci,r=t.hookmask,n=0==--t.hookcount&&r&o;if(n)t.hookcount=t.basehookcount;else if(!(r&s))return;if(e.callstatus&R.CIST_HOOKYIELD)e.callstatus&=~R.CIST_HOOKYIELD;else{if(n&&k.luaD_hook(t,a,-1),r&s){var l=e.func.value.p,i=e.l_savedpc-1,c=0!==l.lineinfo.length?l.lineinfo[i]:-1;(0===i||e.l_savedpc<=t.oldpc||c!==(0!==l.lineinfo.length?l.lineinfo[t.oldpc-1]:-1))&&k.luaD_hook(t,u,c)}t.oldpc=e.l_savedpc,t.status===v&&(n&&(t.hookcount=1),e.l_savedpc--,e.callstatus|=R.CIST_HOOKYIELD,e.funcOff=t.top-1,e.func=t.stack[e.funcOff],k.luaD_throw(t,v))}},t.exports.luaG_typeerror=X,t.exports.lua_gethook=function(t){return t.hook},t.exports.lua_gethookcount=function(t){return t.basehookcount},t.exports.lua_gethookmask=function(t){return t.hookmask},t.exports.lua_getinfo=function(t,e,r){var n,a,u,o;return e=L(e),P(t),62===e[0]?(u=null,o=t.stack[t.top-1],g(t,o.ttisfunction(),"function expected"),e=e.subarray(1),t.top--):(o=(u=r.i_ci).func,T(u.func.ttisfunction())),n=function(t,e,r,n,a){for(var u=1;e.length>0;e=e.subarray(1))switch(e[0]){case 83:V(r,n);break;case 108:r.currentline=a&&a.callstatus&R.CIST_LUA?M(a):-1;break;case 117:r.nups=null===n?0:n.nupvalues,null===n||n instanceof y.CClosure?(r.isvararg=!0,r.nparams=0):(r.isvararg=n.p.is_vararg,r.nparams=n.p.numparams);break;case 116:r.istailcall=a?a.callstatus&R.CIST_TAIL:0;break;case 110:var o=D(t,a);null===o?(r.namewhat=A("",!0),r.name=null):(r.namewhat=o.funcname,r.name=o.name);break;case 76:case 102:break;default:u=0}return u}(t,e,r,a=o.ttisclosure()?o.value:null,u),d(e,102)>=0&&(y.pushobj2s(t,o),g(t,t.top<=t.ci.top,"stack overflow")),P(t),d(e,76)>=0&&function(t,e){if(null===e||e instanceof y.CClosure)t.stack[t.top]=new y.TValue(c,null),O.api_incr_top(t);else{var r=e.p.lineinfo,n=S.luaH_new(t);t.stack[t.top]=new y.TValue(f,n),O.api_incr_top(t);for(var a=new y.TValue(i,!0),u=0;u<r.length;u++)S.luaH_setint(n,r[u],a)}}(t,a),n},t.exports.lua_getlocal=function(t,e,r){var n;if(P(t),null===e)n=t.stack[t.top-1].ttisLclosure()?m.luaF_getlocalname(t.stack[t.top-1].value.p,r,0):null;else{var a=B(t,e.i_ci,r);a?(n=a.name,y.pushobj2s(t,t.stack[a.pos]),g(t,t.top<=t.ci.top,"stack overflow")):n=null}return P(t),n},t.exports.lua_getstack=function(t,e,r){var n,a;if(e<0)return 0;for(n=t.ci;e>0&&n!==t.base_ci;n=n.previous)e--;return 0===e&&n!==t.base_ci?(a=1,r.i_ci=n):a=0,a},t.exports.lua_sethook=function(t,e,r,n){null!==e&&0!==r||(r=0,e=null),t.ci.callstatus&R.CIST_LUA&&(t.oldpc=t.ci.l_savedpc),t.hook=e,t.basehookcount=n,t.hookcount=t.basehookcount,t.hookmask=r},t.exports.lua_setlocal=function(t,e,r){var n;P(t);var a=B(t,e.i_ci,r);return a?(n=a.name,y.setobjs2s(t,a.pos,t.top-1),delete t.stack[--t.top]):n=null,P(t),n}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=r(1),i=l.LUA_MINSTACK,c=l.LUA_RIDX_GLOBALS,f=l.LUA_RIDX_MAINTHREAD,_=l.constant_types,p=_.LUA_NUMTAGS,v=_.LUA_TNIL,L=_.LUA_TTABLE,h=_.LUA_TTHREAD,d=l.thread_status.LUA_OK,A=r(6),b=r(8),g=r(19),T=r(9),x=r(14),O=2*i,k=u((function t(){s(this,t),this.func=null,this.funcOff=NaN,this.top=NaN,this.previous=null,this.next=null,this.l_base=NaN,this.l_code=null,this.l_savedpc=NaN,this.c_k=null,this.c_old_errfunc=null,this.c_ctx=null,this.nresults=NaN,this.callstatus=NaN})),m=u((function t(e){s(this,t),this.id=e.id_counter++,this.base_ci=new k,this.top=NaN,this.stack_last=NaN,this.oldpc=NaN,this.l_G=e,this.stack=null,this.ci=null,this.errorJmp=null,this.nCcalls=0,this.hook=null,this.hookmask=0,this.basehookcount=0,this.allowhook=1,this.hookcount=this.basehookcount,this.nny=1,this.status=d,this.errfunc=0})),E=u((function t(){s(this,t),this.id_counter=1,this.ids=new WeakMap,this.mainthread=null,this.l_registry=new A.TValue(v,null),this.panic=null,this.atnativeerror=null,this.version=null,this.tmname=new Array(x.TMS.TM_N),this.mt=new Array(p)})),y=function(t){t.ci.next=null},N=function(t,e){t.stack=new Array(O),t.top=0,t.stack_last=O-5;var r=t.base_ci;r.next=r.previous=null,r.callstatus=0,r.funcOff=t.top,r.func=t.stack[t.top],t.stack[t.top++]=new A.TValue(v,null),r.top=t.top+i,t.ci=r},R=function(t){t.ci=t.base_ci,y(t),t.stack=null},S=function(t){var e=t.l_G;N(t),function(t,e){var r=T.luaH_new(t);e.l_registry.sethvalue(r),T.luaH_setint(r,f,new A.TValue(h,t)),T.luaH_setint(r,c,new A.TValue(L,T.luaH_new(t)))}(t,e),x.luaT_init(t),e.version=g.lua_version(null)};t.exports.lua_State=m,t.exports.CallInfo=k,t.exports.CIST_OAH=1,t.exports.CIST_LUA=2,t.exports.CIST_HOOKED=4,t.exports.CIST_FRESH=8,t.exports.CIST_YPCALL=16,t.exports.CIST_TAIL=32,t.exports.CIST_HOOKYIELD=64,t.exports.CIST_LEQ=128,t.exports.CIST_FIN=256,t.exports.EXTRA_STACK=5,t.exports.lua_close=function(t){!function(t){R(t)}(t=t.l_G.mainthread)},t.exports.lua_newstate=function(){var t=new E,e=new m(t);return t.mainthread=e,b.luaD_rawrunprotected(e,S,null)!==d&&(e=null),e},t.exports.lua_newthread=function(t){var e=t.l_G,r=new m(e);return t.stack[t.top]=new A.TValue(h,r),g.api_incr_top(t),r.hookmask=t.hookmask,r.basehookcount=t.basehookcount,r.hook=t.hook,r.hookcount=r.basehookcount,N(r),r},t.exports.luaE_extendCI=function(t){var e=new k;return t.ci.next=e,e.previous=t.ci,e.next=null,t.ci=e,e},t.exports.luaE_freeCI=y,t.exports.luaE_freethread=function(t,e){R(e)}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var s=r(1).constant_types.LUA_TNIL,l=r(6),i=u((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.l_G.id_counter++,this.k=[],this.p=[],this.code=[],this.cache=null,this.lineinfo=[],this.upvalues=[],this.numparams=0,this.is_vararg=!1,this.maxstacksize=0,this.locvars=[],this.linedefined=0,this.lastlinedefined=0,this.source=null}));t.exports.MAXUPVAL=255,t.exports.Proto=i,t.exports.luaF_findupval=function(t,e){return t.stack[e]},t.exports.luaF_close=function(t,e){for(var r=e;r<t.top;r++){var n=t.stack[r];t.stack[r]=new l.TValue(n.type,n.value)}},t.exports.luaF_getlocalname=function(t,e,r){for(var n=0;n<t.locvars.length&&t.locvars[n].startpc<=r;n++)if(r<t.locvars[n].endpc&&0===--e)return t.locvars[n].varname.getstr();return null},t.exports.luaF_initupvals=function(t,e){for(var r=0;r<e.nupvalues;r++)e.upvals[r]=new l.TValue(s,null)},t.exports.luaF_newLclosure=function(t,e){return new l.LClosure(t,e)}},function(t,e,r){"use strict";var n=r(1),a=n.constant_types,u=a.LUA_TTABLE,o=a.LUA_TUSERDATA,s=n.to_luastring,l=r(4).lua_assert,i=r(6),c=r(8),f=r(12),_=r(10),p=_.luaS_bless,v=_.luaS_new,L=r(9),h=r(11),d=r(15),A=["no value","nil","boolean","userdata","number","string","table","function","userdata","thread","proto"].map((function(t){return s(t)})),b=function(t){return A[t+1]},g={TM_INDEX:0,TM_NEWINDEX:1,TM_GC:2,TM_MODE:3,TM_LEN:4,TM_EQ:5,TM_ADD:6,TM_SUB:7,TM_MUL:8,TM_MOD:9,TM_POW:10,TM_DIV:11,TM_IDIV:12,TM_BAND:13,TM_BOR:14,TM_BXOR:15,TM_SHL:16,TM_SHR:17,TM_UNM:18,TM_BNOT:19,TM_LT:20,TM_LE:21,TM_CONCAT:22,TM_CALL:23,TM_N:24},T=s("__name",!0),x=function(t,e,r,n,a,u){var o=t.top;if(i.pushobj2s(t,e),i.pushobj2s(t,r),i.pushobj2s(t,n),u||i.pushobj2s(t,a),t.ci.callstatus&f.CIST_LUA?c.luaD_call(t,o,u):c.luaD_callnoyield(t,o,u),u){var s=t.stack[t.top-1];delete t.stack[--t.top],a.setfrom(s)}},O=function(t,e,r,n,a){var u=m(t,e,a);return u.ttisnil()&&(u=m(t,r,a)),!u.ttisnil()&&(x(t,u,e,r,n,1),!0)},k=function(t,e,r){var n=L.luaH_getstr(t,r);return l(e<=g.TM_EQ),n.ttisnil()?(t.flags|=1<<e,null):n},m=function(t,e,r){var n;switch(e.ttnov()){case u:case o:n=e.value.metatable;break;default:n=t.l_G.mt[e.ttnov()]}return n?L.luaH_getstr(n,t.l_G.tmname[r]):i.luaO_nilobject};t.exports.fasttm=function(t,e,r){return null===e||e.flags&1<<r?null:k(e,r,t.l_G.tmname[r])},t.exports.TMS=g,t.exports.luaT_callTM=x,t.exports.luaT_callbinTM=O,t.exports.luaT_trybinTM=function(t,e,r,n,a){if(!O(t,e,r,n,a))switch(a){case g.TM_CONCAT:return h.luaG_concaterror(t,e,r);case g.TM_BAND:case g.TM_BOR:case g.TM_BXOR:case g.TM_SHL:case g.TM_SHR:case g.TM_BNOT:var u=d.tonumber(e),o=d.tonumber(r);return!1!==u&&!1!==o?h.luaG_tointerror(t,e,r):h.luaG_opinterror(t,e,r,s("perform bitwise operation on",!0));default:return h.luaG_opinterror(t,e,r,s("perform arithmetic on",!0))}},t.exports.luaT_callorderTM=function(t,e,r,n){var a=new i.TValue;return O(t,e,r,a,n)?!a.l_isfalse():null},t.exports.luaT_gettm=k,t.exports.luaT_gettmbyobj=m,t.exports.luaT_init=function(t){t.l_G.tmname[g.TM_INDEX]=new v(t,s("__index",!0)),t.l_G.tmname[g.TM_NEWINDEX]=new v(t,s("__newindex",!0)),t.l_G.tmname[g.TM_GC]=new v(t,s("__gc",!0)),t.l_G.tmname[g.TM_MODE]=new v(t,s("__mode",!0)),t.l_G.tmname[g.TM_LEN]=new v(t,s("__len",!0)),t.l_G.tmname[g.TM_EQ]=new v(t,s("__eq",!0)),t.l_G.tmname[g.TM_ADD]=new v(t,s("__add",!0)),t.l_G.tmname[g.TM_SUB]=new v(t,s("__sub",!0)),t.l_G.tmname[g.TM_MUL]=new v(t,s("__mul",!0)),t.l_G.tmname[g.TM_MOD]=new v(t,s("__mod",!0)),t.l_G.tmname[g.TM_POW]=new v(t,s("__pow",!0)),t.l_G.tmname[g.TM_DIV]=new v(t,s("__div",!0)),t.l_G.tmname[g.TM_IDIV]=new v(t,s("__idiv",!0)),t.l_G.tmname[g.TM_BAND]=new v(t,s("__band",!0)),t.l_G.tmname[g.TM_BOR]=new v(t,s("__bor",!0)),t.l_G.tmname[g.TM_BXOR]=new v(t,s("__bxor",!0)),t.l_G.tmname[g.TM_SHL]=new v(t,s("__shl",!0)),t.l_G.tmname[g.TM_SHR]=new v(t,s("__shr",!0)),t.l_G.tmname[g.TM_UNM]=new v(t,s("__unm",!0)),t.l_G.tmname[g.TM_BNOT]=new v(t,s("__bnot",!0)),t.l_G.tmname[g.TM_LT]=new v(t,s("__lt",!0)),t.l_G.tmname[g.TM_LE]=new v(t,s("__le",!0)),t.l_G.tmname[g.TM_CONCAT]=new v(t,s("__concat",!0)),t.l_G.tmname[g.TM_CALL]=new v(t,s("__call",!0))},t.exports.luaT_objtypename=function(t,e){var r;if(e.ttistable()&&null!==(r=e.value.metatable)||e.ttisfulluserdata()&&null!==(r=e.value.metatable)){var n=L.luaH_getstr(r,p(t,T));if(n.ttisstring())return n.svalue()}return b(e.ttnov())},t.exports.ttypename=b},function(t,e,r){"use strict";var n=r(1),a=n.LUA_MASKLINE,u=n.LUA_MASKCOUNT,o=n.LUA_MULTRET,s=n.constant_types,l=s.LUA_TBOOLEAN,i=s.LUA_TLCF,c=s.LUA_TLIGHTUSERDATA,f=s.LUA_TLNGSTR,_=s.LUA_TNIL,p=s.LUA_TNUMBER,v=s.LUA_TNUMFLT,L=s.LUA_TNUMINT,h=s.LUA_TSHRSTR,d=s.LUA_TTABLE,A=s.LUA_TUSERDATA,b=n.to_luastring,g=r(16),T=g.INDEXK,x=g.ISK,O=g.LFIELDS_PER_FLUSH,k=g.OpCodesI,m=k.OP_ADD,E=k.OP_BAND,y=k.OP_BNOT,N=k.OP_BOR,R=k.OP_BXOR,S=k.OP_CALL,U=k.OP_CLOSURE,I=k.OP_CONCAT,w=k.OP_DIV,M=k.OP_EQ,P=k.OP_EXTRAARG,C=k.OP_FORLOOP,B=k.OP_FORPREP,V=k.OP_GETTABLE,D=k.OP_GETTABUP,G=k.OP_GETUPVAL,K=k.OP_IDIV,F=k.OP_JMP,j=k.OP_LE,H=k.OP_LEN,X=k.OP_LOADBOOL,z=k.OP_LOADK,Y=k.OP_LOADKX,J=k.OP_LOADNIL,Z=k.OP_LT,q=k.OP_MOD,$=k.OP_MOVE,W=k.OP_MUL,Q=k.OP_NEWTABLE,tt=k.OP_NOT,et=k.OP_POW,rt=k.OP_RETURN,nt=k.OP_SELF,at=k.OP_SETLIST,ut=k.OP_SETTABLE,ot=k.OP_SETTABUP,st=k.OP_SETUPVAL,lt=k.OP_SHL,it=k.OP_SHR,ct=k.OP_SUB,ft=k.OP_TAILCALL,_t=k.OP_TEST,pt=k.OP_TESTSET,vt=k.OP_TFORCALL,Lt=k.OP_TFORLOOP,ht=k.OP_UNM,dt=k.OP_VARARG,At=r(3),bt=At.LUA_MAXINTEGER,gt=At.LUA_MININTEGER,Tt=At.lua_numbertointeger,xt=r(4),Ot=xt.lua_assert,kt=xt.luai_nummod,mt=r(6),Et=r(13),yt=r(12),Nt=r(10),Rt=Nt.luaS_bless,St=Nt.luaS_eqlngstr,Ut=Nt.luaS_hashlongstr,It=r(8),wt=r(14),Mt=r(9),Pt=r(11),Ct=function(t,e,r){return e+r.A},Bt=function(t,e,r){return e+r.B},Vt=function(t,e,r,n){return x(n.B)?r[T(n.B)]:t.stack[e+n.B]},Dt=function(t,e,r,n){return x(n.C)?r[T(n.C)]:t.stack[e+n.C]},Gt=function(t,e,r,n){var a=r.A;0!==a&&Et.luaF_close(t,e.l_base+a-1),e.l_savedpc+=r.sBx+n},Kt=function(t,e){Gt(t,e,e.l_code[e.l_savedpc],1)},Ft=function(t,e,r){if(e.ttisnumber()&&r.ttisnumber())return Zt(e,r)?1:0;if(e.ttisstring()&&r.ttisstring())return $t(e.tsvalue(),r.tsvalue())<0?1:0;var n=wt.luaT_callorderTM(t,e,r,wt.TMS.TM_LT);return null===n&&Pt.luaG_ordererror(t,e,r),n?1:0},jt=function(t,e,r){var n;return e.ttisnumber()&&r.ttisnumber()?qt(e,r)?1:0:e.ttisstring()&&r.ttisstring()?$t(e.tsvalue(),r.tsvalue())<=0?1:0:null!==(n=wt.luaT_callorderTM(t,e,r,wt.TMS.TM_LE))?n?1:0:(t.ci.callstatus|=yt.CIST_LEQ,n=wt.luaT_callorderTM(t,r,e,wt.TMS.TM_LT),t.ci.callstatus^=yt.CIST_LEQ,null===n&&Pt.luaG_ordererror(t,e,r),n?0:1)},Ht=function(t,e,r){if(e.ttype()!==r.ttype())return e.ttnov()!==r.ttnov()||e.ttnov()!==p?0:e.value===r.value?1:0;var n;switch(e.ttype()){case _:return 1;case l:return e.value==r.value?1:0;case c:case L:case v:case i:return e.value===r.value?1:0;case h:case f:return St(e.tsvalue(),r.tsvalue())?1:0;case A:case d:if(e.value===r.value)return 1;if(null===t)return 0;null===(n=wt.fasttm(t,e.value.metatable,wt.TMS.TM_EQ))&&(n=wt.fasttm(t,r.value.metatable,wt.TMS.TM_EQ));break;default:return e.value===r.value?1:0}if(null===n)return 0;var a=new mt.TValue;return wt.luaT_callTM(t,n,e,r,a,1),a.l_isfalse()?0:1},Xt=function(t,e){var r=!1,n=zt(t,e<0?2:1);if(!1===n){var a=Jt(t);if(!1===a)return!1;0<a?(n=bt,e<0&&(r=!0)):(n=gt,e>=0&&(r=!0))}return{stopnow:r,ilimit:n}},zt=function t(e,r){if(e.ttisfloat()){var n=e.value,a=Math.floor(n);if(n!==a){if(0===r)return!1;r>1&&(a+=1)}return Tt(a)}if(e.ttisinteger())return e.value;if(oe(e)){var u=new mt.TValue;if(mt.luaO_str2num(e.svalue(),u)===e.vslen()+1)return t(u,r)}return!1},Yt=function(t){return t.ttisinteger()?t.value:zt(t,0)},Jt=function(t){if(t.ttnov()===p)return t.value;if(oe(t)){var e=new mt.TValue;if(mt.luaO_str2num(t.svalue(),e)===t.vslen()+1)return e.value}return!1},Zt=function(t,e){return t.value<e.value},qt=function(t,e){return t.value<=e.value},$t=function(t,e){var r=Ut(t),n=Ut(e);return r===n?0:r<n?-1:1},Wt=function(t,e,r){var n;switch(r.ttype()){case d:var a=r.value;if(null!==(n=wt.fasttm(t,a.metatable,wt.TMS.TM_LEN)))break;return void e.setivalue(Mt.luaH_getn(a));case h:case f:return void e.setivalue(r.vslen());default:(n=wt.luaT_gettmbyobj(t,r,wt.TMS.TM_LEN)).ttisnil()&&Pt.luaG_typeerror(t,r,b("get length of",!0))}wt.luaT_callTM(t,n,r,r,e,1)},Qt=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},te=function(t,e,r){return 0===r&&Pt.luaG_runerror(t,b("attempt to divide by zero")),0|Math.floor(e/r)},ee=function(t,e,r){return 0===r&&Pt.luaG_runerror(t,b("attempt to perform 'n%%0'")),e-Math.floor(e/r)*r|0},re=function(t,e){return e<0?e<=-32?0:t>>>-e:e>=32?0:t<<e},ne=function(t,e,r,n){var a=t.cache;if(null!==a)for(var u=t.upvalues,o=u.length,s=0;s<o;s++){var l=u[s].instack?r[n+u[s].idx]:e[u[s].idx];if(a.upvals[s]!==l)return null}return a},ae=function(t,e,r,n,a){var u=e.upvalues.length,o=e.upvalues,s=new mt.LClosure(t,u);s.p=e,t.stack[a].setclLvalue(s);for(var l=0;l<u;l++)o[l].instack?s.upvals[l]=Et.luaF_findupval(t,n+o[l].idx):s.upvals[l]=r[o[l].idx];e.cache=s},ue=function(t){return t.ttisnumber()},oe=function(t){return t.ttisstring()},se=function(t,e){var r=t.stack[e];return!!r.ttisstring()||!!ue(r)&&(mt.luaO_tostring(t,r),!0)},le=function(t){return t.ttisstring()&&0===t.vslen()},ie=function(t,e,r,n){var a=0;do{var u=t.stack[e-r],o=u.vslen(),s=u.svalue();n.set(s,a),a+=o}while(--r>0)},ce=function(t,e){Ot(e>=2);do{var r=t.top,n=2;if((t.stack[r-2].ttisstring()||ue(t.stack[r-2]))&&se(t,r-1))if(le(t.stack[r-1]))se(t,r-2);else if(le(t.stack[r-2]))mt.setobjs2s(t,r-2,r-1);else{var a=t.stack[r-1].vslen();for(n=1;n<e&&se(t,r-n-1);n++){a+=t.stack[r-n-1].vslen()}var u=new Uint8Array(a);ie(t,r,n,u);var o=Rt(t,u);mt.setsvalue2s(t,r-n,o)}else wt.luaT_trybinTM(t,t.stack[r-2],t.stack[r-1],t.stack[r-2],wt.TMS.TM_CONCAT);for(e-=n-1;t.top>r-(n-1);)delete t.stack[--t.top]}while(e>1)},fe=function(t,e,r,n){for(var a=0;a<2e3;a++){var u=void 0;if(e.ttistable()){var o=Mt.luaH_get(t,e.value,r);if(!o.ttisnil())return void mt.setobj2s(t,n,o);if(null===(u=wt.fasttm(t,e.value.metatable,wt.TMS.TM_INDEX)))return void t.stack[n].setnilvalue()}else(u=wt.luaT_gettmbyobj(t,e,wt.TMS.TM_INDEX)).ttisnil()&&Pt.luaG_typeerror(t,e,b("index",!0));if(u.ttisfunction())return void wt.luaT_callTM(t,u,e,r,t.stack[n],1);e=u}Pt.luaG_runerror(t,b("'__index' chain too long; possible loop",!0))},_e=function(t,e,r,n){for(var a=0;a<2e3;a++){var u=void 0;if(e.ttistable()){var o=e.value;if(!Mt.luaH_get(t,o,r).ttisnil()||null===(u=wt.fasttm(t,o.metatable,wt.TMS.TM_NEWINDEX)))return Mt.luaH_setfrom(t,o,r,n),void Mt.invalidateTMcache(o)}else(u=wt.luaT_gettmbyobj(t,e,wt.TMS.TM_NEWINDEX)).ttisnil()&&Pt.luaG_typeerror(t,e,b("index",!0));if(u.ttisfunction())return void wt.luaT_callTM(t,u,e,r,n,0);e=u}Pt.luaG_runerror(t,b("'__newindex' chain too long; possible loop",!0))};t.exports.cvt2str=ue,t.exports.cvt2num=oe,t.exports.luaV_gettable=fe,t.exports.luaV_concat=ce,t.exports.luaV_div=te,t.exports.luaV_equalobj=Ht,t.exports.luaV_execute=function(t){var e=t.ci;e.callstatus|=yt.CIST_FRESH;t:for(;;){Ot(e===t.ci);var r=e.func.value,n=r.p.k,s=e.l_base,l=e.l_code[e.l_savedpc++];t.hookmask&(a|u)&&Pt.luaG_traceexec(t);var i=Ct(0,s,l);switch(l.opcode){case $:mt.setobjs2s(t,i,Bt(0,s,l));break;case z:var c=n[l.Bx];mt.setobj2s(t,i,c);break;case Y:Ot(e.l_code[e.l_savedpc].opcode===P);var f=n[e.l_code[e.l_savedpc++].Ax];mt.setobj2s(t,i,f);break;case X:t.stack[i].setbvalue(0!==l.B),0!==l.C&&e.l_savedpc++;break;case J:for(var _=0;_<=l.B;_++)t.stack[i+_].setnilvalue();break;case G:var p=l.B;mt.setobj2s(t,i,r.upvals[p]);break;case D:var v=r.upvals[l.B],L=Dt(t,s,n,l);fe(t,v,L,i);break;case V:var h=t.stack[Bt(0,s,l)],d=Dt(t,s,n,l);fe(t,h,d,i);break;case ot:var A=r.upvals[l.A],g=Vt(t,s,n,l),T=Dt(t,s,n,l);_e(t,A,g,T);break;case st:r.upvals[l.B].setfrom(t.stack[i]);break;case ut:var x=t.stack[i],k=Vt(t,s,n,l),At=Dt(t,s,n,l);_e(t,x,k,At);break;case Q:t.stack[i].sethvalue(Mt.luaH_new(t));break;case nt:var bt=Bt(0,s,l),gt=Dt(t,s,n,l);mt.setobjs2s(t,i+1,bt),fe(t,t.stack[bt],gt,i);break;case m:var Tt=Vt(t,s,n,l),xt=Dt(t,s,n,l),Nt=void 0,Rt=void 0;Tt.ttisinteger()&&xt.ttisinteger()?t.stack[i].setivalue(Tt.value+xt.value|0):!1!==(Nt=Jt(Tt))&&!1!==(Rt=Jt(xt))?t.stack[i].setfltvalue(Nt+Rt):wt.luaT_trybinTM(t,Tt,xt,t.stack[i],wt.TMS.TM_ADD);break;case ct:var St=Vt(t,s,n,l),Ut=Dt(t,s,n,l),zt=void 0,Zt=void 0;St.ttisinteger()&&Ut.ttisinteger()?t.stack[i].setivalue(St.value-Ut.value|0):!1!==(zt=Jt(St))&&!1!==(Zt=Jt(Ut))?t.stack[i].setfltvalue(zt-Zt):wt.luaT_trybinTM(t,St,Ut,t.stack[i],wt.TMS.TM_SUB);break;case W:var qt=Vt(t,s,n,l),$t=Dt(t,s,n,l),ue=void 0,oe=void 0;qt.ttisinteger()&&$t.ttisinteger()?t.stack[i].setivalue(Qt(qt.value,$t.value)):!1!==(ue=Jt(qt))&&!1!==(oe=Jt($t))?t.stack[i].setfltvalue(ue*oe):wt.luaT_trybinTM(t,qt,$t,t.stack[i],wt.TMS.TM_MUL);break;case q:var se=Vt(t,s,n,l),le=Dt(t,s,n,l),ie=void 0,pe=void 0;se.ttisinteger()&&le.ttisinteger()?t.stack[i].setivalue(ee(t,se.value,le.value)):!1!==(ie=Jt(se))&&!1!==(pe=Jt(le))?t.stack[i].setfltvalue(kt(t,ie,pe)):wt.luaT_trybinTM(t,se,le,t.stack[i],wt.TMS.TM_MOD);break;case et:var ve,Le=Vt(t,s,n,l),he=Dt(t,s,n,l),de=void 0;!1!==(ve=Jt(Le))&&!1!==(de=Jt(he))?t.stack[i].setfltvalue(Math.pow(ve,de)):wt.luaT_trybinTM(t,Le,he,t.stack[i],wt.TMS.TM_POW);break;case w:var Ae,be=Vt(t,s,n,l),ge=Dt(t,s,n,l),Te=void 0;!1!==(Ae=Jt(be))&&!1!==(Te=Jt(ge))?t.stack[i].setfltvalue(Ae/Te):wt.luaT_trybinTM(t,be,ge,t.stack[i],wt.TMS.TM_DIV);break;case K:var xe=Vt(t,s,n,l),Oe=Dt(t,s,n,l),ke=void 0,me=void 0;xe.ttisinteger()&&Oe.ttisinteger()?t.stack[i].setivalue(te(t,xe.value,Oe.value)):!1!==(ke=Jt(xe))&&!1!==(me=Jt(Oe))?t.stack[i].setfltvalue(Math.floor(ke/me)):wt.luaT_trybinTM(t,xe,Oe,t.stack[i],wt.TMS.TM_IDIV);break;case E:var Ee,ye=Vt(t,s,n,l),Ne=Dt(t,s,n,l),Re=void 0;!1!==(Ee=Yt(ye))&&!1!==(Re=Yt(Ne))?t.stack[i].setivalue(Ee&Re):wt.luaT_trybinTM(t,ye,Ne,t.stack[i],wt.TMS.TM_BAND);break;case N:var Se,Ue=Vt(t,s,n,l),Ie=Dt(t,s,n,l),we=void 0;!1!==(Se=Yt(Ue))&&!1!==(we=Yt(Ie))?t.stack[i].setivalue(Se|we):wt.luaT_trybinTM(t,Ue,Ie,t.stack[i],wt.TMS.TM_BOR);break;case R:var Me,Pe=Vt(t,s,n,l),Ce=Dt(t,s,n,l),Be=void 0;!1!==(Me=Yt(Pe))&&!1!==(Be=Yt(Ce))?t.stack[i].setivalue(Me^Be):wt.luaT_trybinTM(t,Pe,Ce,t.stack[i],wt.TMS.TM_BXOR);break;case lt:var Ve,De=Vt(t,s,n,l),Ge=Dt(t,s,n,l),Ke=void 0;!1!==(Ve=Yt(De))&&!1!==(Ke=Yt(Ge))?t.stack[i].setivalue(re(Ve,Ke)):wt.luaT_trybinTM(t,De,Ge,t.stack[i],wt.TMS.TM_SHL);break;case it:var Fe,je=Vt(t,s,n,l),He=Dt(t,s,n,l),Xe=void 0;!1!==(Fe=Yt(je))&&!1!==(Xe=Yt(He))?t.stack[i].setivalue(re(Fe,-Xe)):wt.luaT_trybinTM(t,je,He,t.stack[i],wt.TMS.TM_SHR);break;case ht:var ze=t.stack[Bt(0,s,l)],Ye=void 0;ze.ttisinteger()?t.stack[i].setivalue(0|-ze.value):!1!==(Ye=Jt(ze))?t.stack[i].setfltvalue(-Ye):wt.luaT_trybinTM(t,ze,ze,t.stack[i],wt.TMS.TM_UNM);break;case y:var Je=t.stack[Bt(0,s,l)];Je.ttisinteger()?t.stack[i].setivalue(~Je.value):wt.luaT_trybinTM(t,Je,Je,t.stack[i],wt.TMS.TM_BNOT);break;case tt:var Ze=t.stack[Bt(0,s,l)];t.stack[i].setbvalue(Ze.l_isfalse());break;case H:Wt(t,t.stack[i],t.stack[Bt(0,s,l)]);break;case I:var qe=l.B,$e=l.C;t.top=s+$e+1,ce(t,$e-qe+1);var We=s+qe;mt.setobjs2s(t,i,We),It.adjust_top(t,e.top);break;case F:Gt(t,e,l,0);break;case M:Ht(t,Vt(t,s,n,l),Dt(t,s,n,l))!==l.A?e.l_savedpc++:Kt(t,e);break;case Z:Ft(t,Vt(t,s,n,l),Dt(t,s,n,l))!==l.A?e.l_savedpc++:Kt(t,e);break;case j:jt(t,Vt(t,s,n,l),Dt(t,s,n,l))!==l.A?e.l_savedpc++:Kt(t,e);break;case _t:(l.C?t.stack[i].l_isfalse():!t.stack[i].l_isfalse())?e.l_savedpc++:Kt(t,e);break;case pt:var Qe=Bt(0,s,l),tr=t.stack[Qe];(l.C?tr.l_isfalse():!tr.l_isfalse())?e.l_savedpc++:(mt.setobjs2s(t,i,Qe),Kt(t,e));break;case S:var er=l.B,rr=l.C-1;if(0!==er&&It.adjust_top(t,i+er),!It.luaD_precall(t,i,rr)){e=t.ci;continue t}rr>=0&&It.adjust_top(t,e.top);break;case ft:var nr=l.B;if(0!==nr&&It.adjust_top(t,i+nr),!It.luaD_precall(t,i,o)){var ar=t.ci,ur=ar.previous,or=ar.func,sr=ar.funcOff,lr=ur.funcOff,ir=ar.l_base+or.value.p.numparams;r.p.p.length>0&&Et.luaF_close(t,ur.l_base);for(var cr=0;sr+cr<ir;cr++)mt.setobjs2s(t,lr+cr,sr+cr);ur.l_base=lr+(ar.l_base-sr),ur.top=lr+(t.top-sr),It.adjust_top(t,ur.top),ur.l_code=ar.l_code,ur.l_savedpc=ar.l_savedpc,ur.callstatus|=yt.CIST_TAIL,ur.next=null,e=t.ci=ur,Ot(t.top===ur.l_base+t.stack[lr].value.p.maxstacksize);continue t}break;case rt:r.p.p.length>0&&Et.luaF_close(t,s);var fr=It.luaD_poscall(t,e,i,0!==l.B?l.B-1:t.top-i);if(e.callstatus&yt.CIST_FRESH)return;e=t.ci,fr&&It.adjust_top(t,e.top),Ot(e.callstatus&yt.CIST_LUA),Ot(e.l_code[e.l_savedpc-1].opcode===S);continue t;case C:if(t.stack[i].ttisinteger()){var _r=t.stack[i+2].value,pr=t.stack[i].value+_r|0,vr=t.stack[i+1].value;(0<_r?pr<=vr:vr<=pr)&&(e.l_savedpc+=l.sBx,t.stack[i].chgivalue(pr),t.stack[i+3].setivalue(pr))}else{var Lr=t.stack[i+2].value,hr=t.stack[i].value+Lr,dr=t.stack[i+1].value;(0<Lr?hr<=dr:dr<=hr)&&(e.l_savedpc+=l.sBx,t.stack[i].chgfltvalue(hr),t.stack[i+3].setfltvalue(hr))}break;case B:var Ar=t.stack[i],br=t.stack[i+1],gr=t.stack[i+2],Tr=void 0;if(Ar.ttisinteger()&&gr.ttisinteger()&&(Tr=Xt(br,gr.value))){var xr=Tr.stopnow?0:Ar.value;br.value=Tr.ilimit,Ar.value=xr-gr.value|0}else{var Or,kr,mr;!1===(Or=Jt(br))&&Pt.luaG_runerror(t,b("'for' limit must be a number",!0)),t.stack[i+1].setfltvalue(Or),!1===(kr=Jt(gr))&&Pt.luaG_runerror(t,b("'for' step must be a number",!0)),t.stack[i+2].setfltvalue(kr),!1===(mr=Jt(Ar))&&Pt.luaG_runerror(t,b("'for' initial value must be a number",!0)),t.stack[i].setfltvalue(mr-kr)}e.l_savedpc+=l.sBx;break;case vt:var Er=i+3;mt.setobjs2s(t,Er+2,i+2),mt.setobjs2s(t,Er+1,i+1),mt.setobjs2s(t,Er,i),It.adjust_top(t,Er+3),It.luaD_call(t,Er,l.C),It.adjust_top(t,e.top),l=e.l_code[e.l_savedpc++],i=Ct(0,s,l),Ot(l.opcode===Lt);case Lt:t.stack[i+1].ttisnil()||(mt.setobjs2s(t,i,i+1),e.l_savedpc+=l.sBx);break;case at:var yr=l.B,Nr=l.C;0===yr&&(yr=t.top-i-1),0===Nr&&(Ot(e.l_code[e.l_savedpc].opcode===P),Nr=e.l_code[e.l_savedpc++].Ax);for(var Rr=t.stack[i].value,Sr=(Nr-1)*O+yr;yr>0;yr--)Mt.luaH_setint(Rr,Sr--,t.stack[i+yr]);It.adjust_top(t,e.top);break;case U:var Ur=r.p.p[l.Bx],Ir=ne(Ur,r.upvals,t.stack,s);null===Ir?ae(t,Ur,r.upvals,s,i):t.stack[i].setclLvalue(Ir);break;case dt:var wr=l.B-1,Mr=s-e.funcOff-r.p.numparams-1,Pr=void 0;for(Mr<0&&(Mr=0),wr<0&&(wr=Mr,It.luaD_checkstack(t,Mr),It.adjust_top(t,i+Mr)),Pr=0;Pr<wr&&Pr<Mr;Pr++)mt.setobjs2s(t,i+Pr,s-Mr+Pr);for(;Pr<wr;Pr++)t.stack[i+Pr].setnilvalue();break;case P:throw Error("invalid opcode")}}},t.exports.luaV_finishOp=function(t){var e=t.ci,r=e.l_base,n=e.l_code[e.l_savedpc-1],a=n.opcode;switch(a){case m:case ct:case W:case w:case K:case E:case N:case R:case lt:case it:case q:case et:case ht:case y:case H:case D:case V:case nt:mt.setobjs2s(t,r+n.A,t.top-1),delete t.stack[--t.top];break;case j:case Z:case M:var u=!t.stack[t.top-1].l_isfalse();delete t.stack[--t.top],e.callstatus&yt.CIST_LEQ&&(Ot(a===j),e.callstatus^=yt.CIST_LEQ,u=!u),Ot(e.l_code[e.l_savedpc].opcode===F),u!==!!n.A&&e.l_savedpc++;break;case I:var o=t.top-1,s=o-1-(r+n.B);mt.setobjs2s(t,o-2,o),s>1&&(t.top=o-1,ce(t,s)),mt.setobjs2s(t,e.l_base+n.A,t.top-1),It.adjust_top(t,e.top);break;case vt:Ot(e.l_code[e.l_savedpc].opcode===Lt),It.adjust_top(t,e.top);break;case S:n.C-1>=0&&It.adjust_top(t,e.top)}},t.exports.luaV_imul=Qt,t.exports.luaV_lessequal=jt,t.exports.luaV_lessthan=Ft,t.exports.luaV_mod=ee,t.exports.luaV_objlen=Wt,t.exports.luaV_rawequalobj=function(t,e){return Ht(null,t,e)},t.exports.luaV_shiftl=re,t.exports.luaV_tointeger=zt,t.exports.settable=_e,t.exports.tointeger=Yt,t.exports.tonumber=Jt},function(t,e,r){"use strict";var n=[96,113,65,84,80,80,92,108,60,16,60,84,108,124,124,124,124,124,124,124,124,124,124,124,124,96,96,96,96,104,34,188,188,188,132,228,84,84,16,98,98,4,98,20,81,80,23],a=function(t,e){return~(-1<<t)<<e},u=function(t,e){return~a(t,e)},o=function(t,e,r,n){return t.code=t.code&u(n,r)|e<<r&a(n,r),l(t)},s=function(t,e){return o(t,e,14,18)},l=function(t){if("number"==typeof t)return{code:t,opcode:t>>0&a(6,0),A:t>>6&a(8,0),B:t>>23&a(9,0),C:t>>14&a(9,0),Bx:t>>14&a(18,0),Ax:t>>6&a(26,0),sBx:(t>>14&a(18,0))-131071};var e=t.code;return t.opcode=e>>0&a(6,0),t.A=e>>6&a(8,0),t.B=e>>23&a(9,0),t.C=e>>14&a(9,0),t.Bx=e>>14&a(18,0),t.Ax=e>>6&a(26,0),t.sBx=(e>>14&a(18,0))-131071,t};t.exports.BITRK=256,t.exports.CREATE_ABC=function(t,e,r,n){return l(t<<0|e<<6|r<<23|n<<14)},t.exports.CREATE_ABx=function(t,e,r){return l(t<<0|e<<6|r<<14)},t.exports.CREATE_Ax=function(t,e){return l(t<<0|e<<6)},t.exports.GET_OPCODE=function(t){return t.opcode},t.exports.GETARG_A=function(t){return t.A},t.exports.GETARG_B=function(t){return t.B},t.exports.GETARG_C=function(t){return t.C},t.exports.GETARG_Bx=function(t){return t.Bx},t.exports.GETARG_Ax=function(t){return t.Ax},t.exports.GETARG_sBx=function(t){return t.sBx},t.exports.INDEXK=function(t){return-257&t},t.exports.ISK=function(t){return 256&t},t.exports.LFIELDS_PER_FLUSH=50,t.exports.MAXARG_A=255,t.exports.MAXARG_Ax=67108863,t.exports.MAXARG_B=511,t.exports.MAXARG_Bx=262143,t.exports.MAXARG_C=511,t.exports.MAXARG_sBx=131071,t.exports.MAXINDEXRK=255,t.exports.NO_REG=255,t.exports.OpArgK=3,t.exports.OpArgN=0,t.exports.OpArgR=2,t.exports.OpArgU=1,t.exports.OpCodes=["MOVE","LOADK","LOADKX","LOADBOOL","LOADNIL","GETUPVAL","GETTABUP","GETTABLE","SETTABUP","SETUPVAL","SETTABLE","NEWTABLE","SELF","ADD","SUB","MUL","MOD","POW","DIV","IDIV","BAND","BOR","BXOR","SHL","SHR","UNM","BNOT","NOT","LEN","CONCAT","JMP","EQ","LT","LE","TEST","TESTSET","CALL","TAILCALL","RETURN","FORLOOP","FORPREP","TFORCALL","TFORLOOP","SETLIST","CLOSURE","VARARG","EXTRAARG"],t.exports.OpCodesI={OP_MOVE:0,OP_LOADK:1,OP_LOADKX:2,OP_LOADBOOL:3,OP_LOADNIL:4,OP_GETUPVAL:5,OP_GETTABUP:6,OP_GETTABLE:7,OP_SETTABUP:8,OP_SETUPVAL:9,OP_SETTABLE:10,OP_NEWTABLE:11,OP_SELF:12,OP_ADD:13,OP_SUB:14,OP_MUL:15,OP_MOD:16,OP_POW:17,OP_DIV:18,OP_IDIV:19,OP_BAND:20,OP_BOR:21,OP_BXOR:22,OP_SHL:23,OP_SHR:24,OP_UNM:25,OP_BNOT:26,OP_NOT:27,OP_LEN:28,OP_CONCAT:29,OP_JMP:30,OP_EQ:31,OP_LT:32,OP_LE:33,OP_TEST:34,OP_TESTSET:35,OP_CALL:36,OP_TAILCALL:37,OP_RETURN:38,OP_FORLOOP:39,OP_FORPREP:40,OP_TFORCALL:41,OP_TFORLOOP:42,OP_SETLIST:43,OP_CLOSURE:44,OP_VARARG:45,OP_EXTRAARG:46},t.exports.POS_A=6,t.exports.POS_Ax=6,t.exports.POS_B=23,t.exports.POS_Bx=14,t.exports.POS_C=14,t.exports.POS_OP=0,t.exports.RKASK=function(t){return 256|t},t.exports.SETARG_A=function(t,e){return o(t,e,6,8)},t.exports.SETARG_Ax=function(t,e){return o(t,e,6,26)},t.exports.SETARG_B=function(t,e){return o(t,e,23,9)},t.exports.SETARG_Bx=s,t.exports.SETARG_C=function(t,e){return o(t,e,14,9)},t.exports.SETARG_sBx=function(t,e){return s(t,e+131071)},t.exports.SET_OPCODE=function(t,e){return t.code=t.code&u(6,0)|e<<0&a(6,0),l(t)},t.exports.SIZE_A=8,t.exports.SIZE_Ax=26,t.exports.SIZE_B=9,t.exports.SIZE_Bx=18,t.exports.SIZE_C=9,t.exports.SIZE_OP=6,t.exports.fullins=l,t.exports.getBMode=function(t){return n[t]>>4&3},t.exports.getCMode=function(t){return n[t]>>2&3},t.exports.getOpMode=function(t){return 3&n[t]},t.exports.iABC=0,t.exports.iABx=1,t.exports.iAsBx=2,t.exports.iAx=3,t.exports.testAMode=function(t){return 64&n[t]},t.exports.testTMode=function(t){return 128&n[t]}},function(t,e,r){"use strict";var n=r(2),a="_"+n.LUA_VERSION_MAJOR+"_"+n.LUA_VERSION_MINOR;t.exports.LUA_VERSUFFIX=a,t.exports.lua_assert=function(t){},t.exports.luaopen_base=r(24).luaopen_base;t.exports.LUA_COLIBNAME="coroutine",t.exports.luaopen_coroutine=r(25).luaopen_coroutine;t.exports.LUA_TABLIBNAME="table",t.exports.luaopen_table=r(26).luaopen_table;t.exports.LUA_OSLIBNAME="os",t.exports.luaopen_os=r(27).luaopen_os;t.exports.LUA_STRLIBNAME="string",t.exports.luaopen_string=r(28).luaopen_string;t.exports.LUA_UTF8LIBNAME="utf8",t.exports.luaopen_utf8=r(29).luaopen_utf8;t.exports.LUA_BITLIBNAME="bit32";t.exports.LUA_MATHLIBNAME="math",t.exports.luaopen_math=r(30).luaopen_math;t.exports.LUA_DBLIBNAME="debug",t.exports.luaopen_debug=r(31).luaopen_debug;t.exports.LUA_LOADLIBNAME="package",t.exports.luaopen_package=r(32).luaopen_package;t.exports.LUA_FENGARILIBNAME="fengari",t.exports.luaopen_fengari=r(33).luaopen_fengari;var u=r(39);t.exports.luaL_openlibs=u.luaL_openlibs},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=r(0),u=a.lua,o=a.lauxlib,s=a.lualib,l=a.to_luastring,i=u.LUA_MULTRET,c=u.LUA_OK,f=u.LUA_REGISTRYINDEX,p=u.LUA_RIDX_MAINTHREAD,v=u.LUA_TBOOLEAN,L=u.LUA_TFUNCTION,h=u.LUA_TLIGHTUSERDATA,d=u.LUA_TNIL,A=u.LUA_TNONE,b=u.LUA_TNUMBER,g=u.LUA_TSTRING,T=u.LUA_TTABLE,x=u.LUA_TTHREAD,O=u.LUA_TUSERDATA,k=u.lua_atnativeerror,m=u.lua_call,E=u.lua_getfield,y=u.lua_gettable,N=u.lua_gettop,R=u.lua_isnil,S=u.lua_isproxy,U=u.lua_newuserdata,I=u.lua_pcall,w=u.lua_pop,M=u.lua_pushboolean,P=u.lua_pushcfunction,C=u.lua_pushinteger,B=u.lua_pushlightuserdata,V=u.lua_pushliteral,D=u.lua_pushnil,G=u.lua_pushnumber,K=u.lua_pushstring,F=u.lua_pushvalue,j=u.lua_rawgeti,H=u.lua_rawgetp,X=u.lua_rawsetp,z=u.lua_rotate,Y=u.lua_setfield,J=u.lua_settable,Z=u.lua_settop,q=u.lua_toboolean,$=u.lua_tojsstring,W=u.lua_tonumber,Q=u.lua_toproxy,tt=u.lua_tothread,et=u.lua_touserdata,rt=u.lua_type,nt=o.luaL_argerror,at=o.luaL_checkany,ut=o.luaL_checkoption,ot=o.luaL_checkstack,st=o.luaL_checkudata,lt=o.luaL_error,it=o.luaL_getmetafield,ct=o.luaL_newlib,ft=o.luaL_newmetatable,_t=o.luaL_requiref,pt=o.luaL_setfuncs,vt=o.luaL_setmetatable,Lt=o.luaL_testudata,ht=o.luaL_tolstring,dt=s.luaopen_base;var At,bt,gt,Tt=function(t){return"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis:this?this:(t.defineProperty(t.prototype,"_",{configurable:!0,get:function(){return delete t.prototype._,this}}),_)}(Object);if("undefined"!=typeof Reflect)At=Reflect.apply,bt=Reflect.construct,gt=Reflect.deleteProperty;else{var xt=Function.apply,Ot=Function.bind;At=function(t,e,r){return xt.call(t,e,r)},bt=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Ot.apply(t,r))},gt=Function("t","k","delete t[k]")}var kt=String.prototype.concat.bind(""),mt=function(t){return"object"===n(t)?null!==t:"function"==typeof t},Et=l("js object"),yt=function(t,e){var r=Lt(t,e,Et);return r?r.data:void 0},Nt=function(t,e){return st(t,e,Et).data},Rt=function(t,e){U(t).data=e,vt(t,Et)},St=function(t){j(t,f,p);var e=tt(t,-1);return w(t,1),e},Ut=new WeakMap,It=function(t,e){switch(n(e)){case"undefined":D(t);break;case"number":G(t,e);break;case"string":K(t,l(e));break;case"boolean":M(t,e);break;case"symbol":B(t,e);break;case"function":if(S(e,t)){e(t);break}case"object":if(null===e){if(H(t,f,null)!==O)throw Error("js library not loaded into lua_State");break}default:var r=Ut.get(St(t));if(!r)throw Error("js library not loaded into lua_State");var a=r.get(e);a?a(t):(Rt(t,e),a=Q(t,-1),r.set(e,a))}},wt=function(t){var e=et(t,1);return It(t,e),1},Mt=function(t,e){switch(rt(t,e)){case A:case d:return;case v:return q(t,e);case h:return et(t,e);case b:return W(t,e);case g:return $(t,e);case O:var r=yt(t,e);if(void 0!==r)return r;case T:case L:case x:default:return Ht(t,Q(t,e))}},Pt=function(t,e){var r=I(t,e,1,0),n=Mt(t,-1);switch(w(t,1),r){case c:return n;default:throw n}},Ct=function(t,e,r,n,a){if(!mt(n))throw new TypeError("`args` argument must be an object");var u=+n.length;u>=0||(u=0),ot(t,2+u,null);var o=N(t);e(t),It(t,r);for(var s=0;s<u;s++)It(t,n[s]);switch(I(t,1+u,a,0)){case c:for(var l=N(t)-o,i=new Array(l),f=0;f<l;f++)i[f]=Mt(t,o+f+1);return Z(t,o),i;default:var _=Mt(t,-1);throw Z(t,o),_}},Bt=function(t){return y(t,1),1},Vt=function(t,e,r){return ot(t,3,null),P(t,Bt),e(t),It(t,r),Pt(t,2)},Dt=function(t,e,r){switch(ot(t,3,null),P(t,Bt),e(t),It(t,r),I(t,2,1,0)){case c:var n=R(t,-1);return w(t,1),!n;default:var a=Mt(t,-1);throw w(t,1),a}},Gt=function(t,e,r,n){switch(ot(t,4,null),P(t,(function(t){return J(t,1),0})),e(t),It(t,r),It(t,n),I(t,3,0,0)){case c:return;default:var a=Mt(t,-1);throw w(t,1),a}},Kt=function(t,e,r){switch(ot(t,4,null),P(t,(function(t){return J(t,1),0})),e(t),It(t,r),D(t),I(t,3,0,0)){case c:return;default:var n=Mt(t,-1);throw w(t,1),n}},Ft=function(t,e){return ot(t,2,null),P(t,(function(t){return ht(t,1),1})),e(t),Pt(t,1)},jt=function(){var t=this.L;ot(t,3,null);var e=N(t);switch(this.iter(t),this.state(t),this.last(t),I(t,2,i,0)){case c:var r;if(this.last=Q(t,e+1),R(t,-1))r={done:!0,value:void 0};else{for(var n=N(t)-e,a=new Array(n),u=0;u<n;u++)a[u]=Mt(t,e+u+1);r={done:!1,value:a}}return Z(t,e),r;default:var o=Mt(t,-1);throw w(t,1),o}},Ht=function(t,e){var r=St(t),n=function(){return Ct(r,e,this,arguments,1)[0]};n.apply=function(t,n){return Ct(r,e,t,n,1)[0]},n.invoke=function(t,n){return Ct(r,e,t,n,i)},n.get=function(t){return Vt(r,e,t)},n.has=function(t){return Dt(r,e,t)},n.set=function(t,n){return Gt(r,e,t,n)},n.delete=function(t){return Kt(r,e,t)},n.toString=function(){return Ft(r,e)},"function"==typeof Symbol&&(n[Symbol.toStringTag]="Fengari object",n[Symbol.iterator]=function(){return function(t,e){switch(ot(t,1,null),P(t,(function(t){return _t(t,l("_G"),dt,0),E(t,-1,l("pairs")),e(t),m(t,1,3),3})),I(t,0,3,0)){case c:var r=Q(t,-3),n=Q(t,-2),a=Q(t,-1);return w(t,3),{L:t,iter:r,state:n,last:a,next:jt};default:var u=Mt(t,-1);throw w(t,1),u}}(r,e)},Symbol.toPrimitive&&(n[Symbol.toPrimitive]=function(t){if("string"===t)return Ft(r,e)}));var a=Ut.get(r);if(!a)throw Error("js library not loaded into lua_State");return a.set(n,e),n},Xt={new:function(t){for(var e=Mt(t,1),r=N(t)-1,n=new Array(r),a=0;a<r;a++)n[a]=Mt(t,a+2);return It(t,bt(e,n)),1},tonumber:function(t){var e=Mt(t,1);return G(t,+e),1},tostring:function(t){var e=Mt(t,1);return V(t,kt(e)),1},instanceof:function(t){var e=Mt(t,1),r=Mt(t,2);return M(t,e instanceof r),1},typeof:function t(e){var r=Mt(e,1);return V(e,t(r)),1}};if("function"==typeof Symbol&&Symbol.iterator){var zt=function(t){var e=Mt(t,1).next();return e.done?0:(It(t,e.value),1)};Xt.of=function(t){var e=function(t,e){var r=Nt(t,e),n=r[Symbol.iterator];n||nt(t,e,l("object not iterable"));var a=At(n,r,[]);return mt(a)||nt(t,e,l("Result of the Symbol.iterator method is not an object")),a}(t,1);return P(t,zt),It(t,e),2}}if("function"==typeof Proxy&&"function"==typeof Symbol){var Yt=Symbol("lua_State"),Jt=Symbol("fengari-proxy"),Zt={apply:function(t,e,r){return Ct(t[Yt],t[Jt],e,r,1)[0]},construct:function(t,e){var r=t[Yt],n=t[Jt],a=e.length;ot(r,2+a,null),n(r);var u=N(r);if(it(r,u,l("construct"))===d)throw w(r,1),new TypeError("not a constructor");z(r,u,1);for(var o=0;o<a;o++)It(r,e[o]);return Pt(r,1+a)},defineProperty:function(t,e,r){var n=t[Yt],a=t[Jt];return ot(n,4,null),a(n),it(n,-1,l("defineProperty"))===d?(w(n,1),!1):(z(n,-2,1),It(n,e),It(n,r),Pt(n,3))},deleteProperty:function(t,e){return Kt(t[Yt],t[Jt],e)},get:function(t,e){return Vt(t[Yt],t[Jt],e)},getOwnPropertyDescriptor:function(t,e){var r=t[Yt],n=t[Jt];if(ot(r,3,null),n(r),it(r,-1,l("getOwnPropertyDescriptor"))!==d)return z(r,-2,1),It(r,e),Pt(r,2);w(r,1)},getPrototypeOf:function(t){var e=t[Yt],r=t[Jt];return ot(e,2,null),r(e),it(e,-1,l("getPrototypeOf"))===d?(w(e,1),null):(z(e,-2,1),Pt(e,1))},has:function(t,e){return Dt(t[Yt],t[Jt],e)},ownKeys:function(t){var e=t[Yt],r=t[Jt];if(ot(e,2,null),r(e),it(e,-1,l("ownKeys"))===d)throw w(e,1),Error("ownKeys unknown for fengari object");return z(e,-2,1),Pt(e,1)},set:function(t,e,r){return Gt(t[Yt],t[Jt],e,r),!0},setPrototypeOf:function(t,e){var r=t[Yt],n=t[Jt];return ot(r,3,null),n(r),it(r,-1,l("setPrototypeOf"))===d?(w(r,1),!1):(z(r,-2,1),It(r,e),Pt(r,2))}},qt=function(){return(qt=Function("return ()=>void 0;"))()},$t=function(t,e,r){var n,a,u=St(t);switch(r){case"function":delete(a=function(){}.bind()).length,delete a.name,n=a;break;case"arrow_function":n=function(){var t=qt();return delete t.length,delete t.name,t}();break;case"object":n={};break;default:throw TypeError("invalid type to createproxy")}return n[Jt]=e,n[Yt]=u,new Proxy(n,Zt)},Wt=["function","arrow_function","object"],Qt=Wt.map((function(t){return l(t)}));Xt.createproxy=function(t){at(t,1);var e=Wt[ut(t,2,Qt[0],Qt)],r=$t(t,Q(t,1),e);return It(t,r),1}}var te={__index:function(t){var e=Nt(t,1),r=Mt(t,2);return It(t,e[r]),1},__newindex:function(t){var e=Nt(t,1),r=Mt(t,2),n=Mt(t,3);return void 0===n?gt(e,r):e[r]=n,0},__tostring:function(t){var e=Nt(t,1),r=kt(e);return K(t,l(r)),1},__call:function(t){var e,r=Nt(t,1),n=N(t)-1,a=new Array(Math.max(0,n-1));if(n>0&&(e=Mt(t,2),n-- >0))for(var u=0;u<n;u++)a[u]=Mt(t,u+3);return It(t,At(r,e,a)),1},__pairs:function(t){var e,r,n,a,u=Nt(t,1);if("function"!=typeof Symbol||void 0===(e=u[Symbol.for("__pairs")]))r=function(t){if(!(this.index>=this.keys.length)){var e=this.keys[this.index++];return[e,this.object[e]]}},n={object:u,keys:Object.keys(u),index:0};else{var o=At(e,u,[]);void 0===o&&lt(t,l("bad '__pairs' result (object with keys 'iter', 'state', 'first' expected)")),void 0===(r=o.iter)&&lt(t,l("bad '__pairs' result (object.iter is missing)")),n=o.state,a=o.first}return P(t,(function(){var e=Mt(t,1),n=Mt(t,2),a=At(r,e,[n]);if(void 0===a)return 0;Array.isArray(a)||lt(t,l("bad iterator result (Array or undefined expected)")),ot(t,a.length,null);for(var u=0;u<a.length;u++)It(t,a[u]);return a.length})),It(t,n),It(t,a),3},__len:function(t){var e,r,n=Nt(t,1);return r="function"!=typeof Symbol||void 0===(e=n[Symbol.for("__len")])?n.length:At(e,n,[]),It(t,r),1}};t.exports.FENGARI_INTEROP_VERSION="0.1",t.exports.FENGARI_INTEROP_VERSION_NUM=1,t.exports.FENGARI_INTEROP_RELEASE="0.1.3",t.exports.checkjs=Nt,t.exports.testjs=yt,t.exports.pushjs=Rt,t.exports.push=It,t.exports.tojs=Mt,t.exports.luaopen_js=function(t){return Ut.set(St(t),new WeakMap),k(t,wt),ct(t,Xt),V(t,"0.1"),Y(t,-2,l("_VERSION")),C(t,1),Y(t,-2,l("_VERSION_NUM")),V(t,"0.1.3"),Y(t,-2,l("_RELEASE")),ft(t,Et),pt(t,te,0),w(t,1),Rt(t,null),F(t,-1),X(t,f,null),Y(t,-2,l("null")),It(t,Tt),Y(t,-2,l("global")),1}},function(t,e,r){"use strict";var n=r(1),a=n.LUA_MULTRET,u=n.LUA_OPBNOT,o=n.LUA_OPEQ,s=n.LUA_OPLE,l=n.LUA_OPLT,i=n.LUA_OPUNM,c=n.LUA_REGISTRYINDEX,f=n.LUA_RIDX_GLOBALS,_=n.LUA_VERSION_NUM,p=n.constant_types,v=p.LUA_NUMTAGS,L=p.LUA_TBOOLEAN,h=p.LUA_TCCL,d=p.LUA_TFUNCTION,A=p.LUA_TLCF,b=p.LUA_TLCL,g=p.LUA_TLIGHTUSERDATA,T=p.LUA_TLNGSTR,x=p.LUA_TNIL,O=p.LUA_TNONE,k=p.LUA_TNUMFLT,m=p.LUA_TNUMINT,E=p.LUA_TSHRSTR,y=p.LUA_TTABLE,N=p.LUA_TTHREAD,R=p.LUA_TUSERDATA,S=n.thread_status.LUA_OK,U=n.from_userstring,I=n.to_luastring,w=r(4).api_check,M=r(11),P=r(8),C=r(37).luaU_dump,B=r(13),V=r(6),D=r(12),G=r(10),K=G.luaS_bless,F=G.luaS_new,j=G.luaS_newliteral,H=r(14),X=r(3).LUAI_MAXSTACK,z=r(15),Y=r(9),J=r(20).ZIO,Z=V.TValue,q=V.CClosure,$=function(t){t.top++,w(t,t.top<=t.ci.top,"stack overflow")},W=function(t,e){w(t,e<t.top-t.ci.funcOff,"not enough elements in the stack")},Q=function(t){if(!t)throw TypeError("invalid argument")},tt=function(t){Q("number"==typeof t&&(0|t)===t)},et=function(t){return t!==V.luaO_nilobject},rt=function(t,e){var r=t.ci;if(e>0){var n=r.funcOff+e;return w(t,e<=r.top-(r.funcOff+1),"unacceptable index"),n>=t.top?V.luaO_nilobject:t.stack[n]}return e>c?(w(t,0!==e&&-e<=t.top,"invalid index"),t.stack[t.top+e]):e===c?t.l_G.l_registry:(w(t,(e=c-e)<=B.MAXUPVAL+1,"upvalue index too large"),r.func.ttislcf()?V.luaO_nilobject:e<=r.func.value.nupvalues?r.func.value.upvalue[e-1]:V.luaO_nilobject)},nt=function(t,e){var r=t.ci;if(e>0){var n=r.funcOff+e;return w(t,e<=r.top-(r.funcOff+1),"unacceptable index"),n>=t.top?null:n}if(e>c)return w(t,0!==e&&-e<=t.top,"invalid index"),t.top+e;throw Error("attempt to use pseudo-index")},at=function(t,e){var r,n=t.ci.funcOff;e>=0?(w(t,e<=t.stack_last-(n+1),"new top too large"),r=n+1+e):(w(t,-(e+1)<=t.top-(n+1),"invalid new top"),r=t.top+e+1),P.adjust_top(t,r)},ut=function(t,e){at(t,-e-1)},ot=function(t,e,r){for(;e<r;e++,r--){var n=t.stack[e],a=new Z(n.type,n.value);V.setobjs2s(t,e,r),V.setobj2s(t,r,a)}},st=function(t,e,r){var n=t.top-1,a=nt(t,e),u=t.stack[a];w(t,et(u)&&e>c,"index not in the stack"),w(t,(r>=0?r:-r)<=n-a+1,"invalid 'n'");var o=r>=0?n-r:a-r-1;ot(t,a,o),ot(t,o+1,t.top-1),ot(t,a,t.top-1)},lt=function(t,e,r){var n=rt(t,e);rt(t,r).setfrom(n)},it=function(t,e,r){if(Q("function"==typeof e),tt(r),0===r)t.stack[t.top]=new Z(A,e);else{W(t,r),w(t,r<=B.MAXUPVAL,"upvalue index too large");for(var n=new q(t,e,r),a=0;a<r;a++)n.upvalue[a].setfrom(t.stack[t.top-r+a]);for(var u=1;u<r;u++)delete t.stack[--t.top];r>0&&--t.top,t.stack[t.top].setclCvalue(n)}$(t)},ct=it,ft=function(t,e){it(t,e,0)},_t=ft,pt=function(t,e,r){var n=F(t,U(r));W(t,1),V.pushsvalue2s(t,n),w(t,t.top<=t.ci.top,"stack overflow"),z.settable(t,e,t.stack[t.top-1],t.stack[t.top-2]),delete t.stack[--t.top],delete t.stack[--t.top]},vt=function(t,e){pt(t,Y.luaH_getint(t.l_G.l_registry.value,f),e)},Lt=function(t,e,r){var n=F(t,U(r));return V.pushsvalue2s(t,n),w(t,t.top<=t.ci.top,"stack overflow"),z.luaV_gettable(t,e,t.stack[t.top-1],t.top-1),t.stack[t.top-1].ttnov()},ht=function(t,e,r){var n=rt(t,e);return tt(r),w(t,n.ttistable(),"table expected"),V.pushobj2s(t,Y.luaH_getint(n.value,r)),w(t,t.top<=t.ci.top,"stack overflow"),t.stack[t.top-1].ttnov()},dt=function(t,e,r){var n=new V.TValue(y,Y.luaH_new(t));t.stack[t.top]=n,$(t)},At=function(t,e,r){switch(tt(r),e.ttype()){case h:var n=e.value;return 1<=r&&r<=n.nupvalues?{name:I("",!0),val:n.upvalue[r-1]}:null;case b:var a=e.value,u=a.p;if(!(1<=r&&r<=u.upvalues.length))return null;var o=u.upvalues[r-1].name;return{name:o?o.getstr():I("(*no name)",!0),val:a.upvals[r-1]};default:return null}},bt=function(t,e){var r=rt(t,e);if(!r.ttisstring()){if(!z.cvt2str(r))return null;V.luaO_tostring(t,r)}return r.svalue()},gt=bt,Tt=function(t,e){return z.tointeger(rt(t,e))},xt=function(t,e){return z.tonumber(rt(t,e))},Ot=new WeakMap,kt=function(t,e){P.luaD_callnoyield(t,e.funcOff,e.nresults)},mt=function(t,e){var r=rt(t,e);return et(r)?r.ttnov():O},Et=I("?"),yt=function(t,e,r){w(t,r===a||t.ci.top-t.top>=r-e,"results from function overflow current stack size")},Nt=function(t,e,r,n,u){w(t,null===u||!(t.ci.callstatus&D.CIST_LUA),"cannot use continuations inside hooks"),W(t,e+1),w(t,t.status===S,"cannot do calls on non-normal thread"),yt(t,e,r);var o=t.top-(e+1);null!==u&&0===t.nny?(t.ci.c_k=u,t.ci.c_ctx=n,P.luaD_call(t,o,r)):P.luaD_callnoyield(t,o,r),r===a&&t.ci.top<t.top&&(t.ci.top=t.top)},Rt=function(t,e,r,n,u,o){var s,l;w(t,null===o||!(t.ci.callstatus&D.CIST_LUA),"cannot use continuations inside hooks"),W(t,e+1),w(t,t.status===S,"cannot do calls on non-normal thread"),yt(t,e,r),l=0===n?0:nt(t,n);var i=t.top-(e+1);if(null===o||t.nny>0){var c={funcOff:i,nresults:r};s=P.luaD_pcall(t,kt,c,i,l)}else{var f=t.ci;f.c_k=o,f.c_ctx=u,f.extra=i,f.c_old_errfunc=t.errfunc,t.errfunc=l,f.callstatus&=~D.CIST_OAH|t.allowhook,f.callstatus|=D.CIST_YPCALL,P.luaD_call(t,i,r),f.callstatus&=~D.CIST_YPCALL,t.errfunc=f.c_old_errfunc,s=S}return r===a&&t.ci.top<t.top&&(t.ci.top=t.top),s},St=function(t,e,r){var n=rt(t,e);w(t,n.ttisLclosure(),"Lua function expected");var a=n.value;return tt(r),w(t,1<=r&&r<=a.p.upvalues.length,"invalid upvalue index"),{f:a,i:r-1}};t.exports.api_incr_top=$,t.exports.api_checknelems=W,t.exports.lua_absindex=function(t,e){return e>0||e<=c?e:t.top-t.ci.funcOff+e},t.exports.lua_arith=function(t,e){e!==i&&e!==u?W(t,2):(W(t,1),V.pushobj2s(t,t.stack[t.top-1]),w(t,t.top<=t.ci.top,"stack overflow")),V.luaO_arith(t,e,t.stack[t.top-2],t.stack[t.top-1],t.stack[t.top-2]),delete t.stack[--t.top]},t.exports.lua_atpanic=function(t,e){var r=t.l_G.panic;return t.l_G.panic=e,r},t.exports.lua_atnativeerror=function(t,e){var r=t.l_G.atnativeerror;return t.l_G.atnativeerror=e,r},t.exports.lua_call=function(t,e,r){Nt(t,e,r,0,null)},t.exports.lua_callk=Nt,t.exports.lua_checkstack=function(t,e){var r,n=t.ci;(w(t,e>=0,"negative 'n'"),t.stack_last-t.top>e)?r=!0:t.top+D.EXTRA_STACK>X-e?r=!1:(P.luaD_growstack(t,e),r=!0);return r&&n.top<t.top+e&&(n.top=t.top+e),r},t.exports.lua_compare=function(t,e,r,n){var a=rt(t,e),u=rt(t,r),i=0;if(et(a)&&et(u))switch(n){case o:i=z.luaV_equalobj(t,a,u);break;case l:i=z.luaV_lessthan(t,a,u);break;case s:i=z.luaV_lessequal(t,a,u);break;default:w(t,!1,"invalid option")}return i},t.exports.lua_concat=function(t,e){W(t,e),e>=2?z.luaV_concat(t,e):0===e&&(V.pushsvalue2s(t,K(t,I("",!0))),w(t,t.top<=t.ci.top,"stack overflow"))},t.exports.lua_copy=lt,t.exports.lua_createtable=dt,t.exports.lua_dump=function(t,e,r,n){W(t,1);var a=t.stack[t.top-1];return a.ttisLclosure()?C(t,a.value.p,e,r,n):1},t.exports.lua_error=function(t){W(t,1),M.luaG_errormsg(t)},t.exports.lua_gc=function(){},t.exports.lua_getallocf=function(){return console.warn("lua_getallocf is not available"),0},t.exports.lua_getextraspace=function(){return console.warn("lua_getextraspace is not available"),0},t.exports.lua_getfield=function(t,e,r){return Lt(t,rt(t,e),r)},t.exports.lua_getglobal=function(t,e){return Lt(t,Y.luaH_getint(t.l_G.l_registry.value,f),e)},t.exports.lua_geti=function(t,e,r){var n=rt(t,e);return tt(r),t.stack[t.top]=new Z(m,r),$(t),z.luaV_gettable(t,n,t.stack[t.top-1],t.top-1),t.stack[t.top-1].ttnov()},t.exports.lua_getmetatable=function(t,e){var r,n=rt(t,e),a=!1;switch(n.ttnov()){case y:case R:r=n.value.metatable;break;default:r=t.l_G.mt[n.ttnov()]}return null!=r&&(t.stack[t.top]=new Z(y,r),$(t),a=!0),a},t.exports.lua_gettable=function(t,e){var r=rt(t,e);return z.luaV_gettable(t,r,t.stack[t.top-1],t.top-1),t.stack[t.top-1].ttnov()},t.exports.lua_gettop=function(t){return t.top-(t.ci.funcOff+1)},t.exports.lua_getupvalue=function(t,e,r){var n=At(0,rt(t,e),r);if(n){var a=n.name,u=n.val;return V.pushobj2s(t,u),w(t,t.top<=t.ci.top,"stack overflow"),a}return null},t.exports.lua_getuservalue=function(t,e){var r=rt(t,e);w(t,r.ttisfulluserdata(),"full userdata expected");var n=r.value.uservalue;return t.stack[t.top]=new Z(n.type,n.value),$(t),t.stack[t.top-1].ttnov()},t.exports.lua_insert=function(t,e){st(t,e,1)},t.exports.lua_isboolean=function(t,e){return mt(t,e)===L},t.exports.lua_iscfunction=function(t,e){var r=rt(t,e);return r.ttislcf(r)||r.ttisCclosure()},t.exports.lua_isfunction=function(t,e){return mt(t,e)===d},t.exports.lua_isinteger=function(t,e){return rt(t,e).ttisinteger()},t.exports.lua_islightuserdata=function(t,e){return mt(t,e)===g},t.exports.lua_isnil=function(t,e){return mt(t,e)===x},t.exports.lua_isnone=function(t,e){return mt(t,e)===O},t.exports.lua_isnoneornil=function(t,e){return mt(t,e)<=0},t.exports.lua_isnumber=function(t,e){return!1!==z.tonumber(rt(t,e))},t.exports.lua_isproxy=function(t,e){var r=Ot.get(t);return!!r&&(null===e||e.l_G===r)},t.exports.lua_isstring=function(t,e){var r=rt(t,e);return r.ttisstring()||z.cvt2str(r)},t.exports.lua_istable=function(t,e){return rt(t,e).ttistable()},t.exports.lua_isthread=function(t,e){return mt(t,e)===N},t.exports.lua_isuserdata=function(t,e){var r=rt(t,e);return r.ttisfulluserdata(r)||r.ttislightuserdata()},t.exports.lua_len=function(t,e){var r=rt(t,e),n=new Z;z.luaV_objlen(t,n,r),t.stack[t.top]=n,$(t)},t.exports.lua_load=function(t,e,r,n,a){n=n?U(n):Et,null!==a&&(a=U(a));var u=new J(t,e,r),o=P.luaD_protectedparser(t,u,n,a);if(o===S){var s=t.stack[t.top-1].value;if(s.nupvalues>=1){var l=Y.luaH_getint(t.l_G.l_registry.value,f);s.upvals[0].setfrom(l)}}return o},t.exports.lua_newtable=function(t){dt(t)},t.exports.lua_newuserdata=function(t,e){var r=function(t,e){return new V.Udata(t,e)}(t,e);return t.stack[t.top]=new V.TValue(R,r),$(t),r.data},t.exports.lua_next=function(t,e){var r=rt(t,e);return w(t,r.ttistable(),"table expected"),t.stack[t.top]=new Z,Y.luaH_next(t,r.value,t.top-1)?($(t),1):(delete t.stack[t.top],delete t.stack[--t.top],0)},t.exports.lua_pcall=function(t,e,r,n){return Rt(t,e,r,n,0,null)},t.exports.lua_pcallk=Rt,t.exports.lua_pop=ut,t.exports.lua_pushboolean=function(t,e){t.stack[t.top]=new Z(L,!!e),$(t)},t.exports.lua_pushcclosure=it,t.exports.lua_pushcfunction=ft,t.exports.lua_pushfstring=function(t,e){e=U(e);for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return V.luaO_pushvfstring(t,e,n)},t.exports.lua_pushglobaltable=function(t){ht(t,c,f)},t.exports.lua_pushinteger=function(t,e){tt(e),t.stack[t.top]=new Z(m,e),$(t)},t.exports.lua_pushjsclosure=ct,t.exports.lua_pushjsfunction=_t,t.exports.lua_pushlightuserdata=function(t,e){t.stack[t.top]=new Z(g,e),$(t)},t.exports.lua_pushliteral=function(t,e){if(null==e)t.stack[t.top]=new Z(x,null),t.top++;else{Q("string"==typeof e);var r=j(t,e);V.pushsvalue2s(t,r),e=r.getstr()}return w(t,t.top<=t.ci.top,"stack overflow"),e},t.exports.lua_pushlstring=function(t,e,r){var n;return tt(r),0===r?(e=I("",!0),n=K(t,e)):(e=U(e),w(t,e.length>=r,"invalid length to lua_pushlstring"),n=F(t,e.subarray(0,r))),V.pushsvalue2s(t,n),w(t,t.top<=t.ci.top,"stack overflow"),n.value},t.exports.lua_pushnil=function(t){t.stack[t.top]=new Z(x,null),$(t)},t.exports.lua_pushnumber=function(t,e){Q("number"==typeof e),t.stack[t.top]=new Z(k,e),$(t)},t.exports.lua_pushstring=function(t,e){if(null==e)t.stack[t.top]=new Z(x,null),t.top++;else{var r=F(t,U(e));V.pushsvalue2s(t,r),e=r.getstr()}return w(t,t.top<=t.ci.top,"stack overflow"),e},t.exports.lua_pushthread=function(t){return t.stack[t.top]=new Z(N,t),$(t),t.l_G.mainthread===t},t.exports.lua_pushvalue=function(t,e){V.pushobj2s(t,rt(t,e)),w(t,t.top<=t.ci.top,"stack overflow")},t.exports.lua_pushvfstring=function(t,e,r){return e=U(e),V.luaO_pushvfstring(t,e,r)},t.exports.lua_rawequal=function(t,e,r){var n=rt(t,e),a=rt(t,r);return et(n)&&et(a)?z.luaV_equalobj(null,n,a):0},t.exports.lua_rawget=function(t,e){var r=rt(t,e);return w(t,r.ttistable(r),"table expected"),V.setobj2s(t,t.top-1,Y.luaH_get(t,r.value,t.stack[t.top-1])),t.stack[t.top-1].ttnov()},t.exports.lua_rawgeti=ht,t.exports.lua_rawgetp=function(t,e,r){var n=rt(t,e);w(t,n.ttistable(),"table expected");var a=new Z(g,r);return V.pushobj2s(t,Y.luaH_get(t,n.value,a)),w(t,t.top<=t.ci.top,"stack overflow"),t.stack[t.top-1].ttnov()},t.exports.lua_rawlen=function(t,e){var r=rt(t,e);switch(r.ttype()){case E:case T:return r.vslen();case R:return r.value.len;case y:return Y.luaH_getn(r.value);default:return 0}},t.exports.lua_rawset=function(t,e){W(t,2);var r=rt(t,e);w(t,r.ttistable(),"table expected");var n=t.stack[t.top-2],a=t.stack[t.top-1];Y.luaH_setfrom(t,r.value,n,a),Y.invalidateTMcache(r.value),delete t.stack[--t.top],delete t.stack[--t.top]},t.exports.lua_rawseti=function(t,e,r){tt(r),W(t,1);var n=rt(t,e);w(t,n.ttistable(),"table expected"),Y.luaH_setint(n.value,r,t.stack[t.top-1]),delete t.stack[--t.top]},t.exports.lua_rawsetp=function(t,e,r){W(t,1);var n=rt(t,e);w(t,n.ttistable(),"table expected");var a=new Z(g,r),u=t.stack[t.top-1];Y.luaH_setfrom(t,n.value,a,u),delete t.stack[--t.top]},t.exports.lua_register=function(t,e,r){ft(t,r),vt(t,e)},t.exports.lua_remove=function(t,e){st(t,e,-1),ut(t,1)},t.exports.lua_replace=function(t,e){lt(t,-1,e),ut(t,1)},t.exports.lua_rotate=st,t.exports.lua_setallocf=function(){return console.warn("lua_setallocf is not available"),0},t.exports.lua_setfield=function(t,e,r){pt(t,rt(t,e),r)},t.exports.lua_setglobal=vt,t.exports.lua_seti=function(t,e,r){tt(r),W(t,1);var n=rt(t,e);t.stack[t.top]=new Z(m,r),$(t),z.settable(t,n,t.stack[t.top-1],t.stack[t.top-2]),delete t.stack[--t.top],delete t.stack[--t.top]},t.exports.lua_setmetatable=function(t,e){var r;W(t,1);var n=rt(t,e);switch(t.stack[t.top-1].ttisnil()?r=null:(w(t,t.stack[t.top-1].ttistable(),"table expected"),r=t.stack[t.top-1].value),n.ttnov()){case R:case y:n.value.metatable=r;break;default:t.l_G.mt[n.ttnov()]=r}return delete t.stack[--t.top],!0},t.exports.lua_settable=function(t,e){W(t,2);var r=rt(t,e);z.settable(t,r,t.stack[t.top-2],t.stack[t.top-1]),delete t.stack[--t.top],delete t.stack[--t.top]},t.exports.lua_settop=at,t.exports.lua_setupvalue=function(t,e,r){var n=rt(t,e);W(t,1);var a=At(0,n,r);if(a){var u=a.name;return a.val.setfrom(t.stack[t.top-1]),delete t.stack[--t.top],u}return null},t.exports.lua_setuservalue=function(t,e){W(t,1);var r=rt(t,e);w(t,r.ttisfulluserdata(),"full userdata expected"),r.value.uservalue.setfrom(t.stack[t.top-1]),delete t.stack[--t.top]},t.exports.lua_status=function(t){return t.status},t.exports.lua_stringtonumber=function(t,e){var r=new Z,n=V.luaO_str2num(e,r);return 0!==n&&(t.stack[t.top]=r,$(t)),n},t.exports.lua_toboolean=function(t,e){return!rt(t,e).l_isfalse()},t.exports.lua_tocfunction=function(t,e){var r=rt(t,e);return r.ttislcf()||r.ttisCclosure()?r.value:null},t.exports.lua_todataview=function(t,e){var r=bt(t,e);return new DataView(r.buffer,r.byteOffset,r.byteLength)},t.exports.lua_tointeger=function(t,e){var r=Tt(t,e);return!1===r?0:r},t.exports.lua_tointegerx=Tt,t.exports.lua_tojsstring=function(t,e){var r=rt(t,e);if(!r.ttisstring()){if(!z.cvt2str(r))return null;V.luaO_tostring(t,r)}return r.jsstring()},t.exports.lua_tolstring=bt,t.exports.lua_tonumber=function(t,e){var r=xt(t,e);return!1===r?0:r},t.exports.lua_tonumberx=xt,t.exports.lua_topointer=function(t,e){var r=rt(t,e);switch(r.ttype()){case y:case b:case h:case A:case N:case R:case g:return r.value;default:return null}},t.exports.lua_toproxy=function(t,e){var r,n,a,u,o=rt(t,e);return r=t.l_G,n=o.type,a=o.value,u=function(t){w(t,t instanceof D.lua_State&&r===t.l_G,"must be from same global state"),t.stack[t.top]=new Z(n,a),$(t)},Ot.set(u,r),u},t.exports.lua_tostring=gt,t.exports.lua_tothread=function(t,e){var r=rt(t,e);return r.ttisthread()?r.value:null},t.exports.lua_touserdata=function(t,e){var r=rt(t,e);switch(r.ttnov()){case R:return r.value.data;case g:return r.value;default:return null}},t.exports.lua_type=mt,t.exports.lua_typename=function(t,e){return w(t,O<=e&&e<v,"invalid tag"),H.ttypename(e)},t.exports.lua_upvalueid=function(t,e,r){var n=rt(t,e);switch(n.ttype()){case b:var a=St(t,e,r);return a.f.upvals[a.i];case h:var u=n.value;return w(t,(0|r)===r&&r>0&&r<=u.nupvalues,"invalid upvalue index"),u.upvalue[r-1];default:return w(t,!1,"closure expected"),null}},t.exports.lua_upvaluejoin=function(t,e,r,n,a){var u=St(t,e,r),o=St(t,n,a),s=o.f.upvals[o.i];u.f.upvals[u.i]=s},t.exports.lua_version=function(t){return null===t?_:t.l_G.version},t.exports.lua_xmove=function(t,e,r){if(t!==e){W(t,r),w(t,t.l_G===e.l_G,"moving among independent states"),w(t,e.ci.top-e.top>=r,"stack overflow"),t.top-=r;for(var n=0;n<r;n++)e.stack[e.top]=new V.TValue,V.setobj2s(e,e.top,t.stack[t.top+n]),delete t.stack[t.top+n],e.top++}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=r(4).lua_assert,i=u((function t(){s(this,t),this.buffer=null,this.n=0})),c=function(){return u((function t(e,r,n){s(this,t),this.L=e,l("function"==typeof r,"ZIO requires a reader"),this.reader=r,this.data=n,this.n=0,this.buffer=null,this.off=0}),[{key:"zgetc",value:function(){return this.n-- >0?this.buffer[this.off++]:f(this)}}])}(),f=function(t){var e=t.reader(t.L,t.data);if(null===e)return-1;l(e instanceof Uint8Array,"Should only load binary of array of bytes");var r=e.length;return 0===r?-1:(t.buffer=e,t.off=0,t.n=r-1,t.buffer[t.off++])};t.exports.EOZ=-1,t.exports.luaZ_buffer=function(t){return t.buffer.subarray(0,t.n)},t.exports.luaZ_buffremove=function(t,e){t.n-=e},t.exports.luaZ_fill=f,t.exports.luaZ_read=function(t,e,r,n){for(;n;){if(0===t.n){if(-1===f(t))return n;t.n++,t.off--}for(var a=n<=t.n?n:t.n,u=0;u<a;u++)e[r++]=t.buffer[t.off++];t.n-=a,0===t.n&&(t.buffer=null),n-=a}return 0},t.exports.luaZ_resetbuffer=function(t){t.n=0},t.exports.luaZ_resizebuffer=function(t,e,r){var n=new Uint8Array(r);e.buffer&&n.set(e.buffer),e.buffer=n},t.exports.MBuffer=i,t.exports.ZIO=c},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=r(1),i=l.constant_types,c=i.LUA_TBOOLEAN,f=i.LUA_TLNGSTR,_=l.thread_status.LUA_ERRSYNTAX,p=l.to_luastring,v=r(4),L=v.LUA_MINBUFFER,h=v.MAX_INT,d=v.lua_assert,A=r(11),b=r(8),g=r(22),T=g.lisdigit,x=g.lislalnum,O=g.lislalpha,k=g.lisspace,m=g.lisxdigit,E=r(6),y=r(10),N=y.luaS_bless,R=y.luaS_hash,S=y.luaS_hashlongstr,U=y.luaS_new,I=r(9),w=r(20),M=w.EOZ,P=w.luaZ_buffer,C=w.luaZ_buffremove,B=w.luaZ_resetbuffer,V=w.luaZ_resizebuffer,D=p("_ENV",!0),G={TK_AND:257,TK_BREAK:258,TK_DO:259,TK_ELSE:260,TK_ELSEIF:261,TK_END:262,TK_FALSE:263,TK_FOR:264,TK_FUNCTION:265,TK_GOTO:266,TK_IF:267,TK_IN:268,TK_LOCAL:269,TK_NIL:270,TK_NOT:271,TK_OR:272,TK_REPEAT:273,TK_RETURN:274,TK_THEN:275,TK_TRUE:276,TK_UNTIL:277,TK_WHILE:278,TK_IDIV:279,TK_CONCAT:280,TK_DOTS:281,TK_EQ:282,TK_GE:283,TK_LE:284,TK_NE:285,TK_SHL:286,TK_SHR:287,TK_DBCOLON:288,TK_EOS:289,TK_FLT:290,TK_INT:291,TK_NAME:292,TK_STRING:293},K=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","//","..","...","==",">=","<=","~=","<<",">>","::","<eof>","<number>","<integer>","<name>","<string>"].map((function(t,e){return p(t)})),F=u((function t(){s(this,t),this.r=NaN,this.i=NaN,this.ts=null})),j=u((function t(){s(this,t),this.token=NaN,this.seminfo=new F})),H=u((function t(){s(this,t),this.current=NaN,this.linenumber=NaN,this.lastline=NaN,this.t=new j,this.lookahead=new j,this.fs=null,this.L=null,this.z=null,this.buff=null,this.h=null,this.dyd=null,this.source=null,this.envn=null})),X=function(t,e){var r=t.buff;if(r.n+1>r.buffer.length){r.buffer.length>=h/2&&rt(t,p("lexical element too long",!0),0);var n=2*r.buffer.length;V(t.L,r,n)}r.buffer[r.n++]=e<0?255+e+1:e},z=function(t,e){if(e<257)return E.luaO_pushfstring(t.L,p("'%c'",!0),e);var r=K[e-257];return e<289?E.luaO_pushfstring(t.L,p("'%s'",!0),r):r},Y=function(t){return 10===t.current||13===t.current},J=function(t){t.current=t.z.zgetc()},Z=function(t){X(t,t.current),J(t)},q=new E.TValue(c,!0),$=function(t,e){var r=t.L,n=U(r,e),a=t.h.strong.get(S(n));if(a)n=a.key.tsvalue();else{var u=new E.TValue(f,n);I.luaH_setfrom(r,t.h,u,q)}return n},W=function(t){var e=t.current;d(Y(t)),J(t),Y(t)&&t.current!==e&&J(t),++t.linenumber>=h&&rt(t,p("chunk has too many lines",!0),0)},Q=function(t,e){return t.current===e&&(J(t),!0)},tt=function(t,e){return(t.current===e[0].charCodeAt(0)||t.current===e[1].charCodeAt(0))&&(Z(t),!0)},et=function(t,e){var r="Ee",n=t.current;for(d(T(t.current)),Z(t),48===n&&tt(t,"xX")&&(r="Pp");;)if(tt(t,r)&&tt(t,"-+"),m(t.current))Z(t);else{if(46!==t.current)break;Z(t)}var a=new E.TValue;return 0===E.luaO_str2num(P(t.buff),a)&&rt(t,p("malformed number",!0),290),a.ttisinteger()?(e.i=a.value,291):(d(a.ttisfloat()),e.r=a.value,290)},rt=function(t,e,r){e=A.luaG_addinfo(t.L,e,t.source,t.linenumber),r&&E.luaO_pushfstring(t.L,p("%s near %s"),e,function(t,e){switch(e){case 292:case 293:case 290:case 291:return E.luaO_pushfstring(t.L,p("'%s'",!0),P(t.buff));default:return z(t,e)}}(t,r)),b.luaD_throw(t.L,_)},nt=function(t){var e=0,r=t.current;for(d(91===r||93===r),Z(t);61===t.current;)Z(t),e++;return t.current===r?e:-e-1},at=function(t,e,r){var n=t.linenumber;Z(t),Y(t)&&W(t);for(var a=!1;!a;)switch(t.current){case M:var u="unfinished long ".concat(e?"string":"comment"," (starting at line ").concat(n,")");rt(t,p(u),289);break;case 93:nt(t)===r&&(Z(t),a=!0);break;case 10:case 13:X(t,10),W(t),e||B(t.buff);break;default:e?Z(t):J(t)}e&&(e.ts=$(t,t.buff.buffer.subarray(2+r,t.buff.n-(2+r))))},ut=function(t,e,r){e||(t.current!==M&&Z(t),rt(t,r,293))},ot=function(t){return Z(t),ut(t,m(t.current),p("hexadecimal digit expected",!0)),E.luaO_hexavalue(t.current)},st=function(t){var e=ot(t);return e=(e<<4)+ot(t),C(t.buff,2),e},lt=function(t){for(var e=new Uint8Array(E.UTF8BUFFSZ),r=E.luaO_utf8esc(e,function(t){var e=4;Z(t),ut(t,123===t.current,p("missing '{'",!0));var r=ot(t);for(Z(t);m(t.current);)e++,r=(r<<4)+E.luaO_hexavalue(t.current),ut(t,r<=1114111,p("UTF-8 value too large",!0)),Z(t);return ut(t,125===t.current,p("missing '}'",!0)),J(t),C(t.buff,e),r}(t));r>0;r--)X(t,e[E.UTF8BUFFSZ-r])},it=function(t){var e,r=0;for(e=0;e<3&&T(t.current);e++)r=10*r+t.current-48,Z(t);return ut(t,r<=255,p("decimal escape too large",!0)),C(t.buff,e),r},ct=function(t,e,r){for(Z(t);t.current!==e;)switch(t.current){case M:rt(t,p("unfinished string",!0),289);break;case 10:case 13:rt(t,p("unfinished string",!0),293);break;case 92:Z(t);var n=void 0,a=void 0;switch(t.current){case 97:a=7,n="read_save";break;case 98:a=8,n="read_save";break;case 102:a=12,n="read_save";break;case 110:a=10,n="read_save";break;case 114:a=13,n="read_save";break;case 116:a=9,n="read_save";break;case 118:a=11,n="read_save";break;case 120:a=st(t),n="read_save";break;case 117:lt(t),n="no_save";break;case 10:case 13:W(t),a=10,n="only_save";break;case 92:case 34:case 39:a=t.current,n="read_save";break;case M:n="no_save";break;case 122:for(C(t.buff,1),J(t);k(t.current);)Y(t)?W(t):J(t);n="no_save";break;default:ut(t,T(t.current),p("invalid escape sequence",!0)),a=it(t),n="only_save"}"read_save"===n&&J(t),"read_save"!==n&&"only_save"!==n||(C(t.buff,1),X(t,a));break;default:Z(t)}Z(t),r.ts=$(t,t.buff.buffer.subarray(1,t.buff.n-1))},ft=Object.create(null);K.forEach((function(t,e){return ft[R(t)]=e}));var _t=function(t,e){for(B(t.buff);;)switch(d("number"==typeof t.current),t.current){case 10:case 13:W(t);break;case 32:case 12:case 9:case 11:J(t);break;case 45:if(J(t),45!==t.current)return 45;if(J(t),91===t.current){var r=nt(t);if(B(t.buff),r>=0){at(t,null,r),B(t.buff);break}}for(;!Y(t)&&t.current!==M;)J(t);break;case 91:var n=nt(t);return n>=0?(at(t,e,n),293):(-1!==n&&rt(t,p("invalid long string delimiter",!0),293),91);case 61:return J(t),Q(t,61)?282:61;case 60:return J(t),Q(t,61)?284:Q(t,60)?286:60;case 62:return J(t),Q(t,61)?283:Q(t,62)?287:62;case 47:return J(t),Q(t,47)?279:47;case 126:return J(t),Q(t,61)?285:126;case 58:return J(t),Q(t,58)?288:58;case 34:case 39:return ct(t,t.current,e),293;case 46:return Z(t),Q(t,46)?Q(t,46)?281:280:T(t.current)?et(t,e):46;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return et(t,e);case M:return 289;default:if(O(t.current)){do{Z(t)}while(x(t.current));var a=$(t,P(t.buff));e.ts=a;var u=ft[S(a)];return void 0!==u&&u<=22?u+257:292}var o=t.current;return J(t),o}};t.exports.FIRST_RESERVED=257,t.exports.LUA_ENV=D,t.exports.LexState=H,t.exports.RESERVED=G,t.exports.isreserved=function(t){var e=ft[S(t)];return void 0!==e&&e<=22},t.exports.luaX_lookahead=function(t){return d(289===t.lookahead.token),t.lookahead.token=_t(t,t.lookahead.seminfo),t.lookahead.token},t.exports.luaX_newstring=$,t.exports.luaX_next=function(t){t.lastline=t.linenumber,289!==t.lookahead.token?(t.t.token=t.lookahead.token,t.t.seminfo.i=t.lookahead.seminfo.i,t.t.seminfo.r=t.lookahead.seminfo.r,t.t.seminfo.ts=t.lookahead.seminfo.ts,t.lookahead.token=289):t.t.token=_t(t,t.t.seminfo)},t.exports.luaX_setinput=function(t,e,r,n,a){e.t={token:0,seminfo:new F},e.L=t,e.current=a,e.lookahead={token:289,seminfo:new F},e.z=r,e.fs=null,e.linenumber=1,e.lastline=1,e.source=n,e.envn=N(t,D),V(t,e.buff,L)},t.exports.luaX_syntaxerror=function(t,e){rt(t,e,t.t.token)},t.exports.luaX_token2str=z,t.exports.luaX_tokens=K},function(t,e,r){"use strict";var n=(0,r(1).luastring_of)(0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,22,22,22,22,22,4,4,4,4,4,4,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,5,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);t.exports.lisdigit=function(t){return 0!=(2&n[t+1])},t.exports.lislalnum=function(t){return 0!=(3&n[t+1])},t.exports.lislalpha=function(t){return 0!=(1&n[t+1])},t.exports.lisprint=function(t){return 0!=(4&n[t+1])},t.exports.lisspace=function(t){return 0!=(8&n[t+1])},t.exports.lisxdigit=function(t){return 0!=(16&n[t+1])}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=r(1),i=l.LUA_MULTRET,c=l.to_luastring,f=r(35),_=f.BinOpr,p=_.OPR_ADD,v=_.OPR_AND,L=_.OPR_BAND,h=_.OPR_BOR,d=_.OPR_BXOR,A=_.OPR_CONCAT,b=_.OPR_DIV,g=_.OPR_EQ,T=_.OPR_GE,x=_.OPR_GT,O=_.OPR_IDIV,k=_.OPR_LE,m=_.OPR_LT,E=_.OPR_MOD,y=_.OPR_MUL,N=_.OPR_NE,R=_.OPR_NOBINOPR,S=_.OPR_OR,U=_.OPR_POW,I=_.OPR_SHL,w=_.OPR_SHR,M=_.OPR_SUB,P=f.UnOpr,C=P.OPR_BNOT,B=P.OPR_LEN,V=P.OPR_MINUS,D=P.OPR_NOT,G=P.OPR_NOUNOPR,K=f.NO_JUMP,F=f.getinstruction,j=f.luaK_checkstack,H=f.luaK_codeABC,X=f.luaK_codeABx,z=f.luaK_codeAsBx,Y=f.luaK_codek,J=f.luaK_concat,Z=f.luaK_dischargevars,q=f.luaK_exp2RK,$=f.luaK_exp2anyreg,W=f.luaK_exp2anyregup,Q=f.luaK_exp2nextreg,tt=f.luaK_exp2val,et=f.luaK_fixline,rt=f.luaK_getlabel,nt=f.luaK_goiffalse,at=f.luaK_goiftrue,ut=f.luaK_indexed,ot=f.luaK_infix,st=f.luaK_intK,lt=f.luaK_jump,it=f.luaK_jumpto,ct=f.luaK_nil,ft=f.luaK_patchclose,_t=f.luaK_patchlist,pt=f.luaK_patchtohere,vt=f.luaK_posfix,Lt=f.luaK_prefix,ht=f.luaK_reserveregs,dt=f.luaK_ret,At=f.luaK_self,bt=f.luaK_setlist,gt=f.luaK_setmultret,Tt=f.luaK_setoneret,xt=f.luaK_setreturns,Ot=f.luaK_storevar,kt=f.luaK_stringK,mt=r(8),Et=r(13),yt=r(21),Nt=r(4),Rt=Nt.LUAI_MAXCCALLS,St=Nt.MAX_INT,Ut=Nt.lua_assert,It=r(6),wt=r(16),Mt=wt.OpCodesI,Pt=Mt.OP_CALL,Ct=Mt.OP_CLOSURE,Bt=Mt.OP_FORLOOP,Vt=Mt.OP_FORPREP,Dt=Mt.OP_GETUPVAL,Gt=Mt.OP_MOVE,Kt=Mt.OP_NEWTABLE,Ft=Mt.OP_SETTABLE,jt=Mt.OP_TAILCALL,Ht=Mt.OP_TFORCALL,Xt=Mt.OP_TFORLOOP,zt=Mt.OP_VARARG,Yt=wt.LFIELDS_PER_FLUSH,Jt=wt.SETARG_B,Zt=wt.SETARG_C,qt=wt.SET_OPCODE,$t=r(10),Wt=$t.luaS_eqlngstr,Qt=$t.luaS_new,te=$t.luaS_newliteral,ee=r(9),re=Et.Proto,ne=yt.RESERVED,ae=function(t){return t===se.VCALL||t===se.VVARARG},ue=function(t,e){return Wt(t,e)},oe=u((function t(){s(this,t),this.previous=null,this.firstlabel=NaN,this.firstgoto=NaN,this.nactvar=NaN,this.upval=NaN,this.isloop=NaN})),se={VVOID:0,VNIL:1,VTRUE:2,VFALSE:3,VK:4,VKFLT:5,VKINT:6,VNONRELOC:7,VLOCAL:8,VUPVAL:9,VINDEXED:10,VJMP:11,VRELOCABLE:12,VCALL:13,VVARARG:14},le=function(){return u((function t(){s(this,t),this.k=NaN,this.u={ival:NaN,nval:NaN,info:NaN,ind:{idx:NaN,t:NaN,vt:NaN}},this.t=NaN,this.f=NaN}),[{key:"to",value:function(t){this.k=t.k,this.u=t.u,this.t=t.t,this.f=t.f}}])}(),ie=u((function t(){s(this,t),this.f=null,this.prev=null,this.ls=null,this.bl=null,this.pc=NaN,this.lasttarget=NaN,this.jpc=NaN,this.nk=NaN,this.np=NaN,this.firstlocal=NaN,this.nlocvars=NaN,this.nactvar=NaN,this.nups=NaN,this.freereg=NaN})),ce=u((function t(){s(this,t),this.idx=NaN})),fe=u((function t(){s(this,t),this.name=null,this.pc=NaN,this.line=NaN,this.nactvar=NaN})),_e=u((function t(){s(this,t),this.arr=[],this.n=NaN,this.size=NaN})),pe=u((function t(){s(this,t),this.actvar={arr:[],n:NaN,size:NaN},this.gt=new _e,this.label=new _e})),ve=function(t,e){t.t.token=0,yt.luaX_syntaxerror(t,e)},Le=function(t,e){yt.luaX_syntaxerror(t,It.luaO_pushfstring(t.L,c("%s expected",!0),yt.luaX_token2str(t,e)))},he=function(t,e,r,n){e>r&&function(t,e,r){var n=t.ls.L,a=t.f.linedefined,u=0===a?c("main function",!0):It.luaO_pushfstring(n,c("function at line %d",!0),a),o=It.luaO_pushfstring(n,c("too many %s (limit is %d) in %s",!0),r,e,u);yt.luaX_syntaxerror(t.ls,o)}(t,r,n)},de=function(t,e){return t.t.token===e&&(yt.luaX_next(t),!0)},Ae=function(t,e){t.t.token!==e&&Le(t,e)},be=function(t,e){Ae(t,e),yt.luaX_next(t)},ge=function(t,e,r){e||yt.luaX_syntaxerror(t,r)},Te=function(t,e,r,n){de(t,e)||(n===t.linenumber?Le(t,e):yt.luaX_syntaxerror(t,It.luaO_pushfstring(t.L,c("%s expected (to close %s at line %d)"),yt.luaX_token2str(t,e),yt.luaX_token2str(t,r),n)))},xe=function(t){Ae(t,ne.TK_NAME);var e=t.t.seminfo.ts;return yt.luaX_next(t),e},Oe=function(t,e,r){t.f=t.t=K,t.k=e,t.u.info=r},ke=function(t,e,r){Oe(e,se.VK,kt(t.fs,r))},me=function(t,e){ke(t,e,xe(t))},Ee=function(t,e){var r=t.fs,n=t.dyd,a=function(t,e){var r=t.fs,n=r.f;return n.locvars[r.nlocvars]=new It.LocVar,n.locvars[r.nlocvars].varname=e,r.nlocvars++}(t,e);he(r,n.actvar.n+1-r.firstlocal,200,c("local variables",!0)),n.actvar.arr[n.actvar.n]=new ce,n.actvar.arr[n.actvar.n].idx=a,n.actvar.n++},ye=function(t,e){Ee(t,yt.luaX_newstring(t,c(e,!0)))},Ne=function(t,e){var r=t.ls.dyd.actvar.arr[t.firstlocal+e].idx;return Ut(r<t.nlocvars),t.f.locvars[r]},Re=function(t,e){var r=t.fs;for(r.nactvar=r.nactvar+e;e;e--)Ne(r,r.nactvar-e).startpc=r.pc},Se=function(t,e,r){var n=t.f;return he(t,t.nups+1,Et.MAXUPVAL,c("upvalues",!0)),n.upvalues[t.nups]={instack:r.k===se.VLOCAL,idx:r.u.info,name:e},t.nups++},Ue=function t(e,r,n,a){if(null===e)Oe(n,se.VVOID,0);else{var u=function(t,e){for(var r=t.nactvar-1;r>=0;r--)if(ue(e,Ne(t,r).varname))return r;return-1}(e,r);if(u>=0)Oe(n,se.VLOCAL,u),a||function(t,e){for(var r=t.bl;r.nactvar>e;)r=r.previous;r.upval=1}(e,u);else{var o=function(t,e){for(var r=t.f.upvalues,n=0;n<t.nups;n++)if(ue(r[n].name,e))return n;return-1}(e,r);if(o<0){if(t(e.prev,r,n,0),n.k===se.VVOID)return;o=Se(e,r,n)}Oe(n,se.VUPVAL,o)}}},Ie=function(t,e){var r=xe(t),n=t.fs;if(Ue(n,r,e,1),e.k===se.VVOID){var a=new le;Ue(n,t.envn,e,1),Ut(e.k!==se.VVOID),ke(t,a,r),ut(n,e,a)}},we=function(t,e,r,n){var a=t.fs,u=e-r;if(ae(n.k))++u<0&&(u=0),xt(a,n,u),u>1&&ht(a,u-1);else if(n.k!==se.VVOID&&Q(a,n),u>0){var o=a.freereg;ht(a,u),ct(a,o,u)}r>e&&(t.fs.freereg-=r-e)},Me=function(t){var e=t.L;++e.nCcalls,he(t.fs,e.nCcalls,Rt,c("JS levels",!0))},Pe=function(t){return t.L.nCcalls--},Ce=function(t,e,r){var n=t.fs,a=t.dyd.gt,u=a.arr[e];if(Ut(ue(u.name,r.name)),u.nactvar<r.nactvar){var o=Ne(n,u.nactvar).varname,s=It.luaO_pushfstring(t.L,c("<goto %s> at line %d jumps into the scope of local '%s'"),u.name.getstr(),u.line,o.getstr());ve(t,s)}_t(n,u.pc,r.pc);for(var l=e;l<a.n-1;l++)a.arr[l]=a.arr[l+1];a.n--},Be=function(t,e){for(var r=t.fs.bl,n=t.dyd,a=n.gt.arr[e],u=r.firstlabel;u<n.label.n;u++){var o=n.label.arr[u];if(ue(o.name,a.name))return a.nactvar>o.nactvar&&(r.upval||n.label.n>r.firstlabel)&&ft(t.fs,a.pc,o.nactvar),Ce(t,e,o),!0}return!1},Ve=function(t,e,r,n,a){var u=e.n;return e.arr[u]=new fe,e.arr[u].name=r,e.arr[u].line=n,e.arr[u].nactvar=t.fs.nactvar,e.arr[u].pc=a,e.n=u+1,u},De=function(t,e){for(var r=t.dyd.gt,n=t.fs.bl.firstgoto;n<r.n;)ue(r.arr[n].name,e.name)?Ce(t,n,e):n++},Ge=function(t,e,r){e.isloop=r,e.nactvar=t.nactvar,e.firstlabel=t.ls.dyd.label.n,e.firstgoto=t.ls.dyd.gt.n,e.upval=0,e.previous=t.bl,t.bl=e,Ut(t.freereg===t.nactvar)},Ke=function(t,e,r){e.prev=t.fs,e.ls=t,t.fs=e,e.pc=0,e.lasttarget=0,e.jpc=K,e.freereg=0,e.nk=0,e.np=0,e.nups=0,e.nlocvars=0,e.nactvar=0,e.firstlocal=t.dyd.actvar.n,e.bl=null;var n=e.f;n.source=t.source,n.maxstacksize=2,Ge(e,r,!1)},Fe=function(t){var e=t.bl,r=t.ls;if(e.previous&&e.upval){var n=lt(t);ft(t,n,e.nactvar),pt(t,n)}e.isloop&&function(t){var e=te(t.L,"break"),r=Ve(t,t.dyd.label,e,0,t.fs.pc);De(t,t.dyd.label.arr[r])}(r),t.bl=e.previous,function(t,e){for(t.ls.dyd.actvar.n-=t.nactvar-e;t.nactvar>e;)Ne(t,--t.nactvar).endpc=t.pc}(t,e.nactvar),Ut(e.nactvar===t.nactvar),t.freereg=t.nactvar,r.dyd.label.n=e.firstlabel,e.previous?function(t,e){for(var r=e.firstgoto,n=t.ls.dyd.gt;r<n.n;){var a=n.arr[r];a.nactvar>e.nactvar&&(e.upval&&ft(t,a.pc,e.nactvar),a.nactvar=e.nactvar),Be(t.ls,r)||r++}}(t,e):e.firstgoto<r.dyd.gt.n&&function(t,e){var r=yt.isreserved(e.name)?"<%s> at line %d not inside a loop":"no visible label '%s' for <goto> at line %d";r=It.luaO_pushfstring(t.L,c(r),e.name.getstr(),e.line),ve(t,r)}(r,r.dyd.gt.arr[e.firstgoto])},je=function(t){var e=t.fs;dt(e,0,0),Fe(e),Ut(null===e.bl),t.fs=e.prev},He=function(t,e){switch(t.t.token){case ne.TK_ELSE:case ne.TK_ELSEIF:case ne.TK_END:case ne.TK_EOS:return!0;case ne.TK_UNTIL:return e;default:return!1}},Xe=function(t){for(;!He(t,1);){if(t.t.token===ne.TK_RETURN)return void Ar(t);Ar(t)}},ze=function(t,e){var r=t.fs,n=new le;W(r,e),yt.luaX_next(t),me(t,n),ut(r,e,n)},Ye=function(t,e){yt.luaX_next(t),or(t,e),tt(t.fs,e),be(t,93)},Je=u((function t(){s(this,t),this.v=new le,this.t=new le,this.nh=NaN,this.na=NaN,this.tostore=NaN})),Ze=function(t,e){var r=t.fs,n=t.fs.freereg,a=new le,u=new le;t.t.token===ne.TK_NAME?(he(r,e.nh,St,c("items in a constructor",!0)),me(t,a)):Ye(t,a),e.nh++,be(t,61);var o=q(r,a);or(t,u),H(r,Ft,e.t.u.info,o,q(r,u)),r.freereg=n},qe=function(t,e){e.v.k!==se.VVOID&&(Q(t,e.v),e.v.k=se.VVOID,e.tostore===Yt&&(bt(t,e.t.u.info,e.na,e.tostore),e.tostore=0))},$e=function(t,e){or(t,e.v),he(t.fs,e.na,St,c("items in a constructor",!0)),e.na++,e.tostore++},We=function(t,e){switch(t.t.token){case ne.TK_NAME:61!==yt.luaX_lookahead(t)?$e(t,e):Ze(t,e);break;case 91:Ze(t,e);break;default:$e(t,e)}},Qe=function(t,e){var r=t.fs,n=t.linenumber,a=H(r,Kt,0,0,0),u=new Je;u.na=u.nh=u.tostore=0,u.t=e,Oe(e,se.VRELOCABLE,a),Oe(u.v,se.VVOID,0),Q(t.fs,e),be(t,123);do{if(Ut(u.v.k===se.VVOID||u.tostore>0),125===t.t.token)break;qe(r,u),We(t,u)}while(de(t,44)||de(t,59));Te(t,125,123,n),function(t,e){0!==e.tostore&&(ae(e.v.k)?(gt(t,e.v),bt(t,e.t.u.info,e.na,i),e.na--):(e.v.k!==se.VVOID&&Q(t,e.v),bt(t,e.t.u.info,e.na,e.tostore)))}(r,u),Jt(r.f.code[a],It.luaO_int2fb(u.na)),Zt(r.f.code[a],It.luaO_int2fb(u.nh))},tr=function(t,e,r,n){var a=new ie,u=new oe;a.f=function(t){var e=t.L,r=new re(e),n=t.fs;return n.f.p[n.np++]=r,r}(t),a.f.linedefined=n,Ke(t,a,u),be(t,40),r&&(ye(t,"self"),Re(t,1)),function(t){var e=t.fs,r=e.f,n=0;if(r.is_vararg=!1,41!==t.t.token)do{switch(t.t.token){case ne.TK_NAME:Ee(t,xe(t)),n++;break;case ne.TK_DOTS:yt.luaX_next(t),r.is_vararg=!0;break;default:yt.luaX_syntaxerror(t,c("<name> or '...' expected",!0))}}while(!r.is_vararg&&de(t,44));Re(t,n),r.numparams=e.nactvar,ht(e,e.nactvar)}(t),be(t,41),Xe(t),a.f.lastlinedefined=t.linenumber,Te(t,ne.TK_END,ne.TK_FUNCTION,n),function(t,e){var r=t.fs.prev;Oe(e,se.VRELOCABLE,X(r,Ct,0,r.np-1)),Q(r,e)}(t,e),je(t)},er=function(t,e){var r=1;for(or(t,e);de(t,44);)Q(t.fs,e),or(t,e),r++;return r},rr=function(t,e,r){var n,a=t.fs,u=new le;switch(t.t.token){case 40:yt.luaX_next(t),41===t.t.token?u.k=se.VVOID:(er(t,u),gt(a,u)),Te(t,41,40,r);break;case 123:Qe(t,u);break;case ne.TK_STRING:ke(t,u,t.t.seminfo.ts),yt.luaX_next(t);break;default:yt.luaX_syntaxerror(t,c("function arguments expected",!0))}Ut(e.k===se.VNONRELOC);var o=e.u.info;ae(u.k)?n=i:(u.k!==se.VVOID&&Q(a,u),n=a.freereg-(o+1)),Oe(e,se.VCALL,H(a,Pt,o,n+1,2)),et(a,r),a.freereg=o+1},nr=function(t,e){var r=t.fs,n=t.linenumber;for(!function(t,e){switch(t.t.token){case 40:var r=t.linenumber;return yt.luaX_next(t),or(t,e),Te(t,41,40,r),void Z(t.fs,e);case ne.TK_NAME:return void Ie(t,e);default:yt.luaX_syntaxerror(t,c("unexpected symbol",!0))}}(t,e);;)switch(t.t.token){case 46:ze(t,e);break;case 91:var a=new le;W(r,e),Ye(t,a),ut(r,e,a);break;case 58:var u=new le;yt.luaX_next(t),me(t,u),At(r,e,u),rr(t,e,n);break;case 40:case ne.TK_STRING:case 123:Q(r,e),rr(t,e,n);break;default:return}},ar=[{left:10,right:10},{left:10,right:10},{left:11,right:11},{left:11,right:11},{left:14,right:13},{left:11,right:11},{left:11,right:11},{left:6,right:6},{left:4,right:4},{left:5,right:5},{left:7,right:7},{left:7,right:7},{left:9,right:8},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:2,right:2},{left:1,right:1}],ur=function t(e,r,n){Me(e);var a=function(t){switch(t){case ne.TK_NOT:return D;case 45:return V;case 126:return C;case 35:return B;default:return G}}(e.t.token);if(a!==G){var u=e.linenumber;yt.luaX_next(e),t(e,r,12),Lt(e.fs,a,r,u)}else!function(t,e){switch(t.t.token){case ne.TK_FLT:Oe(e,se.VKFLT,0),e.u.nval=t.t.seminfo.r;break;case ne.TK_INT:Oe(e,se.VKINT,0),e.u.ival=t.t.seminfo.i;break;case ne.TK_STRING:ke(t,e,t.t.seminfo.ts);break;case ne.TK_NIL:Oe(e,se.VNIL,0);break;case ne.TK_TRUE:Oe(e,se.VTRUE,0);break;case ne.TK_FALSE:Oe(e,se.VFALSE,0);break;case ne.TK_DOTS:var r=t.fs;ge(t,r.f.is_vararg,c("cannot use '...' outside a vararg function",!0)),Oe(e,se.VVARARG,H(r,zt,0,1,0));break;case 123:return void Qe(t,e);case ne.TK_FUNCTION:return yt.luaX_next(t),void tr(t,e,0,t.linenumber);default:return void nr(t,e)}yt.luaX_next(t)}(e,r);for(var o=function(t){switch(t){case 43:return p;case 45:return M;case 42:return y;case 37:return E;case 94:return U;case 47:return b;case ne.TK_IDIV:return O;case 38:return L;case 124:return h;case 126:return d;case ne.TK_SHL:return I;case ne.TK_SHR:return w;case ne.TK_CONCAT:return A;case ne.TK_NE:return N;case ne.TK_EQ:return g;case 60:return m;case ne.TK_LE:return k;case 62:return x;case ne.TK_GE:return T;case ne.TK_AND:return v;case ne.TK_OR:return S;default:return R}}(e.t.token);o!==R&&ar[o].left>n;){var s=new le,l=e.linenumber;yt.luaX_next(e),ot(e.fs,o,r);var i=t(e,s,ar[o].right);vt(e.fs,o,r,s,l),o=i}return Pe(e),o},or=function(t,e){ur(t,e,0)},sr=function(t){var e=t.fs,r=new oe;Ge(e,r,0),Xe(t),Fe(e)},lr=u((function t(){s(this,t),this.prev=null,this.v=new le})),ir=function t(e,r,n){var a,u=new le;if(ge(e,(a=r.v.k,se.VLOCAL<=a&&a<=se.VINDEXED),c("syntax error",!0)),de(e,44)){var o=new lr;o.prev=r,nr(e,o.v),o.v.k!==se.VINDEXED&&function(t,e,r){for(var n=t.fs,a=n.freereg,u=!1;e;e=e.prev)e.v.k===se.VINDEXED&&(e.v.u.ind.vt===r.k&&e.v.u.ind.t===r.u.info&&(u=!0,e.v.u.ind.vt=se.VLOCAL,e.v.u.ind.t=a),r.k===se.VLOCAL&&e.v.u.ind.idx===r.u.info&&(u=!0,e.v.u.ind.idx=a));if(u){var o=r.k===se.VLOCAL?Gt:Dt;H(n,o,a,r.u.info,0),ht(n,1)}}(e,r,o.v),he(e.fs,n+e.L.nCcalls,Rt,c("JS levels",!0)),t(e,o,n+1)}else{be(e,61);var s=er(e,u);if(s===n)return Tt(e.fs,u),void Ot(e.fs,r.v,u);we(e,n,s,u)}Oe(u,se.VNONRELOC,e.fs.freereg-1),Ot(e.fs,r.v,u)},cr=function(t){var e=new le;return or(t,e),e.k===se.VNIL&&(e.k=se.VFALSE),at(t.fs,e),e.f},fr=function(t,e){var r,n=t.linenumber;de(t,ne.TK_GOTO)?r=xe(t):(yt.luaX_next(t),r=te(t.L,"break"));var a=Ve(t,t.dyd.gt,r,n,e);Be(t,a)},_r=function(t,e,r){var n,a=t.fs,u=t.dyd.label;!function(t,e,r){for(var n=t.bl.firstlabel;n<e.n;n++)if(ue(r,e.arr[n].name)){var a=It.luaO_pushfstring(t.ls.L,c("label '%s' already defined on line %d",!0),r.getstr(),e.arr[n].line);ve(t.ls,a)}}(a,u,e),be(t,ne.TK_DBCOLON),n=Ve(t,u,e,r,rt(a)),function(t){for(;59===t.t.token||t.t.token===ne.TK_DBCOLON;)Ar(t)}(t),He(t,0)&&(u.arr[n].nactvar=a.bl.nactvar),De(t,u.arr[n])},pr=function(t){var e=new le;return or(t,e),Q(t.fs,e),Ut(e.k===se.VNONRELOC),e.u.info},vr=function(t,e,r,n,a){var u,o=new oe,s=t.fs;Re(t,3),be(t,ne.TK_DO);var l=a?z(s,Vt,e,K):lt(s);Ge(s,o,0),Re(t,n),ht(s,n),sr(t),Fe(s),pt(s,l),a?u=z(s,Bt,e,K):(H(s,Ht,e,0,n),et(s,r),u=z(s,Xt,e+2,K)),_t(s,u,l+1),et(s,r)},Lr=function(t,e){var r=t.fs,n=new oe;Ge(r,n,1),yt.luaX_next(t);var a=xe(t);switch(t.t.token){case 61:!function(t,e,r){var n=t.fs,a=n.freereg;ye(t,"(for index)"),ye(t,"(for limit)"),ye(t,"(for step)"),Ee(t,e),be(t,61),pr(t),be(t,44),pr(t),de(t,44)?pr(t):(Y(n,n.freereg,st(n,1)),ht(n,1)),vr(t,a,r,1,1)}(t,a,e);break;case 44:case ne.TK_IN:!function(t,e){var r=t.fs,n=new le,a=4,u=r.freereg;for(ye(t,"(for generator)"),ye(t,"(for state)"),ye(t,"(for control)"),Ee(t,e);de(t,44);)Ee(t,xe(t)),a++;be(t,ne.TK_IN);var o=t.linenumber;we(t,3,er(t,n),n),j(r,3),vr(t,u,o,a-3,0)}(t,a);break;default:yt.luaX_syntaxerror(t,c("'=' or 'in' expected",!0))}Te(t,ne.TK_END,ne.TK_FOR,e),Fe(r)},hr=function(t,e){var r,n=new oe,a=t.fs,u=new le;if(yt.luaX_next(t),or(t,u),be(t,ne.TK_THEN),t.t.token===ne.TK_GOTO||t.t.token===ne.TK_BREAK){for(nt(t.fs,u),Ge(a,n,!1),fr(t,u.t);de(t,59););if(He(t,0))return Fe(a),e;r=lt(a)}else at(t.fs,u),Ge(a,n,!1),r=u.f;return Xe(t),Fe(a),t.t.token!==ne.TK_ELSE&&t.t.token!==ne.TK_ELSEIF||(e=J(a,e,lt(a))),pt(a,r),e},dr=function(t,e){var r=new le,n=new le;yt.luaX_next(t);var a=function(t,e){var r=0;for(Ie(t,e);46===t.t.token;)ze(t,e);return 58===t.t.token&&(r=1,ze(t,e)),r}(t,r);tr(t,n,a,e),Ot(t.fs,r,n),et(t.fs,e)},Ar=function(t){var e=t.linenumber;switch(Me(t),t.t.token){case 59:yt.luaX_next(t);break;case ne.TK_IF:!function(t,e){var r=t.fs,n=K;for(n=hr(t,n);t.t.token===ne.TK_ELSEIF;)n=hr(t,n);de(t,ne.TK_ELSE)&&sr(t),Te(t,ne.TK_END,ne.TK_IF,e),pt(r,n)}(t,e);break;case ne.TK_WHILE:!function(t,e){var r=t.fs,n=new oe;yt.luaX_next(t);var a=rt(r),u=cr(t);Ge(r,n,1),be(t,ne.TK_DO),sr(t),it(r,a),Te(t,ne.TK_END,ne.TK_WHILE,e),Fe(r),pt(r,u)}(t,e);break;case ne.TK_DO:yt.luaX_next(t),sr(t),Te(t,ne.TK_END,ne.TK_DO,e);break;case ne.TK_FOR:Lr(t,e);break;case ne.TK_REPEAT:!function(t,e){var r=t.fs,n=rt(r),a=new oe,u=new oe;Ge(r,a,1),Ge(r,u,0),yt.luaX_next(t),Xe(t),Te(t,ne.TK_UNTIL,ne.TK_REPEAT,e);var o=cr(t);u.upval&&ft(r,o,u.nactvar),Fe(r),_t(r,o,n),Fe(r)}(t,e);break;case ne.TK_FUNCTION:dr(t,e);break;case ne.TK_LOCAL:yt.luaX_next(t),de(t,ne.TK_FUNCTION)?function(t){var e=new le,r=t.fs;Ee(t,xe(t)),Re(t,1),tr(t,e,0,t.linenumber),Ne(r,e.u.info).startpc=r.pc}(t):function(t){var e,r=0,n=new le;do{Ee(t,xe(t)),r++}while(de(t,44));de(t,61)?e=er(t,n):(n.k=se.VVOID,e=0),we(t,r,e,n),Re(t,r)}(t);break;case ne.TK_DBCOLON:yt.luaX_next(t),_r(t,xe(t),e);break;case ne.TK_RETURN:yt.luaX_next(t),function(t){var e,r,n=t.fs,a=new le;He(t,1)||59===t.t.token?e=r=0:(r=er(t,a),ae(a.k)?(gt(n,a),a.k===se.VCALL&&1===r&&(qt(F(n,a),jt),Ut(F(n,a).A===n.nactvar)),e=n.nactvar,r=i):1===r?e=$(n,a):(Q(n,a),e=n.nactvar,Ut(r===n.freereg-e))),dt(n,e,r),de(t,59)}(t);break;case ne.TK_BREAK:case ne.TK_GOTO:fr(t,lt(t.fs));break;default:!function(t){var e=t.fs,r=new lr;nr(t,r.v),61===t.t.token||44===t.t.token?(r.prev=null,ir(t,r,1)):(ge(t,r.v.k===se.VCALL,c("syntax error",!0)),Zt(F(e,r.v),1))}(t)}Ut(t.fs.f.maxstacksize>=t.fs.freereg&&t.fs.freereg>=t.fs.nactvar),t.fs.freereg=t.fs.nactvar,Pe(t)};t.exports.Dyndata=pe,t.exports.expkind=se,t.exports.expdesc=le,t.exports.luaY_parser=function(t,e,r,n,a,u){var o,s,l,i,c=new yt.LexState,f=new ie,_=Et.luaF_newLclosure(t,1);return mt.luaD_inctop(t),t.stack[t.top-1].setclLvalue(_),c.h=ee.luaH_new(t),mt.luaD_inctop(t),t.stack[t.top-1].sethvalue(c.h),f.f=_.p=new re(t),f.f.source=Qt(t,a),c.buff=r,c.dyd=n,n.actvar.n=n.gt.n=n.label.n=0,yt.luaX_setinput(t,c,e,f.f.source,u),o=c,s=f,l=new oe,i=new le,Ke(o,s,l),s.f.is_vararg=!0,Oe(i,se.VLOCAL,0),Se(s,o.envn,i),yt.luaX_next(o),Xe(o),Ae(o,ne.TK_EOS),je(o),Ut(!f.prev&&1===f.nups&&!c.fs),Ut(0===n.actvar.n&&0===n.gt.n&&0===n.label.n),delete t.stack[--t.top],_},t.exports.vkisinreg=function(t){return t===se.VNONRELOC||t===se.VLOCAL}},function(t,e,r){"use strict";var n=r(2),a=n.LUA_MULTRET,u=n.LUA_OK,o=n.LUA_TFUNCTION,s=n.LUA_TNIL,l=n.LUA_TNONE,i=n.LUA_TNUMBER,c=n.LUA_TSTRING,f=n.LUA_TTABLE,_=n.LUA_VERSION,p=n.LUA_YIELD,v=n.lua_call,L=n.lua_callk,h=n.lua_concat,d=n.lua_error,A=n.lua_getglobal,b=n.lua_geti,g=n.lua_getmetatable,T=n.lua_gettop,x=n.lua_insert,O=n.lua_isnil,k=n.lua_isnone,m=n.lua_isstring,E=n.lua_load,y=n.lua_next,N=n.lua_pcallk,R=n.lua_pop,S=n.lua_pushboolean,U=n.lua_pushcfunction,I=n.lua_pushglobaltable,w=n.lua_pushinteger,M=n.lua_pushliteral,P=n.lua_pushnil,C=n.lua_pushstring,B=n.lua_pushvalue,V=n.lua_rawequal,D=n.lua_rawget,G=n.lua_rawlen,K=n.lua_rawset,F=n.lua_remove,j=n.lua_replace,H=n.lua_rotate,X=n.lua_setfield,z=n.lua_setmetatable,Y=n.lua_settop,J=n.lua_setupvalue,Z=n.lua_stringtonumber,q=n.lua_toboolean,$=n.lua_tolstring,W=n.lua_tostring,Q=n.lua_type,tt=n.lua_typename,et=r(7),rt=et.luaL_argcheck,nt=et.luaL_checkany,at=et.luaL_checkinteger,ut=et.luaL_checkoption,ot=et.luaL_checkstack,st=et.luaL_checktype,lt=et.luaL_error,it=et.luaL_getmetafield,ct=et.luaL_loadbufferx,ft=et.luaL_loadfile,_t=et.luaL_loadfilex,pt=et.luaL_optinteger,vt=et.luaL_optstring,Lt=et.luaL_setfuncs,ht=et.luaL_tolstring,dt=et.luaL_where,At=r(5),bt=At.to_jsstring,gt=At.to_luastring,Tt="",xt=new TextDecoder("utf-8");function Ot(t){Tt+=xt.decode(t,{stream:!0})}var kt=new Uint8Array(0);var mt=["stop","restart","collect","count","step","setpause","setstepmul","isrunning"].map((function(t){return gt(t)})),Et=function(t){return st(t,1,f),Y(t,2),y(t,1)?2:(P(t),1)},yt=function(t){var e=at(t,2)+1;return w(t,e),b(t,1,e)===s?1:2},Nt=function(t){var e=pt(t,2,1);return Y(t,1),Q(t,1)===c&&e>0&&(dt(t,e),B(t,1),h(t,2)),d(t)},Rt=function(t,e,r){return e!==u&&e!==p?(S(t,0),B(t,-2),2):T(t)-r},St=function(t,e,r){return e===u?(0!==r&&(B(t,r),J(t,-2,1)||R(t,1)),1):(P(t),x(t,-2),2)},Ut=function(t,e){return ot(t,2,"too many nested functions"),B(t,1),v(t,0,1),O(t,-1)?(R(t,1),null):(m(t,-1)||lt(t,gt("reader function must return a string")),j(t,5),W(t,5))},It=function(t,e,r){return T(t)-1},wt={assert:function(t){return q(t,1)?T(t):(nt(t,1),F(t,1),M(t,"assertion failed!"),Y(t,1),Nt(t))},collectgarbage:function(t){ut(t,1,"collect",mt),pt(t,2,0),lt(t,gt("lua_gc not implemented"))},dofile:function(t){var e=vt(t,1,null);return Y(t,1),ft(t,e)!==u?d(t):(L(t,0,a,0,It),It(t))},error:Nt,getmetatable:function(t){return nt(t,1),g(t,1)?(it(t,1,gt("__metatable",!0)),1):(P(t),1)},ipairs:function(t){return nt(t,1),U(t,yt),B(t,1),w(t,0),3},load:function(t){var e,r=W(t,1),n=vt(t,3,"bt"),a=k(t,4)?0:4;if(null!==r){var u=vt(t,2,r);e=ct(t,r,r.length,u,n)}else{var s=vt(t,2,"=(load)");st(t,1,o),Y(t,5),e=E(t,Ut,null,s,n)}return St(t,e,a)},loadfile:function(t){var e=vt(t,1,null),r=vt(t,2,null),n=k(t,3)?0:3,a=_t(t,e,r);return St(t,a,n)},next:Et,pairs:function(t){return function(t,e,r,n){return nt(t,1),it(t,1,e)===s?(U(t,n),B(t,1),r?w(t,0):P(t)):(B(t,1),v(t,1,3)),3}(t,gt("__pairs",!0),0,Et)},pcall:function(t){nt(t,1),S(t,1),x(t,1);var e=N(t,T(t)-2,a,0,0,Rt);return Rt(t,e,0)},print:function(t){var e=T(t);A(t,gt("tostring",!0));for(var r=1;r<=e;r++){B(t,-1),B(t,r),v(t,1,1);var n=$(t,-1);if(null===n)return lt(t,gt("'tostring' must return a string to 'print'"));r>1&&Ot(gt("\t")),Ot(n),R(t,1)}return Tt+=xt.decode(kt),postMessage({type:"log",message:Tt}),Tt="",0},rawequal:function(t){return nt(t,1),nt(t,2),S(t,V(t,1,2)),1},rawget:function(t){return st(t,1,f),nt(t,2),Y(t,2),D(t,1),1},rawlen:function(t){var e=Q(t,1);return rt(t,e===f||e===c,1,"table or string expected"),w(t,G(t,1)),1},rawset:function(t){return st(t,1,f),nt(t,2),nt(t,3),Y(t,3),K(t,1),1},select:function(t){var e=T(t);if(Q(t,1)===c&&35===W(t,1)[0])return w(t,e-1),1;var r=at(t,1);return r<0?r=e+r:r>e&&(r=e),rt(t,1<=r,1,"index out of range"),e-r},setmetatable:function(t){var e=Q(t,2);return st(t,1,f),rt(t,e===s||e===f,2,"nil or table expected"),it(t,1,gt("__metatable",!0))!==s?lt(t,gt("cannot change a protected metatable")):(Y(t,2),z(t,1),1)},tonumber:function(t){if(Q(t,2)<=0){if(nt(t,1),Q(t,1)===i)return Y(t,1),1;var e=W(t,1);if(null!==e&&Z(t,e)===e.length+1)return 1}else{var r=at(t,2);st(t,1,c);var n=W(t,1);rt(t,2<=r&&r<=36,2,"base out of range");var a=function(t,e){try{t=bt(t)}catch(t){return null}var r=/^[\t\v\f \n\r]*([+-]?)0*([0-9A-Za-z]+)[\t\v\f \n\r]*$/.exec(t);if(!r)return null;var n=parseInt(r[1]+r[2],e);return isNaN(n)?null:0|n}(n,r);if(null!==a)return w(t,a),1}return P(t),1},tostring:function(t){return nt(t,1),ht(t,1),1},type:function(t){var e=Q(t,1);return rt(t,e!==l,1,"value expected"),C(t,tt(t,e)),1},xpcall:function(t){var e=T(t);st(t,2,o),S(t,1),B(t,1),H(t,3,2);var r=N(t,e-2,a,2,2,Rt);return Rt(t,r,2)}};t.exports.luaopen_base=function(t){return I(t),Lt(t,wt,0),B(t,-1),X(t,-2,gt("_G")),M(t,_),X(t,-2,gt("_VERSION")),1}},function(t,e,r){"use strict";var n=r(2),a=n.LUA_OK,u=n.LUA_TFUNCTION,o=n.LUA_TSTRING,s=n.LUA_YIELD,l=n.lua_Debug,i=n.lua_checkstack,c=n.lua_concat,f=n.lua_error,_=n.lua_getstack,p=n.lua_gettop,v=n.lua_insert,L=n.lua_isyieldable,h=n.lua_newthread,d=n.lua_pop,A=n.lua_pushboolean,b=n.lua_pushcclosure,g=n.lua_pushliteral,T=n.lua_pushthread,x=n.lua_pushvalue,O=n.lua_resume,k=n.lua_status,m=n.lua_tothread,E=n.lua_type,y=n.lua_upvalueindex,N=n.lua_xmove,R=n.lua_yield,S=r(7),U=S.luaL_argcheck,I=S.luaL_checktype,w=S.luaL_newlib,M=S.luaL_where,P=function(t){var e=m(t,1);return U(t,e,1,"thread expected"),e},C=function(t,e,r){if(!i(e,r))return g(t,"too many arguments to resume"),-1;if(k(e)===a&&0===p(e))return g(t,"cannot resume dead coroutine"),-1;N(t,e,r);var n=O(e,t,r);if(n===a||n===s){var u=p(e);return i(t,u+1)?(N(e,t,u),u):(d(e,u),g(t,"too many results to resume"),-1)}return N(e,t,1),-1},B=function(t){var e=m(t,y(1)),r=C(t,e,p(t));return r<0?(E(t,-1)===o&&(M(t,1),v(t,-2),c(t,2)),f(t)):r},V=function(t){I(t,1,u);var e=h(t);return x(t,1),N(t,e,1),1},D={create:V,isyieldable:function(t){return A(t,L(t)),1},resume:function(t){var e=P(t),r=C(t,e,p(t)-1);return r<0?(A(t,0),v(t,-2),2):(A(t,1),v(t,-(r+1)),r+1)},running:function(t){return A(t,T(t)),2},status:function(t){var e=P(t);if(t===e)g(t,"running");else switch(k(e)){case s:g(t,"suspended");break;case a:var r=new l;_(e,0,r)>0?g(t,"normal"):0===p(e)?g(t,"dead"):g(t,"suspended");break;default:g(t,"dead")}return 1},wrap:function(t){return V(t),b(t,B,1),1},yield:function(t){return R(t,p(t))}};t.exports.luaopen_coroutine=function(t){return w(t,D),1}},function(t,e,r){"use strict";var n=r(3).LUA_MAXINTEGER,a=r(2),u=a.LUA_OPEQ,o=a.LUA_OPLT,s=a.LUA_TFUNCTION,l=a.LUA_TNIL,i=a.LUA_TTABLE,c=a.lua_call,f=a.lua_checkstack,_=a.lua_compare,p=a.lua_createtable,v=a.lua_geti,L=a.lua_getmetatable,h=a.lua_gettop,d=a.lua_insert,A=a.lua_isnil,b=a.lua_isnoneornil,g=a.lua_isstring,T=a.lua_pop,x=a.lua_pushinteger,O=a.lua_pushnil,k=a.lua_pushstring,m=a.lua_pushvalue,E=a.lua_rawget,y=a.lua_setfield,N=a.lua_seti,R=a.lua_settop,S=a.lua_toboolean,U=a.lua_type,I=r(7),w=I.luaL_Buffer,M=I.luaL_addlstring,P=I.luaL_addvalue,C=I.luaL_argcheck,B=I.luaL_buffinit,V=I.luaL_checkinteger,D=I.luaL_checktype,G=I.luaL_error,K=I.luaL_len,F=I.luaL_newlib,j=I.luaL_opt,H=I.luaL_optinteger,X=I.luaL_optlstring,z=I.luaL_pushresult,Y=I.luaL_typename,J=r(17),Z=r(5).to_luastring,q=function(t,e,r){return k(t,e),E(t,-r)!==l},$=function(t,e,r){if(U(t,e)!==i){var n=1;!L(t,e)||1&r&&!q(t,Z("__index",!0),++n)||2&r&&!q(t,Z("__newindex",!0),++n)||4&r&&!q(t,Z("__len",!0),++n)?D(t,e,i):T(t,n)}},W=function(t,e,r){return $(t,e,4|r),K(t,e)},Q=function(t,e,r){v(t,1,r),g(t,-1)||G(t,Z("invalid value (%s) at index %d in table for 'concat'"),Y(t,-1),r),P(e)},tt=function(t,e,r){N(t,1,e),N(t,1,r)},et=function(t,e,r){if(A(t,2))return _(t,e,r,o);m(t,2),m(t,e-1),m(t,r-2),c(t,2,1);var n=S(t,-1);return T(t,1),n},rt=function(t,e,r){for(var n=e,a=r-1;;){for(;v(t,1,++n),et(t,-1,-2);)n==r-1&&G(t,Z("invalid order function for sorting")),T(t,1);for(;v(t,1,--a),et(t,-3,-1);)a<n&&G(t,Z("invalid order function for sorting")),T(t,1);if(a<n)return T(t,1),tt(t,r-1,n),n;tt(t,n,a)}},nt=function(t,e,r){var n=Math.floor((e-t)/4),a=r%(2*n)+(t+n);return J.lua_assert(t+n<=a&&a<=e-n),a},at={concat:function(t){var e=W(t,1,1),r=X(t,2,""),n=r.length,a=H(t,3,1);e=H(t,4,e);var u=new w;for(B(t,u);a<e;a++)Q(t,u,a),M(u,r,n);return a===e&&Q(t,u,a),z(u),1},insert:function(t){var e,r=W(t,1,3)+1;switch(h(t)){case 2:e=r;break;case 3:e=V(t,2),C(t,1<=e&&e<=r,2,"position out of bounds");for(var n=r;n>e;n--)v(t,1,n-1),N(t,1,n);break;default:return G(t,"wrong number of arguments to 'insert'")}return N(t,1,e),0},move:function(t){var e=V(t,2),r=V(t,3),a=V(t,4),o=b(t,5)?1:5;if($(t,1,1),$(t,o,2),r>=e){C(t,e>0||r<n+e,3,"too many elements to move");var s=r-e+1;if(C(t,a<=n-s+1,4,"destination wrap around"),a>r||a<=e||1!==o&&1!==_(t,1,o,u))for(var l=0;l<s;l++)v(t,1,e+l),N(t,o,a+l);else for(var i=s-1;i>=0;i--)v(t,1,e+i),N(t,o,a+i)}return m(t,o),1},pack:function(t){var e=h(t);p(t,e,1),d(t,1);for(var r=e;r>=1;r--)N(t,1,r);return x(t,e),y(t,1,Z("n")),1},remove:function(t){var e=W(t,1,3),r=H(t,2,e);for(r!==e&&C(t,1<=r&&r<=e+1,1,"position out of bounds"),v(t,1,r);r<e;r++)v(t,1,r+1),N(t,1,r);return O(t),N(t,1,r),1},sort:function(t){var e=W(t,1,3);return e>1&&(C(t,e<n,1,"array too big"),b(t,2)||D(t,2,s),R(t,2),function t(e,r,n,a){for(;r<n;){if(v(e,1,r),v(e,1,n),et(e,-1,-2)?tt(e,r,n):T(e,2),n-r==1)return;var u=void 0;if(u=n-r<100||0===a?Math.floor((r+n)/2):nt(r,n,a),v(e,1,u),v(e,1,r),et(e,-2,-1)?tt(e,u,r):(T(e,1),v(e,1,n),et(e,-1,-2)?tt(e,u,n):T(e,2)),n-r==2)return;v(e,1,u),m(e,-1),v(e,1,n-1),tt(e,u,n-1);var o=void 0;(u=rt(e,r,n))-r<n-u?(t(e,r,u-1,a),o=u-r,r=u+1):(t(e,u+1,n,a),o=n-u,n=u-1),(n-r)/128>o&&(a=Math.floor(4294967296*Math.random()))}}(t,1,e,0)),0},unpack:function(t){var e=H(t,2,1),r=j(t,V,3,K(t,1));if(e>r)return 0;var n=r-e;if(n>=Number.MAX_SAFE_INTEGER||!f(t,++n))return G(t,Z("too many results to unpack"));for(;e<r;e++)v(t,1,e);return v(t,1,r),n}};t.exports.luaopen_table=function(t){return F(t,at),1}},function(t,e,r){"use strict";var n=r(2),a=n.LUA_TNIL,u=n.LUA_TTABLE,o=(n.lua_close,n.lua_createtable),s=n.lua_getfield,l=(n.lua_isboolean,n.lua_isnoneornil),i=n.lua_pop,c=(n.lua_pushboolean,n.lua_pushfstring),f=n.lua_pushinteger,_=(n.lua_pushliteral,n.lua_pushnil,n.lua_pushnumber),p=(n.lua_pushstring,n.lua_setfield),v=n.lua_settop,L=(n.lua_toboolean,n.lua_tointegerx),h=r(7),d=h.luaL_Buffer,A=h.luaL_addchar,b=h.luaL_addstring,g=h.luaL_argerror,T=h.luaL_buffinit,x=h.luaL_checkinteger,O=(h.luaL_checkstring,h.luaL_checktype),k=h.luaL_error,m=(h.luaL_execresult,h.luaL_fileresult,h.luaL_newlib),E=(h.luaL_optinteger,h.luaL_optlstring),y=(h.luaL_optstring,h.luaL_pushresult),N=r(5),R=N.luastring_eq,S=(N.to_jsstring,N.to_luastring),U=S("aAbBcCdDeFhHIjklmMnpPrRStTuUwWxXyYzZ%"),I=function(t,e,r){f(t,r),p(t,-2,S(e,!0))},w=function(t,e,r){I(t,"sec",r?e.getUTCSeconds():e.getSeconds()),I(t,"min",r?e.getUTCMinutes():e.getMinutes()),I(t,"hour",r?e.getUTCHours():e.getHours()),I(t,"day",r?e.getUTCDate():e.getDate()),I(t,"month",(r?e.getUTCMonth():e.getMonth())+1),I(t,"year",r?e.getUTCFullYear():e.getFullYear()),I(t,"wday",(r?e.getUTCDay():e.getDay())+1),I(t,"yday",Math.floor((e-new Date(e.getFullYear(),0,0))/864e5))},M=Number.MAX_SAFE_INTEGER/2,P=function(t,e,r,n){var u=s(t,-1,S(e,!0)),o=L(t,-1);if(!1===o){if(u!==a)return k(t,S("field '%s' is not an integer"),e);if(r<0)return k(t,S("field '%s' missing in date table"),e);o=r}else{if(!(-M<=o&&o<=M))return k(t,S("field '%s' is out-of-bound"),e);o-=n}return i(t,1),o},C={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((function(t){return S(t)})),shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(t){return S(t)})),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(t){return S(t)})),shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((function(t){return S(t)})),AM:S("AM"),PM:S("PM"),am:S("am"),pm:S("pm"),formats:{c:S("%a %b %e %H:%M:%S %Y"),D:S("%m/%d/%y"),F:S("%Y-%m-%d"),R:S("%H:%M"),r:S("%I:%M:%S %p"),T:S("%H:%M:%S"),X:S("%T"),x:S("%D")}},B=function(t,e){var r=t.getDay();"monday"===e&&(0===r?r=6:r--);var n=(t-new Date(t.getFullYear(),0,1))/864e5;return Math.floor((n+7-r)/7)},V=function(t,e,r){e<10&&A(t,r),b(t,S(String(e)))},D=function(t,e,r){for(var n=U,a=0,u=1;a<n.length&&u<=e.length-r;a+=u)if(n[a]==="|".charCodeAt(0))u++;else if(R(e.subarray(r,r+u),n.subarray(a,a+u)))return u;g(t,1,c(t,S("invalid conversion specifier '%%%s'"),e))},G=function(t,e){return x(t,e)},K={date:function(t){var e=E(t,1,"%c"),r=l(t,2)?new Date:new Date(1e3*G(t,2)),n=!1,a=0;if(e[a]==="!".charCodeAt(0)&&(n=!0,a++),e[a]==="*".charCodeAt(0)&&e[a+1]==="t".charCodeAt(0))o(t,0,9),w(t,r,n);else{new Uint8Array(4)[0]="%".charCodeAt(0);var u=new d;T(t,u),function t(e,r,n,a){for(var u=0;u<n.length;)if(37!==n[u])A(r,n[u++]);else{u++;var o=D(e,n,u);switch(n[u]){case 37:A(r,37);break;case 65:b(r,C.days[a.getDay()]);break;case 66:b(r,C.months[a.getMonth()]);break;case 67:V(r,Math.floor(a.getFullYear()/100),48);break;case 68:t(e,r,C.formats.D,a);break;case 70:t(e,r,C.formats.F,a);break;case 72:V(r,a.getHours(),48);break;case 73:V(r,(a.getHours()+11)%12+1,48);break;case 77:V(r,a.getMinutes(),48);break;case 80:b(r,a.getHours()<12?C.am:C.pm);break;case 82:t(e,r,C.formats.R,a);break;case 83:V(r,a.getSeconds(),48);break;case 84:t(e,r,C.formats.T,a);break;case 85:V(r,B(a,"sunday"),48);break;case 87:V(r,B(a,"monday"),48);break;case 88:t(e,r,C.formats.X,a);break;case 89:b(r,S(String(a.getFullYear())));break;case 90:var s=a.toString().match(/\(([\w\s]+)\)/);s&&b(r,S(s[1]));break;case 97:b(r,C.shortDays[a.getDay()]);break;case 98:case 104:b(r,C.shortMonths[a.getMonth()]);break;case 99:t(e,r,C.formats.c,a);break;case 100:V(r,a.getDate(),48);break;case 101:V(r,a.getDate(),32);break;case 106:var l=Math.floor((a-new Date(a.getFullYear(),0,1))/864e5);l<100&&(l<10&&A(r,48),A(r,48)),b(r,S(String(l)));break;case 107:V(r,a.getHours(),32);break;case 108:V(r,(a.getHours()+11)%12+1,32);break;case 109:V(r,a.getMonth()+1,48);break;case 110:A(r,10);break;case 112:b(r,a.getHours()<12?C.AM:C.PM);break;case 114:t(e,r,C.formats.r,a);break;case 115:b(r,S(String(Math.floor(a/1e3))));break;case 116:A(r,8);break;case 117:var i=a.getDay();b(r,S(String(0===i?7:i)));break;case 119:b(r,S(String(a.getDay())));break;case 120:t(e,r,C.formats.x,a);break;case 121:V(r,a.getFullYear()%100,48);break;case 122:var c=a.getTimezoneOffset();c>0?A(r,45):(c=-c,A(r,43)),V(r,Math.floor(c/60),48),V(r,c%60,48)}u+=o}}(t,u,e,r),y(u)}return 1},difftime:function(t){var e=G(t,1),r=G(t,2);return _(t,e-r),1},time:function(t){var e;return l(t,1)?e=new Date:(O(t,1,u),v(t,1),e=new Date(P(t,"year",-1,0),P(t,"month",-1,1),P(t,"day",-1,0),P(t,"hour",12,0),P(t,"min",0,0),P(t,"sec",0,0)),w(t,e)),f(t,Math.floor(e/1e3)),1}};K.clock=function(t){return _(t,performance.now()/1e3),1};t.exports.luaopen_os=function(t){return m(t,K),1}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=r(38).sprintf,i=r(3),c=i.LUA_INTEGER_FMT,f=i.LUA_INTEGER_FRMLEN,_=i.LUA_MININTEGER,p=i.LUA_NUMBER_FMT,v=i.LUA_NUMBER_FRMLEN,L=i.frexp,h=i.lua_getlocaledecpoint,d=r(2),A=d.LUA_TBOOLEAN,b=d.LUA_TFUNCTION,g=d.LUA_TNIL,T=d.LUA_TNUMBER,x=d.LUA_TSTRING,O=d.LUA_TTABLE,k=d.lua_call,m=d.lua_createtable,E=d.lua_dump,y=d.lua_gettable,N=d.lua_gettop,R=d.lua_isinteger,S=d.lua_isstring,U=d.lua_pop,I=d.lua_pushcclosure,w=d.lua_pushinteger,M=d.lua_pushlightuserdata,P=d.lua_pushliteral,C=d.lua_pushlstring,B=d.lua_pushnil,V=d.lua_pushnumber,D=d.lua_pushstring,G=d.lua_pushvalue,K=d.lua_remove,F=d.lua_setfield,j=d.lua_setmetatable,H=d.lua_settop,X=d.lua_toboolean,z=d.lua_tointeger,Y=d.lua_tonumber,J=d.lua_tostring,Z=d.lua_touserdata,q=d.lua_type,$=d.lua_upvalueindex,W=r(7),Q=W.luaL_Buffer,tt=W.luaL_addchar,et=W.luaL_addlstring,rt=W.luaL_addsize,nt=W.luaL_addstring,at=W.luaL_addvalue,ut=W.luaL_argcheck,ot=W.luaL_argerror,st=W.luaL_buffinit,lt=W.luaL_buffinitsize,it=W.luaL_checkinteger,ct=W.luaL_checknumber,ft=W.luaL_checkstack,_t=W.luaL_checkstring,pt=W.luaL_checktype,vt=W.luaL_error,Lt=W.luaL_newlib,ht=W.luaL_optinteger,dt=W.luaL_optstring,At=W.luaL_prepbuffsize,bt=W.luaL_pushresult,gt=W.luaL_pushresultsize,Tt=W.luaL_tolstring,xt=W.luaL_typename,Ot=r(17),kt=r(5),mt=kt.luastring_eq,Et=kt.luastring_indexOf,yt=kt.to_jsstring,Nt=kt.to_luastring,Rt="%".charCodeAt(0),St=function(t){var e=Et(t,0);return e>-1?e:t.length},Ut=function(t,e){return t>=0?t:0-t>e?0:e+t+1},It=function(t,e,r,n){return et(n,e,r),0},wt=v.length+1,Mt=function(t,e,r){var n=function(t){if(Object.is(t,1/0))return Nt("inf");if(Object.is(t,-1/0))return Nt("-inf");if(Number.isNaN(t))return Nt("nan");if(0===t){var e=l(p+"x0p+0",t);return Object.is(t,-0)&&(e="-"+e),Nt(e)}var r="",n=L(t),a=n[0],u=n[1];return a<0&&(r+="-",a=-a),r+="0x",r+=(2*a).toString(16),r+=l("p%+d",u-=1),Nt(r)}(r);if(65===e[wt])for(var a=0;a<n.length;a++){var u=n[a];u>=97&&(n[a]=223&u)}else 97!==e[wt]&&vt(t,Nt("modifiers for format '%%a'/'%%A' not implemented"));return n},Pt=Nt("-+ #0"),Ct=function(t){return 97<=t&&t<=122||65<=t&&t<=90},Bt=function(t){return 48<=t&&t<=57},Vt=function(t){return 0<=t&&t<=31||127===t},Dt=function(t){return 33<=t&&t<=126},Gt=function(t){return 97<=t&&t<=122},Kt=function(t){return 65<=t&&t<=90},Ft=function(t){return 97<=t&&t<=122||65<=t&&t<=90||48<=t&&t<=57},jt=function(t){return Dt(t)&&!Ft(t)},Ht=function(t){return 32===t||t>=9&&t<=13},Xt=function(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102},zt=function(t,e,r){switch(q(t,r)){case x:var n=J(t,r);!function(t,e,r){tt(t,34);for(var n=0;r--;){if(34===e[n]||92===e[n]||10===e[n])tt(t,92),tt(t,e[n]);else if(Vt(e[n])){var a=""+e[n];Bt(e[n+1])&&(a="0".repeat(3-a.length)+a),nt(t,Nt("\\"+a))}else tt(t,e[n]);n++}tt(t,34)}(e,n,n.length);break;case T:var a;if(R(t,r)){var u=z(t,r);a=Nt(l(u===_?"0x%"+f+"x":c,u))}else{var o=Y(t,r);(function(t){if(Et(t,46)<0){var e=h(),r=Et(t,e);r&&(t[r]=46)}})(a=Mt(t,Nt("%".concat(f,"a")),o))}nt(e,a);break;case g:case A:Tt(t,r),at(e);break;default:ot(t,r,Nt("value has no literal form"))}},Yt=function(t,e,r,n){for(var a=r;0!==e[a]&&Et(Pt,e[a])>=0;)a++;a-r>=Pt.length&&vt(t,Nt("invalid format (repeated flags)")),Bt(e[a])&&a++,Bt(e[a])&&a++,46===e[a]&&(a++,Bt(e[a])&&a++,Bt(e[a])&&a++),Bt(e[a])&&vt(t,Nt("invalid format (width or precision too long)")),n[0]=37;for(var u=0;u<a-r+1;u++)n[u+1]=e[r+u];return a},Jt=function(t,e){for(var r=t.length,n=e.length,a=t[r-1],u=0;u<n;u++)t[u+r-1]=e[u];t[r+n-1]=a},Zt=u((function t(e){s(this,t),this.L=e,this.islittle=!0,this.maxalign=1})),qt=Bt,$t=function(t,e){if(t.off>=t.s.length||!qt(t.s[t.off]))return e;var r=0;do{r=10*r+(t.s[t.off++]-48)}while(t.off<t.s.length&&qt(t.s[t.off])&&r<=214748363.8);return r},Wt=function(t,e,r){var n=$t(e,r);return(n>16||n<=0)&&vt(t.L,Nt("integral size (%d) out of limits [1,%d]"),n,16),n},Qt=function(t,e){var r={opt:e.s[e.off++],size:0};switch(r.opt){case 98:return r.size=1,r.opt=0,r;case 66:return r.size=1,r.opt=1,r;case 104:return r.size=2,r.opt=0,r;case 72:return r.size=2,r.opt=1,r;case 108:return r.size=4,r.opt=0,r;case 76:return r.size=4,r.opt=1,r;case 106:return r.size=4,r.opt=0,r;case 74:case 84:return r.size=4,r.opt=1,r;case 102:return r.size=4,r.opt=2,r;case 100:case 110:return r.size=8,r.opt=2,r;case 105:return r.size=Wt(t,e,4),r.opt=0,r;case 73:return r.size=Wt(t,e,4),r.opt=1,r;case 115:return r.size=Wt(t,e,4),r.opt=4,r;case 99:return r.size=$t(e,-1),-1===r.size&&vt(t.L,Nt("missing size for format option 'c'")),r.opt=3,r;case 122:return r.opt=5,r;case 120:return r.size=1,r.opt=6,r;case 88:return r.opt=7,r;case 32:break;case 60:t.islittle=!0;break;case 62:t.islittle=!1;break;case 61:t.islittle=!0;break;case 33:t.maxalign=Wt(t,e,8);break;default:vt(t.L,Nt("invalid format option '%c'"),r.opt)}return r.opt=8,r},te=function(t,e,r){var n={opt:NaN,size:NaN,ntoalign:NaN},a=Qt(t,r);n.size=a.size,n.opt=a.opt;var u=n.size;if(7===n.opt)if(r.off>=r.s.length||0===r.s[r.off])ot(t.L,1,Nt("invalid next option for option 'X'"));else{var o=Qt(t,r);u=o.size,3!==(o=o.opt)&&0!==u||ot(t.L,1,Nt("invalid next option for option 'X'"))}return u<=1||3===n.opt?n.ntoalign=0:(u>t.maxalign&&(u=t.maxalign),0!=(u&u-1)&&ot(t.L,1,Nt("format asks for alignment not power of 2")),n.ntoalign=u-(e&u-1)&u-1),n},ee=function(t,e,r,n,a){var u=At(t,n);u[r?0:n-1]=255&e;for(var o=1;o<n;o++)e>>=8,u[r?o:n-1-o]=255&e;if(a&&n>4)for(var s=4;s<n;s++)u[r?s:n-1-s]=255;rt(t,n)},re=function(t,e,r,n,a){for(var u=0,o=n<=4?n:4,s=o-1;s>=0;s--)u<<=8,u|=e[r?s:n-1-s];if(n<4){if(a){var l=1<<8*n-1;u=(u^l)-l}}else if(n>4)for(var i=!a||u>=0?0:255,c=o;c<n;c++)e[r?c:n-1-c]!==i&&vt(t,Nt("%d-byte integer does not fit into Lua Integer"),n);return u},ne=function(t,e,r,n){Ot.lua_assert(e.length>=n);for(var a=new DataView(new ArrayBuffer(n)),u=0;u<n;u++)a.setUint8(u,e[u],r);return 4==n?a.getFloat32(0,r):a.getFloat64(0,r)},ae=Nt("^$*+?.([%-"),ue=u((function t(e){s(this,t),this.src=null,this.src_init=null,this.src_end=null,this.p=null,this.p_end=null,this.L=e,this.matchdepth=NaN,this.level=NaN,this.capture=[]})),oe=function(t,e){switch(t.p[e++]){case Rt:return e===t.p_end&&vt(t.L,Nt("malformed pattern (ends with '%%')")),e+1;case 91:94===t.p[e]&&e++;do{e===t.p_end&&vt(t.L,Nt("malformed pattern (missing ']')")),t.p[e++]===Rt&&e<t.p_end&&e++}while(93!==t.p[e]);return e+1;default:return e}},se=function(t,e){switch(e){case 97:return Ct(t);case 65:return!Ct(t);case 99:return Vt(t);case 67:return!Vt(t);case 100:return Bt(t);case 68:return!Bt(t);case 103:return Dt(t);case 71:return!Dt(t);case 108:return Gt(t);case 76:return!Gt(t);case 112:return jt(t);case 80:return!jt(t);case 115:return Ht(t);case 83:return!Ht(t);case 117:return Kt(t);case 85:return!Kt(t);case 119:return Ft(t);case 87:return!Ft(t);case 120:return Xt(t);case 88:return!Xt(t);case 122:return 0===t;case 90:return 0!==t;default:return e===t}},le=function(t,e,r,n){var a=!0;for(94===t.p[r+1]&&(a=!1,r++);++r<n;)if(t.p[r]===Rt){if(r++,se(e,t.p[r]))return a}else if(45===t.p[r+1]&&r+2<n){if(r+=2,t.p[r-2]<=e&&e<=t.p[r])return a}else if(t.p[r]===e)return a;return!a},ie=function(t,e,r,n){if(e>=t.src_end)return!1;var a=t.src[e];switch(t.p[r]){case 46:return!0;case Rt:return se(a,t.p[r+1]);case 91:return le(t,a,r,n-1);default:return t.p[r]===a}},ce=function(t,e,r){if(r>=t.p_end-1&&vt(t.L,Nt("malformed pattern (missing arguments to '%%b'")),t.src[e]!==t.p[r])return null;for(var n=t.p[r],a=t.p[r+1],u=1;++e<t.src_end;)if(t.src[e]===a){if(0==--u)return e+1}else t.src[e]===n&&u++;return null},fe=function(t,e,r,n){for(var a=0;ie(t,e+a,r,n);)a++;for(;a>=0;){var u=he(t,e+a,n+1);if(u)return u;a--}return null},_e=function(t,e,r,n){for(;;){var a=he(t,e,n+1);if(null!==a)return a;if(!ie(t,e,r,n))return null;e++}},pe=function(t,e,r,n){var a,u=t.level;return u>=32&&vt(t.L,Nt("too many captures")),t.capture[u]=t.capture[u]?t.capture[u]:{},t.capture[u].init=e,t.capture[u].len=n,t.level=u+1,null===(a=he(t,e,r))&&t.level--,a},ve=function(t,e,r){var n,a=function(t){var e=t.level;for(e--;e>=0;e--)if(-1===t.capture[e].len)return e;return vt(t.L,Nt("invalid pattern capture"))}(t);return t.capture[a].len=e-t.capture[a].init,null===(n=he(t,e,r))&&(t.capture[a].len=-1),n},Le=function(t,e,r){r=function(t,e){return(e-=49)<0||e>=t.level||-1===t.capture[e].len?vt(t.L,Nt("invalid capture index %%%d"),e+1):e}(t,r);var n=t.capture[r].len;return t.src_end-e>=n&&function(t,e,r,n,a){return mt(t.subarray(e,e+a),r.subarray(n,n+a))}(t.src,t.capture[r].init,t.src,e,n)?e+n:null},he=function t(e,r,n){var a=!1,u=!0;for(0==e.matchdepth--&&vt(e.L,Nt("pattern too complex"));u||a;)if(u=!1,n!==e.p_end)switch(a?void 0:e.p[n]){case 40:r=41===e.p[n+1]?pe(e,r,n+2,-2):pe(e,r,n+1,-1);break;case 41:r=ve(e,r,n+1);break;case 36:if(n+1!==e.p_end){a=!0;break}r=e.src.length-r==0?r:null;break;case Rt:switch(e.p[n+1]){case 98:null!==(r=ce(e,r,n+2))&&(n+=4,u=!0);break;case 102:n+=2,91!==e.p[n]&&vt(e.L,Nt("missing '[' after '%%f' in pattern"));var o=oe(e,n),s=r===e.src_init?0:e.src[r-1];if(!le(e,s,n,o-1)&&le(e,r===e.src_end?0:e.src[r],n,o-1)){n=o,u=!0;break}r=null;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:null!==(r=Le(e,r,e.p[n+1]))&&(n+=2,u=!0);break;default:a=!0}break;default:a=!1;var l=oe(e,n);if(ie(e,r,n,l))switch(e.p[l]){case 63:var i;null!==(i=t(e,r+1,l+1))?r=i:(n=l+1,u=!0);break;case 43:r++;case 42:r=fe(e,r,n,l);break;case 45:r=_e(e,r,n,l);break;default:r++,n=l,u=!0}else{if(42===e.p[l]||63===e.p[l]||45===e.p[l]){n=l+1,u=!0;break}r=null}}return e.matchdepth++,r},de=function(t,e,r,n){if(e>=t.level)0===e?C(t.L,t.src.subarray(r,n),n-r):vt(t.L,Nt("invalid capture index %%%d"),e+1);else{var a=t.capture[e].len;-1===a&&vt(t.L,Nt("unfinished capture")),-2===a?w(t.L,t.capture[e].init-t.src_init+1):C(t.L,t.src.subarray(t.capture[e].init),a)}},Ae=function(t,e,r){var n=0===t.level&&t.src.subarray(e)?1:t.level;ft(t.L,n,"too many captures");for(var a=0;a<n;a++)de(t,a,e,r);return n},be=function(t,e,r,n,a,u){t.L=e,t.matchdepth=200,t.src=r,t.src_init=0,t.src_end=n,t.p=a,t.p_end=u},ge=function(t){t.level=0,Ot.lua_assert(200===t.matchdepth)},Te=function(t,e){var r=_t(t,1),n=_t(t,2),a=r.length,u=n.length,o=Ut(ht(t,3,1),a);if(o<1)o=1;else if(o>a+1)return B(t),1;if(e&&(X(t,4)||function(t,e){for(var r=0;r<e;r++)if(-1!==Et(ae,t[r]))return!1;return!0}(n,u))){var s=function(t,e,r){var n=r>>>0,a=e.length;if(0===a)return n;for(;-1!==(n=t.indexOf(e[0],n));n++)if(mt(t.subarray(n,n+a),e))return n;return-1}(r.subarray(o-1),n,0);if(s>-1)return w(t,o+s),w(t,o+s+u-1),2}else{var l=new ue(t),i=o-1,c=94===n[0];c&&(n=n.subarray(1),u--),be(l,t,r,a,n,u);do{var f;if(ge(l),null!==(f=he(l,i,0)))return e?(w(t,i+1),w(t,f),Ae(l,null,0)+2):Ae(l,i,f)}while(i++<l.src_end&&!c)}return B(t),1},xe=u((function t(){s(this,t),this.src=NaN,this.p=NaN,this.lastmatch=NaN,this.ms=new ue})),Oe=function(t){var e=Z(t,$(3));e.ms.L=t;for(var r=e.src;r<=e.ms.src_end;r++){ge(e.ms);var n;if(null!==(n=he(e.ms,r,e.p))&&n!==e.lastmatch)return e.src=e.lastmatch=n,Ae(e.ms,r,n)}return 0},ke=function(t,e,r,n,a){var u=t.L;switch(a){case b:G(u,3);var o=Ae(t,r,n);k(u,o,1);break;case O:de(t,0,r,n),y(u,3);break;default:return void function(t,e,r,n){for(var a=t.L,u=J(a,3),o=u.length,s=0;s<o;s++)u[s]!==Rt?tt(e,u[s]):(s++,Bt(u[s])?48===u[s]?et(e,t.src.subarray(r,n),n-r):(de(t,u[s]-49,r,n),Tt(a,-1),K(a,-2),at(e)):(u[s]!==Rt&&vt(a,Nt("invalid use of '%c' in replacement string"),Rt),tt(e,u[s])))}(t,e,r,n)}X(u,-1)?S(u,-1)||vt(u,Nt("invalid replacement value (a %s)"),xt(u,-1)):(U(u,1),C(u,t.src.subarray(r,n),n-r)),at(e)},me={byte:function(t){var e=_t(t,1),r=e.length,n=Ut(ht(t,2,1),r),a=Ut(ht(t,3,n),r);if(n<1&&(n=1),a>r&&(a=r),n>a)return 0;if(a-n>=Number.MAX_SAFE_INTEGER)return vt(t,"string slice too long");var u=a-n+1;ft(t,u,"string slice too long");for(var o=0;o<u;o++)w(t,e[n+o-1]);return u},char:function(t){for(var e=N(t),r=new Q,n=lt(t,r,e),a=1;a<=e;a++){var u=it(t,a);ut(t,u>=0&&u<=255,"value out of range"),n[a-1]=u}return gt(r,e),1},dump:function(t){var e=new Q,r=X(t,2);return pt(t,1,b),H(t,1),st(t,e),0!==E(t,It,e,r)?vt(t,Nt("unable to dump given function")):(bt(e),1)},find:function(t){return Te(t,1)},format:function(t){var e=N(t),r=1,n=_t(t,r),a=0,u=new Q;for(st(t,u);a<n.length;)if(n[a]!==Rt)tt(u,n[a++]);else if(n[++a]===Rt)tt(u,n[a++]);else{var o=[];switch(++r>e&&ot(t,r,Nt("no value")),a=Yt(t,n,a,o),String.fromCharCode(n[a++])){case"c":tt(u,it(t,r));break;case"d":case"i":case"o":case"u":case"x":case"X":var s=it(t,r);Jt(o,Nt(f,!0)),nt(u,Nt(l(String.fromCharCode.apply(String,o),s)));break;case"a":case"A":Jt(o,Nt(f,!0)),nt(u,Mt(t,o,ct(t,r)));break;case"e":case"E":case"f":case"g":case"G":var i=ct(t,r);Jt(o,Nt(f,!0)),nt(u,Nt(l(String.fromCharCode.apply(String,o),i)));break;case"q":zt(t,u,r);break;case"s":var c=Tt(t,r);o.length<=2||0===o[2]?at(u):(ut(t,c.length===St(c),r,"string contains zeros"),Et(o,46)<0&&c.length>=100?at(u):(nt(u,Nt(l(String.fromCharCode.apply(String,o),yt(c)))),U(t,1)));break;default:return vt(t,Nt("invalid option '%%%c' to 'format'"),n[a-1])}}return bt(u),1},gmatch:function(t){var e=_t(t,1),r=_t(t,2),n=e.length,a=r.length;H(t,2);var u=new xe;return M(t,u),be(u.ms,t,e,n,r,a),u.src=0,u.p=0,u.lastmatch=null,I(t,Oe,3),1},gsub:function(t){var e=_t(t,1),r=e.length,n=_t(t,2),a=n.length,u=null,o=q(t,3),s=ht(t,4,r+1),l=94===n[0],i=0,c=new ue(t),f=new Q;for(ut(t,o===T||o===x||o===b||o===O,3,"string/function/table expected"),st(t,f),l&&(n=n.subarray(1),a--),be(c,t,e,r,n,a),e=0,n=0;i<s;){var _;if(ge(c),null!==(_=he(c,e,n))&&_!==u)i++,ke(c,f,e,_,o),e=u=_;else{if(!(e<c.src_end))break;tt(f,c.src[e++])}if(l)break}return et(f,c.src.subarray(e,c.src_end),c.src_end-e),bt(f),w(t,i),2},len:function(t){return w(t,_t(t,1).length),1},lower:function(t){for(var e=_t(t,1),r=e.length,n=new Uint8Array(r),a=0;a<r;a++){var u=e[a];Kt(u)&&(u|=32),n[a]=u}return D(t,n),1},match:function(t){return Te(t,0)},pack:function(t){var e=new Q,r=new Zt(t),n={s:_t(t,1),off:0},a=1,u=0;for(B(t),st(t,e);n.off<n.s.length;){var o=te(r,u,n),s=o.opt,l=o.size,i=o.ntoalign;for(u+=i+l;i-- >0;)tt(e,0);switch(a++,s){case 0:var c=it(t,a);if(l<4){var f=1<<8*l-1;ut(t,-f<=c&&c<f,a,"integer overflow")}ee(e,c,r.islittle,l,c<0);break;case 1:var _=it(t,a);l<4&&ut(t,_>>>0<1<<8*l,a,"unsigned overflow"),ee(e,_>>>0,r.islittle,l,!1);break;case 2:var p=At(e,l),v=ct(t,a),L=new DataView(p.buffer,p.byteOffset,p.byteLength);4===l?L.setFloat32(0,v,r.islittle):L.setFloat64(0,v,r.islittle),rt(e,l);break;case 3:var h=_t(t,a),d=h.length;for(ut(t,d<=l,a,"string longer than given size"),et(e,h,d);d++<l;)tt(e,0);break;case 4:var A=_t(t,a),b=A.length;ut(t,l>=4||b<1<<8*l,a,"string length does not fit in given size"),ee(e,b,r.islittle,l,0),et(e,A,b),u+=b;break;case 5:var g=_t(t,a),T=g.length;ut(t,Et(g,0)<0,a,"strings contains zeros"),et(e,g,T),tt(e,0),u+=T+1;break;case 6:tt(e,0);case 7:case 8:a--}}return bt(e),1},packsize:function(t){for(var e=new Zt(t),r={s:_t(t,1),off:0},n=0;r.off<r.s.length;){var a=te(e,n,r),u=a.opt,o=a.size,s=a.ntoalign;switch(ut(t,n<=2147483647-(o+=s),1,"format result too large"),n+=o,u){case 4:case 5:ot(t,1,"variable-length format")}}return w(t,n),1},rep:function(t){var e=_t(t,1),r=e.length,n=it(t,2),a=dt(t,3,""),u=a.length;if(n<=0)P(t,"");else{if(r+u<r||r+u>2147483647/n)return vt(t,Nt("resulting string too large"));for(var o=n*r+(n-1)*u,s=new Q,l=lt(t,s,o),i=0;n-- >1;)l.set(e,i),i+=r,u>0&&(l.set(a,i),i+=u);l.set(e,i),gt(s,o)}return 1},reverse:function(t){for(var e=_t(t,1),r=e.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=e[r-1-a];return D(t,n),1},sub:function(t){var e=_t(t,1),r=e.length,n=Ut(it(t,2),r),a=Ut(ht(t,3,-1),r);return n<1&&(n=1),a>r&&(a=r),n<=a?D(t,e.subarray(n-1,n-1+(a-n+1))):P(t,""),1},unpack:function(t){var e=new Zt(t),r={s:_t(t,1),off:0},n=_t(t,2),a=n.length,u=Ut(ht(t,3,1),a)-1,o=0;for(ut(t,u<=a&&u>=0,3,"initial position out of string");r.off<r.s.length;){var s=te(e,u,r),l=s.opt,i=s.size,c=s.ntoalign;switch(u+c+i>a&&ot(t,2,Nt("data string too short")),u+=c,ft(t,2,"too many results"),o++,l){case 0:case 1:var f=re(t,n.subarray(u),e.islittle,i,0===l);w(t,f);break;case 2:var _=ne(0,n.subarray(u),e.islittle,i);V(t,_);break;case 3:D(t,n.subarray(u,u+i));break;case 4:var p=re(t,n.subarray(u),e.islittle,i,0);ut(t,u+p+i<=a,2,"data string too short"),D(t,n.subarray(u+i,u+i+p)),u+=p;break;case 5:var v=Et(n,0,u);-1===v&&(v=n.length-u),D(t,n.subarray(u,v)),u=v+1;break;case 7:case 6:case 8:o--}u+=i}return w(t,u+1),o+1},upper:function(t){for(var e=_t(t,1),r=e.length,n=new Uint8Array(r),a=0;a<r;a++){var u=e[a];Gt(u)&&(u&=223),n[a]=u}return D(t,n),1}};t.exports.luaopen_string=function(t){return Lt(t,me),function(t){m(t,0,1),P(t,""),G(t,-2),j(t,-2),U(t,1),G(t,-2),F(t,-2,Nt("__index",!0)),U(t,1)}(t),1}},function(t,e,r){"use strict";var n=r(2),a=n.lua_gettop,u=n.lua_pushcfunction,o=n.lua_pushfstring,s=n.lua_pushinteger,l=n.lua_pushnil,i=n.lua_pushstring,c=n.lua_pushvalue,f=n.lua_setfield,_=n.lua_tointeger,p=r(7),v=p.luaL_Buffer,L=p.luaL_addvalue,h=p.luaL_argcheck,d=p.luaL_buffinit,A=p.luaL_checkinteger,b=p.luaL_checkstack,g=p.luaL_checkstring,T=p.luaL_error,x=p.luaL_newlib,O=p.luaL_optinteger,k=p.luaL_pushresult,m=r(5),E=m.luastring_of,y=m.to_luastring,N=function(t){return 128===(192&t)},R=function(t,e){return t>=0?t:0-t>e?0:e+t+1},S=[255,127,2047,65535],U=function(t,e){var r=t[e],n=0;if(r<128)n=r;else{for(var a=0;64&r;){var u=t[e+ ++a];if(128!=(192&u))return null;n=n<<6|63&u,r<<=1}if(n|=(127&r)<<5*a,a>3||n>1114111||n<=S[a])return null;e+=a}return{code:n,pos:e+1}},I=y("%U"),w=function(t,e){var r=A(t,e);h(t,0<=r&&r<=1114111,e,"value out of range"),o(t,I,r)},M=function(t){var e=g(t,1),r=e.length,n=_(t,2)-1;if(n<0)n=0;else if(n<r)for(n++;N(e[n]);)n++;if(n>=r)return 0;var a=U(e,n);return null===a||N(e[a.pos])?T(t,y("invalid UTF-8 code")):(s(t,n+1),s(t,a.code),2)},P={char:function(t){var e=a(t);if(1===e)w(t,1);else{var r=new v;d(t,r);for(var n=1;n<=e;n++)w(t,n),L(r);k(r)}return 1},codepoint:function(t){var e=g(t,1),r=R(O(t,2,1),e.length),n=R(O(t,3,r),e.length);if(h(t,r>=1,2,"out of range"),h(t,n<=e.length,3,"out of range"),r>n)return 0;if(n-r>=Number.MAX_SAFE_INTEGER)return T(t,"string slice too long");var a=n-r+1;for(b(t,a,"string slice too long"),a=0,r-=1;r<n;){var u=U(e,r);if(null===u)return T(t,"invalid UTF-8 code");s(t,u.code),r=u.pos,a++}return a},codes:function(t){return g(t,1),u(t,M),c(t,1),s(t,0),3},len:function(t){var e=0,r=g(t,1),n=r.length,a=R(O(t,2,1),n),u=R(O(t,3,-1),n);for(h(t,1<=a&&--a<=n,2,"initial position out of string"),h(t,--u<n,3,"final position out of string");a<=u;){var o=U(r,a);if(null===o)return l(t),s(t,a+1),2;a=o.pos,e++}return s(t,e),1},offset:function(t){var e=g(t,1),r=A(t,2),n=r>=0?1:e.length+1;if(n=R(O(t,3,n),e.length),h(t,1<=n&&--n<=e.length,3,"position out of range"),0===r)for(;n>0&&N(e[n]);)n--;else if(N(e[n])&&T(t,"initial position is a continuation byte"),r<0)for(;r<0&&n>0;){do{n--}while(n>0&&N(e[n]));r++}else for(r--;r>0&&n<e.length;){do{n++}while(N(e[n]));r--}return 0===r?s(t,n+1):l(t),1}},C=E(91,0,45,127,194,45,244,93,91,128,45,191,93,42);t.exports.luaopen_utf8=function(t){return x(t,P),i(t,C),f(t,-2,y("charpattern",!0)),1}},function(t,e,r){"use strict";var n,a=r(2),u=a.LUA_OPLT,o=a.LUA_TNUMBER,s=a.lua_compare,l=a.lua_gettop,i=a.lua_isinteger,c=a.lua_isnoneornil,f=a.lua_pushboolean,_=a.lua_pushinteger,p=a.lua_pushliteral,v=a.lua_pushnil,L=a.lua_pushnumber,h=a.lua_pushvalue,d=a.lua_setfield,A=a.lua_settop,b=a.lua_tointeger,g=a.lua_tointegerx,T=a.lua_type,x=r(7),O=x.luaL_argcheck,k=x.luaL_argerror,m=x.luaL_checkany,E=x.luaL_checkinteger,y=x.luaL_checknumber,N=x.luaL_error,R=x.luaL_newlib,S=x.luaL_optnumber,U=r(3),I=U.LUA_MAXINTEGER,w=U.LUA_MININTEGER,M=U.lua_numbertointeger,P=r(5).to_luastring,C=function(){return n=1103515245*n+12345&2147483647},B=function(t,e){var r=M(e);!1!==r?_(t,r):L(t,e)},V={abs:function(t){if(i(t,1)){var e=b(t,1);e<0&&(e=0|-e),_(t,e)}else L(t,Math.abs(y(t,1)));return 1},acos:function(t){return L(t,Math.acos(y(t,1))),1},asin:function(t){return L(t,Math.asin(y(t,1))),1},atan:function(t){var e=y(t,1),r=S(t,2,1);return L(t,Math.atan2(e,r)),1},ceil:function(t){return i(t,1)?A(t,1):B(t,Math.ceil(y(t,1))),1},cos:function(t){return L(t,Math.cos(y(t,1))),1},deg:function(t){return L(t,y(t,1)*(180/Math.PI)),1},exp:function(t){return L(t,Math.exp(y(t,1))),1},floor:function(t){return i(t,1)?A(t,1):B(t,Math.floor(y(t,1))),1},fmod:function(t){if(i(t,1)&&i(t,2)){var e=b(t,2);0===e?k(t,2,"zero"):_(t,b(t,1)%e|0)}else{var r=y(t,1),n=y(t,2);L(t,r%n)}return 1},log:function(t){var e,r=y(t,1);if(c(t,2))e=Math.log(r);else{var n=y(t,2);e=2===n?Math.log2(r):10===n?Math.log10(r):Math.log(r)/Math.log(n)}return L(t,e),1},max:function(t){var e=l(t),r=1;O(t,e>=1,1,"value expected");for(var n=2;n<=e;n++)s(t,r,n,u)&&(r=n);return h(t,r),1},min:function(t){var e=l(t),r=1;O(t,e>=1,1,"value expected");for(var n=2;n<=e;n++)s(t,n,r,u)&&(r=n);return h(t,r),1},modf:function(t){if(i(t,1))A(t,1),L(t,0);else{var e=y(t,1),r=e<0?Math.ceil(e):Math.floor(e);B(t,r),L(t,e===r?0:e-r)}return 2},rad:function(t){return L(t,y(t,1)*(Math.PI/180)),1},random:function(t){var e,r,a=void 0===n?Math.random():C()/2147483648;switch(l(t)){case 0:return L(t,a),1;case 1:e=1,r=E(t,1);break;case 2:e=E(t,1),r=E(t,2);break;default:return N(t,"wrong number of arguments")}return O(t,e<=r,1,"interval is empty"),O(t,e>=0||r<=I+e,1,"interval too large"),a*=r-e+1,_(t,Math.floor(a)+e),1},randomseed:function(t){var e;return e=y(t,1),0==(n=0|e)&&(n=1),C(),0},sin:function(t){return L(t,Math.sin(y(t,1))),1},sqrt:function(t){return L(t,Math.sqrt(y(t,1))),1},tan:function(t){return L(t,Math.tan(y(t,1))),1},tointeger:function(t){var e=g(t,1);return!1!==e?_(t,e):(m(t,1),v(t)),1},type:function(t){return T(t,1)===o?i(t,1)?p(t,"integer"):p(t,"float"):(m(t,1),v(t)),1},ult:function(t){var e=E(t,1),r=E(t,2);return f(t,e>=0?r<0||e<r:r<0&&e<r),1}};t.exports.luaopen_math=function(t){return R(t,V),L(t,Math.PI),d(t,-2,P("pi",!0)),L(t,1/0),d(t,-2,P("huge",!0)),_(t,I),d(t,-2,P("maxinteger",!0)),_(t,w),d(t,-2,P("mininteger",!0)),1}},function(t,e,r){"use strict";var n,a=r(2),u=a.LUA_MASKCALL,o=a.LUA_MASKCOUNT,s=a.LUA_MASKLINE,l=a.LUA_MASKRET,i=a.LUA_REGISTRYINDEX,c=a.LUA_TFUNCTION,f=a.LUA_TNIL,_=a.LUA_TTABLE,p=a.LUA_TUSERDATA,v=a.lua_Debug,L=a.lua_call,h=a.lua_checkstack,d=a.lua_gethook,A=a.lua_gethookcount,b=a.lua_gethookmask,g=a.lua_getinfo,T=a.lua_getlocal,x=a.lua_getmetatable,O=a.lua_getstack,k=a.lua_getupvalue,m=a.lua_getuservalue,E=a.lua_insert,y=a.lua_iscfunction,N=a.lua_isfunction,R=a.lua_isnoneornil,S=a.lua_isthread,U=a.lua_newtable,I=a.lua_pcall,w=a.lua_pop,M=a.lua_pushboolean,P=a.lua_pushfstring,C=a.lua_pushinteger,B=a.lua_pushlightuserdata,V=a.lua_pushliteral,D=a.lua_pushnil,G=a.lua_pushstring,K=a.lua_pushvalue,F=a.lua_rawgetp,j=a.lua_rawsetp,H=a.lua_rotate,X=a.lua_setfield,z=a.lua_sethook,Y=a.lua_setlocal,J=a.lua_setmetatable,Z=a.lua_settop,q=a.lua_setupvalue,$=a.lua_setuservalue,W=a.lua_tojsstring,Q=a.lua_toproxy,tt=a.lua_tostring,et=a.lua_tothread,rt=a.lua_touserdata,nt=a.lua_type,at=a.lua_upvalueid,ut=a.lua_upvaluejoin,ot=a.lua_xmove,st=r(7),lt=st.luaL_argcheck,it=st.luaL_argerror,ct=st.luaL_checkany,ft=st.luaL_checkinteger,_t=st.luaL_checkstring,pt=st.luaL_checktype,vt=st.luaL_error,Lt=st.luaL_loadbuffer,ht=st.luaL_newlib,dt=st.luaL_optinteger,At=st.luaL_optstring,bt=st.luaL_traceback,gt=st.lua_writestringerror,Tt=r(17),xt=r(5),Ot=xt.luastring_indexOf,kt=xt.to_luastring,mt=function(t,e,r){t===e||h(e,r)||vt(t,kt("stack overflow",!0))},Et=function(t){return S(t,1)?{arg:1,thread:et(t,1)}:{arg:0,thread:t}},yt=function(t,e,r){G(t,r),X(t,-2,e)},Nt=function(t,e,r){C(t,r),X(t,-2,e)},Rt=function(t,e,r){M(t,r),X(t,-2,e)},St=function(t,e,r){t==e?H(t,-2,1):ot(e,t,1),X(t,-2,r)},Ut=function(t,e){var r=ft(t,2);pt(t,1,c);var n=e?k(t,1,r):q(t,1,r);return null===n?0:(G(t,n),E(t,-(e+1)),e+1)},It=function(t,e,r){var n=ft(t,r);return pt(t,e,c),lt(t,null!==k(t,e,n),r,"invalid upvalue index"),n},wt=kt("__hooks__",!0),Mt=["call","return","line","count","tail call"].map((function(t){return kt(t)})),Pt=function(t,e){F(t,i,wt);var r=rt(t,-1).get(t);r&&(r(t),G(t,Mt[e.event]),e.currentline>=0?C(t,e.currentline):D(t),Tt.lua_assert(g(t,kt("lS"),e)),L(t,2,0))},Ct={gethook:function(t){var e=Et(t).thread,r=new Uint8Array(5),n=b(e),a=d(e);if(null===a)D(t);else if(a!==Pt)V(t,"external hook");else{F(t,i,wt),rt(t,-1).get(e)(t)}return G(t,function(t,e){var r=0;return t&u&&(e[r++]=99),t&l&&(e[r++]=114),t&s&&(e[r++]=108),e.subarray(0,r)}(n,r)),C(t,A(e)),3},getinfo:function(t){var e=new v,r=Et(t),n=r.arg,a=r.thread,u=At(t,n+2,"flnStu");if(mt(t,a,3),N(t,n+1))u=P(t,kt(">%s"),u),K(t,n+1),ot(t,a,1);else if(!O(a,ft(t,n+1),e))return D(t),1;return g(a,u,e)||it(t,n+2,"invalid option"),U(t),Ot(u,83)>-1&&(yt(t,kt("source",!0),e.source),yt(t,kt("short_src",!0),e.short_src),Nt(t,kt("linedefined",!0),e.linedefined),Nt(t,kt("lastlinedefined",!0),e.lastlinedefined),yt(t,kt("what",!0),e.what)),Ot(u,108)>-1&&Nt(t,kt("currentline",!0),e.currentline),Ot(u,117)>-1&&(Nt(t,kt("nups",!0),e.nups),Nt(t,kt("nparams",!0),e.nparams),Rt(t,kt("isvararg",!0),e.isvararg)),Ot(u,110)>-1&&(yt(t,kt("name",!0),e.name),yt(t,kt("namewhat",!0),e.namewhat)),Ot(u,116)>-1&&Rt(t,kt("istailcall",!0),e.istailcall),Ot(u,76)>-1&&St(t,a,kt("activelines",!0)),Ot(u,102)>-1&&St(t,a,kt("func",!0)),1},getlocal:function(t){var e=Et(t),r=e.thread,n=e.arg,a=new v,u=ft(t,n+2);if(N(t,n+1))return K(t,n+1),G(t,T(t,null,u)),1;var o=ft(t,n+1);if(!O(r,o,a))return it(t,n+1,"level out of range");mt(t,r,1);var s=T(r,a,u);return s?(ot(r,t,1),G(t,s),H(t,-2,1),2):(D(t),1)},getmetatable:function(t){return ct(t,1),x(t,1)||D(t),1},getregistry:function(t){return K(t,i),1},getupvalue:function(t){return Ut(t,1)},getuservalue:function(t){return nt(t,1)!==p?D(t):m(t,1),1},sethook:function(t){var e,r,n,a,_=Et(t),p=_.thread,v=_.arg;if(R(t,v+1))Z(t,v+1),n=null,e=0,r=0;else{var L=_t(t,v+2);pt(t,v+1,c),r=dt(t,v+3,0),n=Pt,e=function(t,e){var r=0;return Ot(t,99)>-1&&(r|=u),Ot(t,114)>-1&&(r|=l),Ot(t,108)>-1&&(r|=s),e>0&&(r|=o),r}(L,r)}F(t,i,wt)===f?(a=new WeakMap,B(t,a),j(t,i,wt)):a=rt(t,-1);var h=Q(t,v+1);return a.set(p,h),z(p,n,e,r),0},setlocal:function(t){var e=Et(t),r=e.thread,n=e.arg,a=new v,u=ft(t,n+1),o=ft(t,n+2);if(!O(r,u,a))return it(t,n+1,"level out of range");ct(t,n+3),Z(t,n+3),mt(t,r,1),ot(t,r,1);var s=Y(r,a,o);return null===s&&w(r,1),G(t,s),1},setmetatable:function(t){var e=nt(t,2);return lt(t,e==f||e==_,2,"nil or table expected"),Z(t,2),J(t,1),1},setupvalue:function(t){return ct(t,3),Ut(t,0)},setuservalue:function(t){return pt(t,1,p),ct(t,2),Z(t,2),$(t,1),1},traceback:function(t){var e=Et(t),r=e.thread,n=e.arg,a=tt(t,n+1);if(null!==a||R(t,n+1)){var u=dt(t,n+2,t===r?1:0);bt(t,r,a,u)}else K(t,n+1);return 1},upvalueid:function(t){var e=It(t,1,2);return B(t,at(t,1,e)),1},upvaluejoin:function(t){var e=It(t,1,2),r=It(t,3,4);return lt(t,!y(t,1),1,"Lua function expected"),lt(t,!y(t,3),3,"Lua function expected"),ut(t,1,e,3,r),0}};"undefined"!=typeof window&&(n=function(){var t=prompt("lua_debug>","");return null!==t?t:""}),n&&(Ct.debug=function(t){for(;;){var e=n();if("cont"===e)return 0;if(0!==e.length){var r=kt(e);(Lt(t,r,r.length,kt("=(debug command)",!0))||I(t,0,0,0))&&gt(W(t,-1),"\n"),Z(t,0)}}});t.exports.luaopen_debug=function(t){return ht(t,Ct),1}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,u=r(3),o=u.LUA_DIRSEP,s=u.LUA_EXEC_DIR,l=u.LUA_JSPATH_DEFAULT,i=u.LUA_PATH_DEFAULT,c=u.LUA_PATH_MARK,f=u.LUA_PATH_SEP,_=r(2),p=_.LUA_OK,v=_.LUA_REGISTRYINDEX,L=_.LUA_TNIL,h=_.LUA_TTABLE,d=_.lua_callk,A=_.lua_createtable,b=_.lua_getfield,g=_.lua_insert,T=_.lua_isfunction,x=_.lua_isnil,O=_.lua_isstring,k=_.lua_newtable,m=_.lua_pop,E=_.lua_pushboolean,y=_.lua_pushcclosure,N=_.lua_pushcfunction,R=_.lua_pushfstring,S=_.lua_pushglobaltable,U=_.lua_pushlightuserdata,I=_.lua_pushliteral,w=_.lua_pushlstring,M=_.lua_pushnil,P=_.lua_pushstring,C=_.lua_pushvalue,B=_.lua_rawgeti,V=_.lua_rawgetp,D=_.lua_rawseti,G=_.lua_rawsetp,K=_.lua_remove,F=_.lua_setfield,j=_.lua_setmetatable,H=_.lua_settop,X=_.lua_toboolean,z=_.lua_tostring,Y=_.lua_touserdata,J=_.lua_upvalueindex,Z=r(7),q=Z.LUA_LOADED_TABLE,$=Z.LUA_PRELOAD_TABLE,W=Z.luaL_Buffer,Q=Z.luaL_addvalue,tt=Z.luaL_buffinit,et=Z.luaL_checkstring,rt=Z.luaL_error,nt=Z.luaL_getsubtable,at=Z.luaL_gsub,ut=Z.luaL_len,ot=Z.luaL_loadfile,st=Z.luaL_newlib,lt=Z.luaL_optstring,it=Z.luaL_pushresult,ct=Z.luaL_setfuncs,ft=r(17),_t=r(5),pt=_t.luastring_indexOf,vt=_t.to_jsstring,Lt=_t.to_luastring,ht=_t.to_uristring,dt=r(0),At="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:(0,eval)("this"),bt=Lt("__JSLIBS__"),gt=o,Tt=o,xt=Lt("luaopen_"),Ot=Lt("_"),kt=Lt("");a=function(t,e,r){e=ht(e);var a=new XMLHttpRequest;if(a.open("GET",e,!1),a.send(),a.status<200||a.status>=300)return P(t,Lt("".concat(a.status,": ").concat(a.statusText))),null;var u,o=a.response;/\/\/[#@] sourceURL=/.test(o)||(o+=" //# sourceURL="+e);try{u=Function("fengari",o)}catch(e){return P(t,Lt("".concat(e.name,": ").concat(e.message))),null}var s=u(dt);return"function"==typeof s||"object"===n(s)&&null!==s?s:void 0===s?At:(P(t,Lt("library returned unexpected type (".concat(n(s),")"))),null)};var mt;mt=function(t){t=ht(t);var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e.status>=200&&e.status<=299};var Et=function(t,e,r){var n=Rt(t,e);if(null===n){if(null===(n=a(t,e,r[0]==="*".charCodeAt(0))))return 1;St(t,e,n)}if(r[0]==="*".charCodeAt(0))return E(t,1),0;var u=function(t,e,r){var n=e[vt(r)];return n&&"function"==typeof n?n:(R(t,Lt("undefined symbol: %s"),r),null)}(t,n,r);return null===u?2:(N(t,u),0)},yt=At,Nt=function(t,e,r,n){var a="".concat(r).concat(ft.LUA_VERSUFFIX);P(t,Lt(a));var u=yt[a];void 0===u&&(u=yt[r]),void 0===u||function(t){b(t,v,Lt("LUA_NOENV"));var e=X(t,-1);return m(t,1),e}(t)?P(t,n):(u=at(t,Lt(u),Lt(f+f,!0),Lt(f+vt(kt)+f,!0)),at(t,u,kt,n),K(t,-2)),F(t,-3,e),m(t,1)},Rt=function(t,e){V(t,v,bt),b(t,-1,e);var r=Y(t,-1);return m(t,2),r},St=function(t,e,r){V(t,v,bt),U(t,r),C(t,-1),F(t,-3,e),D(t,-2,ut(t,-2)+1),m(t,1)},Ut=function(t,e){for(;e[0]===f.charCodeAt(0);)e=e.subarray(1);if(0===e.length)return null;var r=pt(e,f.charCodeAt(0));return r<0&&(r=e.length),w(t,e,r),e.subarray(r)},It=function(t,e,r,n,a){var u=new W;for(tt(t,u),0!==n[0]&&(e=at(t,e,n,a));null!==(r=Ut(t,r));){var o=at(t,z(t,-1),Lt(c,!0),e);if(K(t,-2),mt(o))return o;R(t,Lt("\n\tno file '%s'"),o),K(t,-2),Q(u)}return it(u),null},wt=function(t,e,r,n){b(t,J(1),r);var a=z(t,-1);return null===a&&rt(t,Lt("'package.%s' must be a string"),r),It(t,e,a,Lt("."),n)},Mt=function(t,e,r){return e?(P(t,r),2):rt(t,Lt("error loading module '%s' from file '%s':\n\t%s"),z(t,1),r,z(t,-1))},Pt=function(t){var e=et(t,1),r=wt(t,e,Lt("path",!0),Lt(Tt,!0));return null===r?1:Mt(t,ot(t,r)===p,r)},Ct=function(t,e,r){var n;r=at(t,r,Lt("."),Ot);var a=pt(r,"-".charCodeAt(0));if(a>=0){n=w(t,r,a),n=R(t,Lt("%s%s"),xt,n);var u=Et(t,e,n);if(2!==u)return u;r=a+1}return n=R(t,Lt("%s%s"),xt,r),Et(t,e,n)},Bt=function(t){var e=et(t,1),r=wt(t,e,Lt("jspath",!0),Lt(gt,!0));return null===r?1:Mt(t,0===Ct(t,r,e),r)},Vt=function(t){var e,r=et(t,1),n=pt(r,".".charCodeAt(0));if(n<0)return 0;w(t,r,n);var a=wt(t,z(t,-1),Lt("jspath",!0),Lt(gt,!0));return null===a?1:0!==(e=Ct(t,a,r))?2!=e?Mt(t,0,a):(P(t,Lt("\n\tno module '%s' in file '%s'"),r,a),1):(P(t,a),2)},Dt=function(t){var e=et(t,1);return b(t,v,$),b(t,-1,e)===L&&R(t,Lt("\n\tno field package.preload['%s']"),e),1},Gt=function t(e,r,n){for(;r===p?(B(e,3,n.i)===L&&(m(e,1),it(n.msg),rt(e,Lt("module '%s' not found:%s"),n.name,z(e,-1))),P(e,n.name),d(e,1,2,n,t)):r=p,!T(e,-2);n.i++)O(e,-2)?(m(e,1),Q(n.msg)):m(e,2);return n.k(e,p,n.ctx)},Kt=function(t,e,r){return P(t,r),g(t,-2),d(t,2,1,r,Ft),Ft(t,p,r)},Ft=function(t,e,r){var n=r;return x(t,-1)||F(t,2,n),b(t,2,n)==L&&(E(t,1),C(t,-1),F(t,2,n)),1},jt={loadlib:function(t){var e=et(t,1),r=et(t,2),n=Et(t,e,r);return 0===n?1:(M(t),g(t,-2),I(t,1===n?"open":"init"),3)},searchpath:function(t){return null!==It(t,et(t,1),et(t,2),lt(t,3,"."),lt(t,4,o))?1:(M(t),g(t,-2),2)}},Ht={require:function(t){var e=et(t,1);return H(t,1),b(t,v,q),b(t,2,e),X(t,-1)?1:(m(t,1),function(t,e,r,n){var a=new W;return tt(t,a),b(t,J(1),Lt("searchers",!0))!==h&&rt(t,Lt("'package.searchers' must be a table")),Gt(t,p,{name:e,i:1,msg:a,ctx:r,k:n})}(t,e,e,Kt))}};t.exports.luaopen_package=function(t){return function(t){k(t),A(t,0,1),j(t,-2),G(t,v,bt)}(t),st(t,jt),function(t){var e=[Dt,Pt,Bt,Vt,null];A(t);for(var r=0;e[r];r++)C(t,-2),y(t,e[r],1),D(t,-2,r+1);F(t,-2,Lt("searchers",!0))}(t),Nt(t,Lt("path",!0),"LUA_PATH",i),Nt(t,Lt("jspath",!0),"LUA_JSPATH",l),I(t,o+"\n"+f+"\n"+c+"\n"+s+"\n-\n"),F(t,-2,Lt("config",!0)),nt(t,v,q),F(t,-2,Lt("loaded",!0)),nt(t,v,$),F(t,-2,Lt("preload",!0)),S(t),C(t,-2),ct(t,Ht,1),m(t,1),1}},function(t,e,r){var n=r(2),a=n.lua_pushinteger,u=n.lua_pushliteral,o=n.lua_setfield,s=r(7).luaL_newlib,l=r(5),i=l.FENGARI_AUTHORS,c=l.FENGARI_COPYRIGHT,f=l.FENGARI_RELEASE,_=l.FENGARI_VERSION,p=l.FENGARI_VERSION_MAJOR,v=l.FENGARI_VERSION_MINOR,L=l.FENGARI_VERSION_NUM,h=l.FENGARI_VERSION_RELEASE,d=l.to_luastring;t.exports.luaopen_fengari=function(t){return s(t,{}),u(t,i),o(t,-2,d("AUTHORS")),u(t,c),o(t,-2,d("COPYRIGHT")),u(t,f),o(t,-2,d("RELEASE")),u(t,_),o(t,-2,d("VERSION")),u(t,p),o(t,-2,d("VERSION_MAJOR")),u(t,v),o(t,-2,d("VERSION_MINOR")),a(t,L),o(t,-2,d("VERSION_NUM")),u(t,h),o(t,-2,d("VERSION_RELEASE")),1}},function(t,e,r){"use strict";r.r(e),r.d(e,"L",(function(){return h})),r.d(e,"load",(function(){return d}));var n=r(0);r.d(e,"FENGARI_AUTHORS",(function(){return n.FENGARI_AUTHORS})),r.d(e,"FENGARI_COPYRIGHT",(function(){return n.FENGARI_COPYRIGHT})),r.d(e,"FENGARI_RELEASE",(function(){return n.FENGARI_RELEASE})),r.d(e,"FENGARI_VERSION",(function(){return n.FENGARI_VERSION})),r.d(e,"FENGARI_VERSION_MAJOR",(function(){return n.FENGARI_VERSION_MAJOR})),r.d(e,"FENGARI_VERSION_MINOR",(function(){return n.FENGARI_VERSION_MINOR})),r.d(e,"FENGARI_VERSION_NUM",(function(){return n.FENGARI_VERSION_NUM})),r.d(e,"FENGARI_VERSION_RELEASE",(function(){return n.FENGARI_VERSION_RELEASE})),r.d(e,"luastring_eq",(function(){return n.luastring_eq})),r.d(e,"luastring_indexOf",(function(){return n.luastring_indexOf})),r.d(e,"luastring_of",(function(){return n.luastring_of})),r.d(e,"to_jsstring",(function(){return n.to_jsstring})),r.d(e,"to_luastring",(function(){return n.to_luastring})),r.d(e,"to_uristring",(function(){return n.to_uristring})),r.d(e,"lua",(function(){return n.lua})),r.d(e,"lauxlib",(function(){return n.lauxlib})),r.d(e,"lualib",(function(){return n.lualib}));var a=r(18);r.d(e,"interop",(function(){return a}));n.lua.LUA_ERRRUN;var u=n.lua.LUA_ERRSYNTAX,o=n.lua.LUA_OK,s=(n.lua.LUA_VERSION_MAJOR,n.lua.LUA_VERSION_MINOR,n.lua.lua_Debug,n.lua.lua_getinfo,n.lua.lua_getstack,n.lua.lua_gettop,n.lua.lua_insert,n.lua.lua_pcall,n.lua.lua_pop),l=(n.lua.lua_pushcfunction,n.lua.lua_pushstring),i=(n.lua.lua_remove,n.lua.lua_setglobal),c=n.lua.lua_tojsstring,f=n.lauxlib.luaL_loadbuffer,_=n.lauxlib.luaL_newstate,p=n.lauxlib.luaL_requiref,v=(a.checkjs,a.luaopen_js),L=(a.push,a.tojs),h=_();function d(t,e){if("string"==typeof t)t=Object(n.to_luastring)(t);else if(!(t instanceof Uint8Array))throw new TypeError("expects an array of bytes or javascript string");e=e?Object(n.to_luastring)(e):null;var r,a=f(h,t,null,e);if(r=a===u?new SyntaxError(c(h,-1)):L(h,-1),s(h,1),a!==o)throw r;return r}n.lualib.luaL_openlibs(h),p(h,Object(n.to_luastring)("js"),v,1),s(h,1),l(h,Object(n.to_luastring)(n.FENGARI_COPYRIGHT)),i(h,Object(n.to_luastring)("_COPYRIGHT")),addEventListener("message",(function(t){switch(t.data.type){case"load":var e=t.data,r=e.source,a=e.chunkname;if("string"==typeof r)r=Object(n.to_luastring)(r);else if(!(r instanceof Uint8Array))throw new TypeError("expects an array of bytes or javascript string");a=a?Object(n.to_luastring)(a):null;var l,i=f(h,r,null,a);l=i===u?c(h,-1):L(h,-1),s(h,1),i!==o?postMessage({type:"error",message:l}):postMessage({type:"result",result:l()})}}))},function(t,e,r){"use strict";var n=r(1),a=n.LUA_MULTRET,u=n.LUA_OPADD,o=n.LUA_OPBAND,s=n.LUA_OPBNOT,l=n.LUA_OPBOR,i=n.LUA_OPBXOR,c=n.LUA_OPDIV,f=n.LUA_OPIDIV,_=n.LUA_OPMOD,p=n.LUA_OPSHL,v=n.LUA_OPSHR,L=n.LUA_OPUNM,h=n.constant_types,d=h.LUA_TBOOLEAN,A=h.LUA_TLIGHTUSERDATA,b=h.LUA_TLNGSTR,g=h.LUA_TNIL,T=h.LUA_TNUMFLT,x=h.LUA_TNUMINT,O=h.LUA_TTABLE,k=n.to_luastring,m=r(4).lua_assert,E=r(21),y=r(6),N=r(16),R=r(23),S=r(9),U=r(15),I=N.OpCodesI,w=y.TValue,M={OPR_ADD:0,OPR_SUB:1,OPR_MUL:2,OPR_MOD:3,OPR_POW:4,OPR_DIV:5,OPR_IDIV:6,OPR_BAND:7,OPR_BOR:8,OPR_BXOR:9,OPR_SHL:10,OPR_SHR:11,OPR_CONCAT:12,OPR_EQ:13,OPR_LT:14,OPR_LE:15,OPR_NE:16,OPR_GT:17,OPR_GE:18,OPR_AND:19,OPR_OR:20,OPR_NOBINOPR:21},P={OPR_MINUS:0,OPR_BNOT:1,OPR_NOT:2,OPR_LEN:3,OPR_NOUNOPR:4},C=function(t){return t.t!==t.f},B=function(t,e){var r=R.expkind;if(C(t))return!1;switch(t.k){case r.VKINT:return!e||new w(x,t.u.ival);case r.VKFLT:return!e||new w(T,t.u.nval);default:return!1}},V=function(t,e,r){var n,a=e+r-1;if(t.pc>t.lasttarget&&(n=t.f.code[t.pc-1]).opcode===I.OP_LOADNIL){var u=n.A,o=u+n.B;if(u<=e&&e<=o+1||e<=u&&u<=a+1)return u<e&&(e=u),o>a&&(a=o),N.SETARG_A(n,e),void N.SETARG_B(n,a-e)}tt(t,I.OP_LOADNIL,e,r-1,0)},D=function(t,e){return t.f.code[e.u.info]},G=function(t,e){var r=t.f.code[e].sBx;return-1===r?-1:e+1+r},K=function(t,e,r){var n=t.f.code[e],a=r-(e+1);m(-1!==r),Math.abs(a)>N.MAXARG_sBx&&E.luaX_syntaxerror(t.ls,k("control structure too long",!0)),N.SETARG_sBx(n,a)},F=function(t,e,r){if(-1===r)return e;if(-1===e)e=r;else{for(var n=e,a=G(t,n);-1!==a;)a=G(t,n=a);K(t,n,r)}return e},j=function(t){var e=t.jpc;t.jpc=-1;var r=rt(t,I.OP_JMP,0,-1);return r=F(t,r,e)},H=function(t,e,r,n,a){return tt(t,e,r,n,a),j(t)},X=function(t){return t.lasttarget=t.pc,t.pc},z=function(t,e){return e>=1&&N.testTMode(t.f.code[e-1].opcode)?e-1:e},Y=function(t,e){return t.f.code[z(t,e)]},J=function(t,e,r){var n=z(t,e),a=t.f.code[n];return a.opcode===I.OP_TESTSET&&(r!==N.NO_REG&&r!==a.B?N.SETARG_A(a,r):t.f.code[n]=N.CREATE_ABC(I.OP_TEST,a.B,0,a.C),!0)},Z=function(t,e){for(;-1!==e;e=G(t,e))J(t,e,N.NO_REG)},q=function(t,e,r,n,a){for(;-1!==e;){var u=G(t,e);J(t,e,n)?K(t,e,r):K(t,e,a),e=u}},$=function(t,e){X(t),t.jpc=F(t,t.jpc,e)},W=function(t,e,r){r===t.pc?$(t,e):(m(r<t.pc),q(t,e,r,N.NO_REG,r))},Q=function(t,e){var r=t.f;return function(t){q(t,t.jpc,t.pc,N.NO_REG,t.pc),t.jpc=-1}(t),r.code[t.pc]=e,r.lineinfo[t.pc]=t.ls.lastline,t.pc++},tt=function(t,e,r,n,a){return m(N.getOpMode(e)===N.iABC),m(N.getBMode(e)!==N.OpArgN||0===n),m(N.getCMode(e)!==N.OpArgN||0===a),m(r<=N.MAXARG_A&&n<=N.MAXARG_B&&a<=N.MAXARG_C),Q(t,N.CREATE_ABC(e,r,n,a))},et=function(t,e,r,n){return m(N.getOpMode(e)===N.iABx||N.getOpMode(e)===N.iAsBx),m(N.getCMode(e)===N.OpArgN),m(r<=N.MAXARG_A&&n<=N.MAXARG_Bx),Q(t,N.CREATE_ABx(e,r,n))},rt=function(t,e,r,n){return et(t,e,r,n+N.MAXARG_sBx)},nt=function(t,e){return m(e<=N.MAXARG_Ax),Q(t,N.CREATE_Ax(I.OP_EXTRAARG,e))},at=function(t,e,r){if(r<=N.MAXARG_Bx)return et(t,I.OP_LOADK,e,r);var n=et(t,I.OP_LOADKX,e,0);return nt(t,r),n},ut=function(t,e){var r=t.freereg+e;r>t.f.maxstacksize&&(r>=255&&E.luaX_syntaxerror(t.ls,k("function or expression needs too many registers",!0)),t.f.maxstacksize=r)},ot=function(t,e){ut(t,e),t.freereg+=e},st=function(t,e){!N.ISK(e)&&e>=t.nactvar&&(t.freereg--,m(e===t.freereg))},lt=function(t,e){e.k===R.expkind.VNONRELOC&&st(t,e.u.info)},it=function(t,e,r){var n=e.k===R.expkind.VNONRELOC?e.u.info:-1,a=r.k===R.expkind.VNONRELOC?r.u.info:-1;n>a?(st(t,n),st(t,a)):(st(t,a),st(t,n))},ct=function(t,e,r){var n=t.f,a=S.luaH_get(t.L,t.ls.h,e);if(a.ttisinteger()){var u=a.value;if(u<t.nk&&n.k[u].ttype()===r.ttype()&&n.k[u].value===r.value)return u}var o=t.nk;return S.luaH_setfrom(t.L,t.ls.h,e,new y.TValue(x,o)),n.k[o]=r,t.nk++,o},ft=function(t,e){var r=new w(A,e),n=new w(x,e);return ct(t,r,n)},_t=function(t,e){var r=new w(T,e);return ct(t,r,r)},pt=function(t,e){var r=new w(d,e);return ct(t,r,r)},vt=function(t,e,r){var n=R.expkind;if(e.k===n.VCALL)N.SETARG_C(D(t,e),r+1);else if(e.k===n.VVARARG){var u=D(t,e);N.SETARG_B(u,r+1),N.SETARG_A(u,t.freereg),ot(t,1)}else m(r===a)},Lt=function(t,e){var r=R.expkind;e.k===r.VCALL?(m(2===D(t,e).C),e.k=r.VNONRELOC,e.u.info=D(t,e).A):e.k===r.VVARARG&&(N.SETARG_B(D(t,e),2),e.k=r.VRELOCABLE)},ht=function(t,e){var r=R.expkind;switch(e.k){case r.VLOCAL:e.k=r.VNONRELOC;break;case r.VUPVAL:e.u.info=tt(t,I.OP_GETUPVAL,0,e.u.info,0),e.k=r.VRELOCABLE;break;case r.VINDEXED:var n;st(t,e.u.ind.idx),e.u.ind.vt===r.VLOCAL?(st(t,e.u.ind.t),n=I.OP_GETTABLE):(m(e.u.ind.vt===r.VUPVAL),n=I.OP_GETTABUP),e.u.info=tt(t,n,0,e.u.ind.t,e.u.ind.idx),e.k=r.VRELOCABLE;break;case r.VVARARG:case r.VCALL:Lt(t,e)}},dt=function(t,e,r,n){return X(t),tt(t,I.OP_LOADBOOL,e,r,n)},At=function(t,e,r){var n=R.expkind;switch(ht(t,e),e.k){case n.VNIL:V(t,r,1);break;case n.VFALSE:case n.VTRUE:tt(t,I.OP_LOADBOOL,r,e.k===n.VTRUE,0);break;case n.VK:at(t,r,e.u.info);break;case n.VKFLT:at(t,r,_t(t,e.u.nval));break;case n.VKINT:at(t,r,ft(t,e.u.ival));break;case n.VRELOCABLE:var a=D(t,e);N.SETARG_A(a,r);break;case n.VNONRELOC:r!==e.u.info&&tt(t,I.OP_MOVE,r,e.u.info,0);break;default:return void m(e.k===n.VJMP)}e.u.info=r,e.k=n.VNONRELOC},bt=function(t,e){e.k!==R.expkind.VNONRELOC&&(ot(t,1),At(t,e,t.freereg-1))},gt=function(t,e){for(;-1!==e;e=G(t,e)){if(Y(t,e).opcode!==I.OP_TESTSET)return!0}return!1},Tt=function(t,e,r){var n=R.expkind;if(At(t,e,r),e.k===n.VJMP&&(e.t=F(t,e.t,e.u.info)),C(e)){var a,u=-1,o=-1;if(gt(t,e.t)||gt(t,e.f)){var s=e.k===n.VJMP?-1:j(t);u=dt(t,r,0,1),o=dt(t,r,1,0),$(t,s)}a=X(t),q(t,e.f,a,r,u),q(t,e.t,a,r,o)}e.f=e.t=-1,e.u.info=r,e.k=n.VNONRELOC},xt=function(t,e){ht(t,e),lt(t,e),ot(t,1),Tt(t,e,t.freereg-1)},Ot=function(t,e){if(ht(t,e),e.k===R.expkind.VNONRELOC){if(!C(e))return e.u.info;if(e.u.info>=t.nactvar)return Tt(t,e,e.u.info),e.u.info}return xt(t,e),e.u.info},kt=function(t,e){C(e)?Ot(t,e):ht(t,e)},mt=function(t,e){var r=R.expkind,n=!1;switch(kt(t,e),e.k){case r.VTRUE:e.u.info=pt(t,!0),n=!0;break;case r.VFALSE:e.u.info=pt(t,!1),n=!0;break;case r.VNIL:e.u.info=function(t){var e=new w(g,null),r=new w(O,t.ls.h);return ct(t,r,e)}(t),n=!0;break;case r.VKINT:e.u.info=ft(t,e.u.ival),n=!0;break;case r.VKFLT:e.u.info=_t(t,e.u.nval),n=!0;break;case r.VK:n=!0}return n&&(e.k=r.VK,e.u.info<=N.MAXINDEXRK)?N.RKASK(e.u.info):Ot(t,e)},Et=function(t,e){var r=Y(t,e.u.info);m(N.testTMode(r.opcode)&&r.opcode!==I.OP_TESTSET&&r.opcode!==I.OP_TEST),N.SETARG_A(r,!r.A)},yt=function(t,e,r){if(e.k===R.expkind.VRELOCABLE){var n=D(t,e);if(n.opcode===I.OP_NOT)return t.pc--,H(t,I.OP_TEST,n.B,0,!r)}return bt(t,e),lt(t,e),H(t,I.OP_TESTSET,N.NO_REG,e.u.info,r)},Nt=function(t,e){var r,n=R.expkind;switch(ht(t,e),e.k){case n.VJMP:Et(t,e),r=e.u.info;break;case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:r=-1;break;default:r=yt(t,e,0)}e.f=F(t,e.f,r),$(t,e.t),e.t=-1},Rt=function(t,e){var r,n=R.expkind;switch(ht(t,e),e.k){case n.VJMP:r=e.u.info;break;case n.VNIL:case n.VFALSE:r=-1;break;default:r=yt(t,e,1)}e.t=F(t,e.t,r),$(t,e.f),e.f=-1},St=function(t,e,r){var n,a,u=R.expkind;if(!(n=B(e,!0))||!(a=B(r,!0))||!function(t,e,r){switch(t){case o:case l:case i:case p:case v:case s:return!1!==U.tointeger(e)&&!1!==U.tointeger(r);case c:case f:case _:return 0!==r.value;default:return 1}}(t,n,a))return 0;var L=new w;if(y.luaO_arith(null,t,n,a,L),L.ttisinteger())e.k=u.VKINT,e.u.ival=L.value;else{var h=L.value;if(isNaN(h)||0===h)return!1;e.k=u.VKFLT,e.u.nval=h}return!0},Ut=function(t,e,r,n,a){var u=mt(t,n),o=mt(t,r);it(t,r,n),r.u.info=tt(t,e,0,o,u),r.k=R.expkind.VRELOCABLE,It(t,a)},It=function(t,e){t.f.lineinfo[t.pc-1]=e};t.exports.BinOpr=M,t.exports.NO_JUMP=-1,t.exports.UnOpr=P,t.exports.getinstruction=D,t.exports.luaK_checkstack=ut,t.exports.luaK_code=Q,t.exports.luaK_codeABC=tt,t.exports.luaK_codeABx=et,t.exports.luaK_codeAsBx=rt,t.exports.luaK_codek=at,t.exports.luaK_concat=F,t.exports.luaK_dischargevars=ht,t.exports.luaK_exp2RK=mt,t.exports.luaK_exp2anyreg=Ot,t.exports.luaK_exp2anyregup=function(t,e){(e.k!==R.expkind.VUPVAL||C(e))&&Ot(t,e)},t.exports.luaK_exp2nextreg=xt,t.exports.luaK_exp2val=kt,t.exports.luaK_fixline=It,t.exports.luaK_getlabel=X,t.exports.luaK_goiffalse=Rt,t.exports.luaK_goiftrue=Nt,t.exports.luaK_indexed=function(t,e,r){var n=R.expkind;m(!C(e)&&(R.vkisinreg(e.k)||e.k===n.VUPVAL)),e.u.ind.t=e.u.info,e.u.ind.idx=mt(t,r),e.u.ind.vt=e.k===n.VUPVAL?n.VUPVAL:n.VLOCAL,e.k=n.VINDEXED},t.exports.luaK_infix=function(t,e,r){switch(e){case M.OPR_AND:Nt(t,r);break;case M.OPR_OR:Rt(t,r);break;case M.OPR_CONCAT:xt(t,r);break;case M.OPR_ADD:case M.OPR_SUB:case M.OPR_MUL:case M.OPR_DIV:case M.OPR_IDIV:case M.OPR_MOD:case M.OPR_POW:case M.OPR_BAND:case M.OPR_BOR:case M.OPR_BXOR:case M.OPR_SHL:case M.OPR_SHR:B(r,!1)||mt(t,r);break;default:mt(t,r)}},t.exports.luaK_intK=ft,t.exports.luaK_jump=j,t.exports.luaK_jumpto=function(t,e){return W(t,j(t),e)},t.exports.luaK_nil=V,t.exports.luaK_numberK=_t,t.exports.luaK_patchclose=function(t,e,r){for(r++;-1!==e;e=G(t,e)){var n=t.f.code[e];m(n.opcode===I.OP_JMP&&(0===n.A||n.A>=r)),N.SETARG_A(n,r)}},t.exports.luaK_patchlist=W,t.exports.luaK_patchtohere=$,t.exports.luaK_posfix=function(t,e,r,n,a){var o=R.expkind;switch(e){case M.OPR_AND:m(-1===r.t),ht(t,n),n.f=F(t,n.f,r.f),r.to(n);break;case M.OPR_OR:m(-1===r.f),ht(t,n),n.t=F(t,n.t,r.t),r.to(n);break;case M.OPR_CONCAT:kt(t,n);var s=D(t,n);n.k===o.VRELOCABLE&&s.opcode===I.OP_CONCAT?(m(r.u.info===s.B-1),lt(t,r),N.SETARG_B(s,r.u.info),r.k=o.VRELOCABLE,r.u.info=n.u.info):(xt(t,n),Ut(t,I.OP_CONCAT,r,n,a));break;case M.OPR_ADD:case M.OPR_SUB:case M.OPR_MUL:case M.OPR_DIV:case M.OPR_IDIV:case M.OPR_MOD:case M.OPR_POW:case M.OPR_BAND:case M.OPR_BOR:case M.OPR_BXOR:case M.OPR_SHL:case M.OPR_SHR:St(e+u,r,n)||Ut(t,e+I.OP_ADD,r,n,a);break;case M.OPR_EQ:case M.OPR_LT:case M.OPR_LE:case M.OPR_NE:case M.OPR_GT:case M.OPR_GE:!function(t,e,r,n){var a,u=R.expkind;r.k===u.VK?a=N.RKASK(r.u.info):(m(r.k===u.VNONRELOC),a=r.u.info);var o=mt(t,n);switch(it(t,r,n),e){case M.OPR_NE:r.u.info=H(t,I.OP_EQ,0,a,o);break;case M.OPR_GT:case M.OPR_GE:var s=e-M.OPR_NE+I.OP_EQ;r.u.info=H(t,s,1,o,a);break;default:var l=e-M.OPR_EQ+I.OP_EQ;r.u.info=H(t,l,1,a,o)}r.k=u.VJMP}(t,e,r,n)}return r},t.exports.luaK_prefix=function(t,e,r,n){var a=new R.expdesc;switch(a.k=R.expkind.VKINT,a.u.ival=a.u.nval=a.u.info=0,a.t=-1,a.f=-1,e){case P.OPR_MINUS:case P.OPR_BNOT:if(St(e+L,r,a))break;case P.OPR_LEN:!function(t,e,r,n){var a=Ot(t,r);lt(t,r),r.u.info=tt(t,e,0,a,0),r.k=R.expkind.VRELOCABLE,It(t,n)}(t,e+I.OP_UNM,r,n);break;case P.OPR_NOT:!function(t,e){var r=R.expkind;switch(ht(t,e),e.k){case r.VNIL:case r.VFALSE:e.k=r.VTRUE;break;case r.VK:case r.VKFLT:case r.VKINT:case r.VTRUE:e.k=r.VFALSE;break;case r.VJMP:Et(t,e);break;case r.VRELOCABLE:case r.VNONRELOC:bt(t,e),lt(t,e),e.u.info=tt(t,I.OP_NOT,0,e.u.info,0),e.k=r.VRELOCABLE}var n=e.f;e.f=e.t,e.t=n,Z(t,e.f),Z(t,e.t)}(t,r)}},t.exports.luaK_reserveregs=ot,t.exports.luaK_ret=function(t,e,r){tt(t,I.OP_RETURN,e,r+1,0)},t.exports.luaK_self=function(t,e,r){Ot(t,e);var n=e.u.info;lt(t,e),e.u.info=t.freereg,e.k=R.expkind.VNONRELOC,ot(t,2),tt(t,I.OP_SELF,e.u.info,n,mt(t,r)),lt(t,r)},t.exports.luaK_setlist=function(t,e,r,n){var u=(r-1)/N.LFIELDS_PER_FLUSH+1,o=n===a?0:n;m(0!==n&&n<=N.LFIELDS_PER_FLUSH),u<=N.MAXARG_C?tt(t,I.OP_SETLIST,e,o,u):u<=N.MAXARG_Ax?(tt(t,I.OP_SETLIST,e,o,0),nt(t,u)):E.luaX_syntaxerror(t.ls,k("constructor too long",!0)),t.freereg=e+1},t.exports.luaK_setmultret=function(t,e){vt(t,e,a)},t.exports.luaK_setoneret=Lt,t.exports.luaK_setreturns=vt,t.exports.luaK_storevar=function(t,e,r){var n=R.expkind;switch(e.k){case n.VLOCAL:return lt(t,r),void Tt(t,r,e.u.info);case n.VUPVAL:var a=Ot(t,r);tt(t,I.OP_SETUPVAL,a,e.u.info,0);break;case n.VINDEXED:var u=e.u.ind.vt===n.VLOCAL?I.OP_SETTABLE:I.OP_SETTABUP,o=mt(t,r);tt(t,u,e.u.ind.t,e.u.ind.idx,o)}lt(t,r)},t.exports.luaK_stringK=function(t,e){var r=new w(b,e);return ct(t,r,r)}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var o=r(1),s=o.LUA_SIGNATURE,l=o.constant_types,i=l.LUA_TBOOLEAN,c=l.LUA_TLNGSTR,f=l.LUA_TNIL,_=l.LUA_TNUMFLT,p=l.LUA_TNUMINT,v=l.LUA_TSHRSTR,L=o.thread_status.LUA_ERRSYNTAX,h=o.is_luastring,d=o.luastring_eq,A=o.to_luastring,b=r(8),g=r(13),T=r(6),x=r(16),O=x.MAXARG_sBx,k=x.POS_A,m=x.POS_Ax,E=x.POS_B,y=x.POS_Bx,N=x.POS_C,R=x.POS_OP,S=x.SIZE_A,U=x.SIZE_Ax,I=x.SIZE_B,w=x.SIZE_Bx,M=x.SIZE_C,P=x.SIZE_OP,C=r(4).lua_assert,B=r(10).luaS_bless,V=r(20),D=V.luaZ_read,G=V.ZIO,K=[25,147,13,10,26,10],F=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intSize=4,this.size_tSize=4,this.instructionSize=4,this.integerSize=4,this.numberSize=8,C(r instanceof G,"BytecodeParser only operates on a ZIO"),C(h(n)),64===n[0]||61===n[0]?this.name=n.subarray(1):n[0]==s[0]?this.name=A("binary string",!0):this.name=n,this.L=e,this.Z=r,this.arraybuffer=new ArrayBuffer(Math.max(this.intSize,this.size_tSize,this.instructionSize,this.integerSize,this.numberSize)),this.dv=new DataView(this.arraybuffer),this.u8=new Uint8Array(this.arraybuffer)}return e=t,n=[{key:"MASK1",value:function(t,e){return~(-1<<t)<<e}}],(r=[{key:"read",value:function(t){var e=new Uint8Array(t);return 0!==D(this.Z,e,0,t)&&this.error("truncated"),e}},{key:"LoadByte",value:function(){return 0!==D(this.Z,this.u8,0,1)&&this.error("truncated"),this.u8[0]}},{key:"LoadInt",value:function(){return 0!==D(this.Z,this.u8,0,this.intSize)&&this.error("truncated"),this.dv.getInt32(0,!0)}},{key:"LoadNumber",value:function(){return 0!==D(this.Z,this.u8,0,this.numberSize)&&this.error("truncated"),this.dv.getFloat64(0,!0)}},{key:"LoadInteger",value:function(){return 0!==D(this.Z,this.u8,0,this.integerSize)&&this.error("truncated"),this.dv.getInt32(0,!0)}},{key:"LoadSize_t",value:function(){return this.LoadInteger()}},{key:"LoadString",value:function(){var t=this.LoadByte();return 255===t&&(t=this.LoadSize_t()),0===t?null:B(this.L,this.read(t-1))}},{key:"LoadCode",value:function(e){for(var r=this.LoadInt(),n=t,a=0;a<r;a++){0!==D(this.Z,this.u8,0,this.instructionSize)&&this.error("truncated");var u=this.dv.getUint32(0,!0);e.code[a]={code:u,opcode:u>>R&n.MASK1(P,0),A:u>>k&n.MASK1(S,0),B:u>>E&n.MASK1(I,0),C:u>>N&n.MASK1(M,0),Bx:u>>y&n.MASK1(w,0),Ax:u>>m&n.MASK1(U,0),sBx:(u>>y&n.MASK1(w,0))-O}}}},{key:"LoadConstants",value:function(t){for(var e=this.LoadInt(),r=0;r<e;r++){var n=this.LoadByte();switch(n){case f:t.k.push(new T.TValue(f,null));break;case i:t.k.push(new T.TValue(i,0!==this.LoadByte()));break;case _:t.k.push(new T.TValue(_,this.LoadNumber()));break;case p:t.k.push(new T.TValue(p,this.LoadInteger()));break;case v:case c:t.k.push(new T.TValue(c,this.LoadString()));break;default:this.error("unrecognized constant '".concat(n,"'"))}}}},{key:"LoadProtos",value:function(t){for(var e=this.LoadInt(),r=0;r<e;r++)t.p[r]=new g.Proto(this.L),this.LoadFunction(t.p[r],t.source)}},{key:"LoadUpvalues",value:function(t){for(var e=this.LoadInt(),r=0;r<e;r++)t.upvalues[r]={name:null,instack:this.LoadByte(),idx:this.LoadByte()}}},{key:"LoadDebug",value:function(t){for(var e=this.LoadInt(),r=0;r<e;r++)t.lineinfo[r]=this.LoadInt();e=this.LoadInt();for(var n=0;n<e;n++)t.locvars[n]={varname:this.LoadString(),startpc:this.LoadInt(),endpc:this.LoadInt()};e=this.LoadInt();for(var a=0;a<e;a++)t.upvalues[a].name=this.LoadString()}},{key:"LoadFunction",value:function(t,e){t.source=this.LoadString(),null===t.source&&(t.source=e),t.linedefined=this.LoadInt(),t.lastlinedefined=this.LoadInt(),t.numparams=this.LoadByte(),t.is_vararg=0!==this.LoadByte(),t.maxstacksize=this.LoadByte(),this.LoadCode(t),this.LoadConstants(t),this.LoadUpvalues(t),this.LoadProtos(t),this.LoadDebug(t)}},{key:"checkliteral",value:function(t,e){var r=this.read(t.length);d(r,t)||this.error(e)}},{key:"checkHeader",value:function(){this.checkliteral(s.subarray(1),"not a"),83!==this.LoadByte()&&this.error("version mismatch in"),0!==this.LoadByte()&&this.error("format mismatch in"),this.checkliteral(K,"corrupted"),this.intSize=this.LoadByte(),this.size_tSize=this.LoadByte(),this.instructionSize=this.LoadByte(),this.integerSize=this.LoadByte(),this.numberSize=this.LoadByte(),this.checksize(this.intSize,4,"int"),this.checksize(this.size_tSize,4,"size_t"),this.checksize(this.instructionSize,4,"instruction"),this.checksize(this.integerSize,4,"integer"),this.checksize(this.numberSize,8,"number"),22136!==this.LoadInteger()&&this.error("endianness mismatch in"),370.5!==this.LoadNumber()&&this.error("float format mismatch in")}},{key:"error",value:function(t){T.luaO_pushfstring(this.L,A("%s: %s precompiled chunk"),this.name,A(t)),b.luaD_throw(this.L,L)}},{key:"checksize",value:function(t,e,r){t!==e&&this.error("".concat(r," size mismatch in"))}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();t.exports.luaU_undump=function(t,e,r){var n=new F(t,e,r);n.checkHeader();var a=g.luaF_newLclosure(t,n.LoadByte());return b.luaD_inctop(t),t.stack[t.top-1].setclLvalue(a),a.p=new g.Proto(t),n.LoadFunction(a.p,null),C(a.nupvalues===a.p.upvalues.length),a}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var s=r(1),l=s.LUA_SIGNATURE,i=s.LUA_VERSION_MAJOR,c=s.LUA_VERSION_MINOR,f=s.constant_types,_=f.LUA_TBOOLEAN,p=f.LUA_TLNGSTR,v=f.LUA_TNIL,L=f.LUA_TNUMFLT,h=f.LUA_TNUMINT,d=f.LUA_TSHRSTR,A=s.luastring_of,b=A(25,147,13,10,26,10),g=16*Number(i)+Number(c),T=u((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.L=null,this.write=null,this.data=null,this.strip=NaN,this.status=NaN})),x=function(t,e,r){0===r.status&&e>0&&(r.status=r.writer(r.L,t,e,r.data))},O=function(t,e){x(A(t),1,e)},k=function(t,e){var r=new ArrayBuffer(4);new DataView(r).setInt32(0,t,!0);var n=new Uint8Array(r);x(n,4,e)},m=function(t,e){var r=new ArrayBuffer(4);new DataView(r).setInt32(0,t,!0);var n=new Uint8Array(r);x(n,4,e)},E=function(t,e){var r=new ArrayBuffer(8);new DataView(r).setFloat64(0,t,!0);var n=new Uint8Array(r);x(n,8,e)},y=function(t,e){if(null===t)O(0,e);else{var r=t.tsslen()+1,n=t.getstr();r<255?O(r,e):(O(255,e),m(r,e)),x(n,r-1,e)}},N=function(t,e){var r=t.p.length;k(r,e);for(var n=0;n<r;n++)R(t.p[n],t.source,e)},R=function(t,e,r){r.strip||t.source===e?y(null,r):y(t.source,r),k(t.linedefined,r),k(t.lastlinedefined,r),O(t.numparams,r),O(t.is_vararg?1:0,r),O(t.maxstacksize,r),function(t,e){var r=t.code.map((function(t){return t.code}));k(r.length,e);for(var n=0;n<r.length;n++)k(r[n],e)}(t,r),function(t,e){var r=t.k.length;k(r,e);for(var n=0;n<r;n++){var a=t.k[n];switch(O(a.ttype(),e),a.ttype()){case v:break;case _:O(a.value?1:0,e);break;case L:E(a.value,e);break;case h:m(a.value,e);break;case d:case p:y(a.tsvalue(),e)}}}(t,r),function(t,e){var r=t.upvalues.length;k(r,e);for(var n=0;n<r;n++)O(t.upvalues[n].instack?1:0,e),O(t.upvalues[n].idx,e)}(t,r),N(t,r),function(t,e){var r=e.strip?0:t.lineinfo.length;k(r,e);for(var n=0;n<r;n++)k(t.lineinfo[n],e);r=e.strip?0:t.locvars.length,k(r,e);for(var a=0;a<r;a++)y(t.locvars[a].varname,e),k(t.locvars[a].startpc,e),k(t.locvars[a].endpc,e);r=e.strip?0:t.upvalues.length,k(r,e);for(var u=0;u<r;u++)y(t.upvalues[u].name,e)}(t,r)};t.exports.luaU_dump=function(t,e,r,n,a){var u=new T;return u.L=t,u.writer=r,u.data=n,u.strip=a,u.status=0,function(t){x(l,l.length,t),O(g,t),O(0,t),x(b,b.length,t),O(4,t),O(4,t),O(4,t),O(4,t),O(8,t),m(22136,t),E(370.5,t)}(u),O(e.upvalues.length,u),R(e,null,u),u.status}},function(t,e,r){var n;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){"use strict";var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(t){return l(c(t),arguments)}function s(t,e){return o.apply(null,[t].concat(e||[]))}function l(t,e){var r,n,s,l,i,c,f,_,p,v=1,L=t.length,h="";for(n=0;n<L;n++)if("string"==typeof t[n])h+=t[n];else if("object"===a(t[n])){if((l=t[n]).keys)for(r=e[v],s=0;s<l.keys.length;s++){if(null==r)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',l.keys[s],l.keys[s-1]));r=r[l.keys[s]]}else r=l.param_no?e[l.param_no]:e[v++];if(u.not_type.test(l.type)&&u.not_primitive.test(l.type)&&r instanceof Function&&(r=r()),u.numeric_arg.test(l.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(o("[sprintf] expecting number but found %T",r));switch(u.number.test(l.type)&&(_=r>=0),l.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,l.width?parseInt(l.width):0);break;case"e":r=l.precision?parseFloat(r).toExponential(l.precision):parseFloat(r).toExponential();break;case"f":r=l.precision?parseFloat(r).toFixed(l.precision):parseFloat(r);break;case"g":r=l.precision?String(Number(r.toPrecision(l.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=l.precision?r.substring(0,l.precision):r;break;case"t":r=String(!!r),r=l.precision?r.substring(0,l.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=l.precision?r.substring(0,l.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=l.precision?r.substring(0,l.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}u.json.test(l.type)?h+=r:(!u.number.test(l.type)||_&&!l.sign?p="":(p=_?"+":"-",r=r.toString().replace(u.sign,"")),c=l.pad_char?"0"===l.pad_char?"0":l.pad_char.charAt(1):" ",f=l.width-(p+r).length,i=l.width&&f>0?c.repeat(f):"",h+=l.align?p+r+i:"0"===c?p+i+r:i+p+r)}return h}var i=Object.create(null);function c(t){if(i[t])return i[t];for(var e,r=t,n=[],a=0;r;){if(null!==(e=u.text.exec(r)))n.push(e[0]);else if(null!==(e=u.modulo.exec(r)))n.push("%");else{if(null===(e=u.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){a|=1;var o=[],s=e[2],l=[];if(null===(l=u.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(l[1]);""!==(s=s.substring(l[0].length));)if(null!==(l=u.key_access.exec(s)))o.push(l[1]);else{if(null===(l=u.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(l[1])}e[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return i[t]=n}e.sprintf=o,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=s,void 0===(n=function(){return{sprintf:o,vsprintf:s}}.call(e,r,e,t))||(t.exports=n))}()},function(t,e,r){"use strict";var n=r(2).lua_pop,a=r(7).luaL_requiref,u=r(5).to_luastring,o={};t.exports.luaL_openlibs=function(t){for(var e in o)a(t,u(e),o[e],1),n(t,1)};var s=r(17),l=r(24).luaopen_base,i=r(25).luaopen_coroutine,c=r(31).luaopen_debug,f=r(30).luaopen_math,_=r(32).luaopen_package,p=r(27).luaopen_os,v=r(28).luaopen_string,L=r(26).luaopen_table,h=r(29).luaopen_utf8;o._G=l,o[s.LUA_LOADLIBNAME]=_,o[s.LUA_COLIBNAME]=i,o[s.LUA_TABLIBNAME]=L,o[s.LUA_OSLIBNAME]=p,o[s.LUA_STRLIBNAME]=v,o[s.LUA_MATHLIBNAME]=f,o[s.LUA_UTF8LIBNAME]=h,o[s.LUA_DBLIBNAME]=c;var d=r(33).luaopen_fengari;o[s.LUA_FENGARILIBNAME]=d}]);void 0===LIB&&console.error("esm-webpack-plugin: nothing exported!");const _LIB$FENGARI_AUTHORS=LIB.FENGARI_AUTHORS,_LIB$FENGARI_COPYRIGHT=LIB.FENGARI_COPYRIGHT,_LIB$FENGARI_RELEASE=LIB.FENGARI_RELEASE,_LIB$FENGARI_VERSION=LIB.FENGARI_VERSION,_LIB$FENGARI_VERSION_MAJOR=LIB.FENGARI_VERSION_MAJOR,_LIB$FENGARI_VERSION_MINOR=LIB.FENGARI_VERSION_MINOR,_LIB$FENGARI_VERSION_NUM=LIB.FENGARI_VERSION_NUM,_LIB$FENGARI_VERSION_RELEASE=LIB.FENGARI_VERSION_RELEASE,_LIB$luastring_eq=LIB.luastring_eq,_LIB$luastring_indexOf=LIB.luastring_indexOf,_LIB$luastring_of=LIB.luastring_of,_LIB$to_jsstring=LIB.to_jsstring,_LIB$to_luastring=LIB.to_luastring,_LIB$to_uristring=LIB.to_uristring,_LIB$lua=LIB.lua,_LIB$lauxlib=LIB.lauxlib,_LIB$lualib=LIB.lualib,_LIB$interop=LIB.interop,_LIB$L=LIB.L,_LIB$load=LIB.load;export{_LIB$FENGARI_AUTHORS as FENGARI_AUTHORS,_LIB$FENGARI_COPYRIGHT as FENGARI_COPYRIGHT,_LIB$FENGARI_RELEASE as FENGARI_RELEASE,_LIB$FENGARI_VERSION as FENGARI_VERSION,_LIB$FENGARI_VERSION_MAJOR as FENGARI_VERSION_MAJOR,_LIB$FENGARI_VERSION_MINOR as FENGARI_VERSION_MINOR,_LIB$FENGARI_VERSION_NUM as FENGARI_VERSION_NUM,_LIB$FENGARI_VERSION_RELEASE as FENGARI_VERSION_RELEASE,_LIB$luastring_eq as luastring_eq,_LIB$luastring_indexOf as luastring_indexOf,_LIB$luastring_of as luastring_of,_LIB$to_jsstring as to_jsstring,_LIB$to_luastring as to_luastring,_LIB$to_uristring as to_uristring,_LIB$lua as lua,_LIB$lauxlib as lauxlib,_LIB$lualib as lualib,_LIB$interop as interop,_LIB$L as L,_LIB$load as load};